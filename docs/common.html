<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="description" content="openEHR Common Information Model specification">
<meta name="keywords" content="common, EHR, reference model, openehr">
<title>Common Information Model</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
<link rel="stylesheet" href="https://specifications.openehr.org/styles/pygments-default.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_common_information_model">Common Information Model</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_editor">Editor</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
<li><a href="#_conformance">1.5. Conformance</a></li>
</ul>
</li>
<li><a href="#_overview">2. Overview</a></li>
<li><a href="#_archetyped_package">3. Archetyped Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">3.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_the_pathable_class">3.1.1. The PATHABLE Class</a></li>
<li><a href="#_the_locatable_class">3.1.2. The LOCATABLE Class</a>
<ul class="sectlevel4">
<li><a href="#_unique_node_identification">3.1.2.1. Unique Node Identification</a></li>
</ul>
</li>
<li><a href="#_feeder_system_audit">3.1.3. Feeder System Audit</a>
<ul class="sectlevel4">
<li><a href="#_requirements">3.1.3.1. Requirements</a></li>
<li><a href="#_design_principles">3.1.3.2. Design Principles</a></li>
<li><a href="#_meta_data">3.1.3.3. Meta-data</a></li>
<li><a href="#_traceability">3.1.3.4. Traceability</a></li>
<li><a href="#_version_detection">3.1.3.5. Version Detection</a></li>
<li><a href="#_duplicate_detection">3.1.3.6. Duplicate Detection</a></li>
<li><a href="#_differentially_coded_data">3.1.3.7. Differentially Coded Data</a></li>
<li><a href="#_using_feeder_audit_in_converted_data">3.1.3.8. Using Feeder Audit in Converted Data</a></li>
<li><a href="#_structural_correspondence">3.1.3.9. Structural Correspondence</a></li>
<li><a href="#_original_content">3.1.3.10. Original Content</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_class_definitions">3.2. Class Definitions</a>
<ul class="sectlevel3">
<li><a href="#_pathable_class">3.2.1. PATHABLE Class</a></li>
<li><a href="#_locatable_class">3.2.2. LOCATABLE Class</a></li>
<li><a href="#_archetyped_class">3.2.3. ARCHETYPED Class</a></li>
<li><a href="#_link_class">3.2.4. LINK Class</a></li>
<li><a href="#_feeder_audit_class">3.2.5. FEEDER_AUDIT Class</a></li>
<li><a href="#_feeder_audit_details_class">3.2.6. FEEDER_AUDIT_DETAILS Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_generic_package">4. Generic Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">4.1. Overview</a></li>
<li><a href="#_design_principles_2">4.2. Design Principles</a>
<ul class="sectlevel3">
<li><a href="#_referring_to_demographic_entities">4.2.1. Referring to Demographic Entities</a>
<ul class="sectlevel4">
<li><a href="#_party_self_and_referring_to_the_patient_from_the_ehr">4.2.1.1. PARTY_SELF and Referring to the Patient from the EHR</a></li>
</ul>
</li>
<li><a href="#_participation">4.2.2. Participation</a></li>
<li><a href="#_audit_information">4.2.3. Audit Information</a>
<ul class="sectlevel4">
<li><a href="#_audit_details">4.2.3.1. Audit Details</a></li>
<li><a href="#_revision_history">4.2.3.2. Revision History</a></li>
</ul>
</li>
<li><a href="#_attestation">4.2.4. Attestation</a></li>
</ul>
</li>
<li><a href="#_class_descriptions">4.3. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_party_proxy_class">4.3.1. PARTY_PROXY Class</a></li>
<li><a href="#_party_self_class">4.3.2. PARTY_SELF Class</a></li>
<li><a href="#_party_identified_class">4.3.3. PARTY_IDENTIFIED Class</a></li>
<li><a href="#_party_related_class">4.3.4. PARTY_RELATED Class</a></li>
<li><a href="#_participation_class">4.3.5. PARTICIPATION Class</a></li>
<li><a href="#_audit_details_class">4.3.6. AUDIT_DETAILS Class</a></li>
<li><a href="#_attestation_class">4.3.7. ATTESTATION Class</a></li>
<li><a href="#_revision_history_class">4.3.8. REVISION_HISTORY Class</a></li>
<li><a href="#_revision_history_item_class">4.3.9. REVISION_HISTORY_ITEM Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_directory_package">5. Directory Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">5.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_paths">5.1.1. Paths</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_2">5.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_versioned_folder_class">5.2.1. VERSIONED_FOLDER Class</a></li>
<li><a href="#_folder_class">5.2.2. FOLDER Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_change_control_package">6. Change Control Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_5">6.1. Overview</a></li>
<li><a href="#_basic_semantics">6.2. Basic Semantics</a>
<ul class="sectlevel3">
<li><a href="#_typing">6.2.1. Typing</a></li>
<li><a href="#_versioned_objects">6.2.2. Versioned Objects</a></li>
<li><a href="#_version_and_its_subtypes">6.2.3. Version and its Subtypes</a></li>
<li><a href="#_the_virtual_version_tree">6.2.4. The "Virtual Version Tree"</a></li>
<li><a href="#_contributions">6.2.5. Contributions</a></li>
<li><a href="#_committal_and_audits">6.2.6. Committal and Audits</a></li>
<li><a href="#_digital_signature">6.2.7. Digital Signature</a></li>
<li><a href="#_attestation_2">6.2.8. Attestation</a></li>
</ul>
</li>
<li><a href="#_versioning_semantics">6.3. Versioning Semantics</a>
<ul class="sectlevel3">
<li><a href="#_version_lifecycle">6.3.1. Version Lifecycle</a></li>
<li><a href="#_logical_deletion">6.3.2. Logical Deletion</a></li>
<li><a href="#_version_identification">6.3.3. Version Identification</a>
<ul class="sectlevel4">
<li><a href="#_local_versioning">6.3.3.1. Local Versioning</a></li>
<li><a href="#_distributed_versioning">6.3.3.2. Distributed Versioning</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_semantics_in_distributed_systems">6.4. Semantics in Distributed Systems</a>
<ul class="sectlevel3">
<li><a href="#_copying">6.4.1. Copying</a>
<ul class="sectlevel4">
<li><a href="#_the_copy_operation">6.4.1.1. The Copy Operation</a></li>
<li><a href="#_subsequent_local_modifications">6.4.1.2. Subsequent Local Modifications</a></li>
</ul>
</li>
<li><a href="#_version_merging">6.4.2. Version Merging</a></li>
<li><a href="#_disjoint_merging">6.4.3. Disjoint Merging</a></li>
<li><a href="#_moving_version_containers">6.4.4. Moving Version Containers</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_3">6.5. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_versioned_object_class">6.5.1. VERSIONED_OBJECT Class</a></li>
<li><a href="#_version_class">6.5.2. VERSION Class</a></li>
<li><a href="#_original_version_class">6.5.3. ORIGINAL_VERSION Class</a></li>
<li><a href="#_imported_version_class">6.5.4. IMPORTED_VERSION Class</a></li>
<li><a href="#_contribution_class">6.5.5. CONTRIBUTION Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_resource_package">7. Resource Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_6">7.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_natural_languages_and_translation">7.1.1. Natural Languages and Translation</a></li>
<li><a href="#_meta_data_2">7.1.2. Meta-data</a></li>
<li><a href="#_revision_history_2">7.1.3. Revision History</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_4">7.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_authored_resource_class">7.2.1. AUTHORED_RESOURCE Class</a></li>
<li><a href="#_translation_details_class">7.2.2. TRANSLATION_DETAILS Class</a></li>
<li><a href="#_resource_description_class">7.2.3. RESOURCE_DESCRIPTION Class</a></li>
<li><a href="#_resource_description_item_class">7.2.4. RESOURCE_DESCRIPTION_ITEM Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_references">References</a>
<ul class="sectlevel2">
<li><a href="#_general_it_publications">General IT Publications</a>
<ul class="sectlevel3">
<li><a href="#_articles_books">Articles, Books</a></li>
<li><a href="#_online_resources">Online Resources</a></li>
<li><a href="#_standards">Standards</a></li>
</ul>
</li>
<li><a href="#_publications_e_health">Publications - e-Health</a>
<ul class="sectlevel3">
<li><a href="#_articles_books_2">Articles, Books</a></li>
<li><a href="#_standards_2">Standards</a></li>
<li><a href="#_projects">Projects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="https://specifications.openehr.org/images/openehr_logo_large.png" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_common_information_model" class="sect0">Common Information Model</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: RM latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: STABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: common, EHR, reference model, openehr</p></td>
</tr>
</tbody>
</table>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="openehr_block_diagram.svg" alt="openEHR components" width="60%">
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2003 - 2019 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit community organisation, facilitating the sharing of health records by consumers and clinicians via open standards-based implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/RM/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record">Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>RM Release 1.0.4</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>2.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-79" target="_blank" rel="noopener">SPECRM-79</a>. Correct UML diagram of <code>VERSIONED_OBJECT.<em>owner_id</em></code> type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Iancu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>26 Nov 2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-80" target="_blank" rel="noopener">SPECRM-80</a>. Improve description of <code><em>system_id</em></code> field in <code>EHR</code>, <code>AUDIT_DETAILS</code> and <code>FEEDER_AUDIT_DETAILS</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-70" target="_blank" rel="noopener">SPECRM-70</a>. Update text in Common IM to latest openPGP specification (fixes <a href="https://specifications.openehr.org/tickets/SPECPR-216" target="_blank" rel="noopener">SPECPR-216</a>);<br>
 <a href="https://specifications.openehr.org/tickets/SPECRM-60" target="_blank" rel="noopener">SPECRM-60</a>. Add Version lifecycle state machine to RM;<br>
 <a href="https://specifications.openehr.org/tickets/SPECRM-66" target="_blank" rel="noopener">SPECRM-66</a>. Improve description in specification of <code>AUDIT_DETAILS.<em>change_type</em></code> and <code><em>description</em></code> fields. Add informative text in Section 6.2.5 Contributions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECPUB-3" target="_blank" rel="noopener">SPECPUB-3</a>. Re-instate inheritance from <code>VERSIONED_FOLDER</code> to <code>VERSIONED_OBJECT&lt;T&gt;</code> from Release 1.0.2 (lost in original UML conversion).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 May 2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-50" target="_blank" rel="noopener">SPECRM-50</a>: Change order of type parameters in <code>Hash&lt;V,K&gt;</code> type to <code>Hash&lt;K,V&gt;</code>; affects classes in <code>resource</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Bosc√°</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13 Apr 2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-48" target="_blank" rel="noopener">SPECRM-48</a>: Correct guidance on signing in Common IM - remove statement about server-side signing. (<a href="https://specifications.openehr.org/tickets/SPECPR-131" target="_blank" rel="noopener">SPECPR-131</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B Lah</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23 Feb 2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-46" target="_blank" rel="noopener">SPECRM-46</a>: Fix RM Release 1.0.3 typos and minor documentary errors. (<a href="https://specifications.openehr.org/tickets/SPECPR-159" target="_blank" rel="noopener">SPECPR-159</a>, <a href="https://specifications.openehr.org/tickets/SPECPR-155" target="_blank" rel="noopener">SPECPR-155</a>, <a href="https://specifications.openehr.org/tickets/SPECPR-156" target="_blank" rel="noopener">SPECPR-156</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">K Atalag,<br>
 S Iancu</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>RM Release 1.0.3</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-21" target="_blank" rel="noopener">SPECRM-21</a>: Make <code>PARTICIPATION.<em>mode</em></code> optional. Section 4.3.5 updated.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 Oct 2015</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-28" target="_blank" rel="noopener">SPECRM-28</a>: Improve documentation of <code>VERSION.<em>uid</em></code> to make clear that the first part of the id is the owning <code>VERSIONED_OBJECT.<em>uid</em></code> (<a href="https://specifications.openehr.org/tickets/SPECPR-90" target="_blank" rel="noopener">SPECPR-90</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-34" target="_blank" rel="noopener">SPECRM-34</a>: Add constraint to <code>VERSIONED_OBJECT.<em>uid</em></code> to prevent extension. (<a href="https://specifications.openehr.org/tickets/SPECPR-1" target="_blank" rel="noopener">SPECPR-1</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Patterson,<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0.2</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-249" target="_blank" rel="noopener">SPECRM-249</a>: Paths and locators minor errors in Architecture Overview and Common IM. Correct ordering of elements in identifier tuple. Sections 6.3.3, 6.4.1, and 6.4.2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma,<br>
 T Beale,<br>
 R Chen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Dec 2008</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECRM-257" target="_blank" rel="noopener">SPECRM-257</a>: Correct minor typos and clarify text. Complete <code>ATTESTATION</code> class purpose.  Correct UML of resource_description package - make <code>RESOURCE_DESCRIPTION</code> 1.*, <code>AUTHORED_RESOURCE</code> abstract.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma,<br>
 R Chen,<br>
 T Cook</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0.1</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-209" target="_blank" rel="noopener">SPEC-209</a>: Minor changes to correctly define <code>AUTHORED_RESOURCE.<em>current_revision</em></code>. Functions added to <code>REVISION_HISTORY</code>; <code>AUTHORED_RESOURCE.<em>current_revision</em></code> postcondition added.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y S Lim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">08 Apr 2007</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-206" target="_blank" rel="noopener">SPEC-206</a>: Change <code>LOCATABLE.<em>item_at_path</em></code> to return <code>ANY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-200" target="_blank" rel="noopener">SPEC-200</a>: Correct Release 1.0 typographical errors. Add missed invariant in <code>VERSION</code> to restrict <code><em>contribution.type</em></code> to "CONTRIBUTION". Fix pre- and post-conditions in <code>LOCATABLE</code> functions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fix errors in timezone max/min values and invariants.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Cook</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-203" target="_blank" rel="noopener">SPEC-203</a>: Release 1.0 explanatory text improvements. Move Explanatory material on configuration management and versioning to Architecture Overview.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale<br>
 E Sundvall</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-202" target="_blank" rel="noopener">SPEC-202</a>: Correct minor errors in <code>VERSION.<em>preceding_version_id</em></code>. Rename <code><em>preceding_version_id</em></code> to <code><em>preceding_version_uid</em></code>. Add <code><em>preceding_version_uid</em></code> invariant to <code>VERSION&lt;T&gt;</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-197" target="_blank" rel="noopener">SPEC-197</a>: Change <code>LOCATABLE.<em>uid</em></code> to <code>HIER_OBJECT_ID</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-214" target="_blank" rel="noopener">SPEC-214</a>: Changes to <code>VERSION</code> preparatory to EHR Extract upgrade. Added <code><em>lifecycle_state</em></code> to <code>VERSION&lt;T&gt;</code>, extra functions on <code>VERSIONED_OBJECT&lt;T&gt;</code>. Corrected and added commit functions to <code>VERSIONED_OBJECT</code>. Added <code>ATTESTATION.<em>attested_view</em></code> (conforms to CEN EN13606-1).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel<br>
 S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-212" target="_blank" rel="noopener">SPEC-212</a>: Allow <code>VERSION.<em>data</em></code> to be optional to enable logical deletion.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-130" target="_blank" rel="noopener">SPEC-130</a>: Correct security details in <code>LOCATABLE</code> and <code>ARCHETYPED</code> classes. Remove <code>ARCHETYPED.<em>access_control</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-219" target="_blank" rel="noopener">SPEC-219</a>: Use constants instead of literals to refer to terminology in RM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-231" target="_blank" rel="noopener">SPEC-231</a>: Change <code>RESOURCE_DESCRIPTION</code>.<code><em>details</em></code> from <code>List</code> to <code>Hash</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-235" target="_blank" rel="noopener">SPEC-235</a>: Make attestation-only commit require a Contribution.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Patterson</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-239" target="_blank" rel="noopener">SPEC-239</a>: Add common parent type of <code>OBJECT_VERSION_ID</code> and <code>HIER_OBJECT_ID</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-243" target="_blank" rel="noopener">SPEC-243</a>: Add <code>template_id</code> to <code>ARCHETYPED</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-244" target="_blank" rel="noopener">SPEC-244</a>: Separate <code>LOCATABLE</code> path functions into <code>PATHABLE</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-166" target="_blank" rel="noopener">SPEC-166</a>: Add viewable form of document to <code>COMPOSITION</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-246" target="_blank" rel="noopener">SPEC-246</a>: Correct openEHR terminology rubrics.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B Verhees<br>
 M Forss</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 1.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-147" target="_blank" rel="noopener">SPEC-147</a>: Make <code>DIRECTORY</code> re-usable. Add new <code>directory</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">02 Feb 2006</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-162" target="_blank" rel="noopener">SPEC-162</a>. Allow party identifiers when no demographic data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-167" target="_blank" rel="noopener">SPEC-167</a>. Add <code>AUTHORED_RESOURCE</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-179" target="_blank" rel="noopener">SPEC-179</a>. Move <code>AUDIT_DETAILS</code> to <code>generic</code> package; add <code>REVISION_HISTORY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-182" target="_blank" rel="noopener">SPEC-182</a>: Rationalise <code>VERSION.<em>lifecycle_state</em></code> and <code>ATTESTATION.<em>status</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-65" target="_blank" rel="noopener">SPEC-65</a>. Add <code>REVISION_HISTORY</code> to <code>change_control</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-187" target="_blank" rel="noopener">SPEC-187</a>: Correct modelling errors in <code>DIRECTORY</code> class and rename.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-163" target="_blank" rel="noopener">SPEC-163</a>: Add identifiers to <code>FEEDER_AUDIT</code> for originating and gateway systems.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-165" target="_blank" rel="noopener">SPEC-165</a>. Clarify use of <code><em>system_id</em></code> in <code>FEEDER_AUDIT</code> and <code>AUDIT_DETAILS</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-190" target="_blank" rel="noopener">SPEC-190</a>. Rename <code>VERSION_REPOSITORY</code> to <code>VERSIONED_OBJECT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-161" target="_blank" rel="noopener">SPEC-161</a>. Support distributed versioning. Additions to change_control package. Rename <code>REVISION_HISTORY_ITEM.<em>revision</em></code> to <code><em>version_id</em></code>, and change type to <code>OBJECT_VERSION_ID</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.96</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-159" target="_blank" rel="noopener">SPEC-159</a>. Improve explanation of use of <code>ATTESTATION</code> in change_control package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Jun 2005</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.95</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-48" target="_blank" rel="noopener">SPEC-48</a>. Pre-release review of documents. Fixed UML in Fig 8 informal model of version control.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Feb 2005</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-108" target="_blank" rel="noopener">SPEC-108</a>. Minor changes to <code>change_control</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Dec 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-24" target="_blank" rel="noopener">SPEC-24</a>. Revert <code><em>meaning</em></code> to <code>STRING</code> and rename as <code>archetype_node_id</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-97" target="_blank" rel="noopener">SPEC-97</a>. Correct errors in version diagrams in Common model.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ken Thompson</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-99" target="_blank" rel="noopener">SPEC-99</a>. <code>PARTICIPATION.<em>function</em></code> type in diagram not in sync with spec.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Shackel (DSTC)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-116" target="_blank" rel="noopener">SPEC-116</a>. Add <code>PARTICIPATION.<em>function</em></code> vocabulary and invariant.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-118" target="_blank" rel="noopener">SPEC-118</a>. Make package names lower case.  Improve presentation of <code>identification</code> section; move some text to Data Types IM document, <code>basic</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-111" target="_blank" rel="noopener">SPEC-111</a>. Move <code>identification</code> Package to <code>support</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Release 0.9</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-80" target="_blank" rel="noopener">SPEC-80</a>. Remove <code>ARCHETYPED.<em>concept</em></code> - not needed in data<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-81" target="_blank" rel="noopener">SPEC-81</a>. <code>LINK</code> should be unidirectional.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-83" target="_blank" rel="noopener">SPEC-83</a>. <code>RELATED_PARTY.<em>party</em></code> should be optional.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-85" target="_blank" rel="noopener">SPEC-85</a>. <code>LOCATABLE.<em>synthesised</em></code> not needed. Add vocabulary for <code>FEEDER_AUDIT.<em>change_type</em></code>.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-86" target="_blank" rel="noopener">SPEC-86</a>. <code>LOCATABLE.<em>presentation</em></code> not needed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">09 Mar 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-91" target="_blank" rel="noopener">SPEC-91</a>. Correct anomalies in use of <code>CODE_PHRASE</code> and <code>DV_CODED_TEXT</code>.<br>
 Changed <code>PARTICIPATION.<em>mode</em></code>, changed <code>ATTESTATION.<em>status</em></code>, <code>RELATED_PARTY.<em>relationship</em></code>, <code>VERSION_AUDIT.<em>change_type</em></code>, <code>FEEDER_AUDIT.<em>change_type</em></code> to to <code>DV_CODED_TEXT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-94" target="_blank" rel="noopener">SPEC-94</a>. Add <code><em>lifecycle</em></code> state attribute to <code>VERSION</code>; correct <code>DV_STATE</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Formally validated using ISE Eiffel 5.4.</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-71" target="_blank" rel="noopener">SPEC-71</a>. Allow version ids to be optional in <code>TERMINOLOGY_ID</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Feb 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-44" target="_blank" rel="noopener">SPEC-44</a>. Add reverse ref from <code>VERSION_REPOSITORY&lt;T&gt;</code> to owner object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-63" target="_blank" rel="noopener">SPEC-63</a>. <code>ATTESTATION</code> should have a <code><em>status</em></code> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-46" target="_blank" rel="noopener">SPEC-46</a>. Rename <code>COORDINATED_TERM</code> and <code>DV_CODED_TEXT.<em>definition</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-56" target="_blank" rel="noopener">SPEC-56</a>. References in <code>common.VERSION</code> classes should be <code>OBJECT_REFs</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">02 Nov 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-45" target="_blank" rel="noopener">SPEC-45</a>. Remove <code>VERSION_REPOSITORY.<em>status</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd, T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21 Oct 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-25" target="_blank" rel="noopener">SPEC-25</a>. Allow <code>ATTESTATIONs</code> to attest parts of <code>COMPOSITIONs</code>.  Change made due to CEN TC/251 joint WGM, Rome, Feb 2003.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-43" target="_blank" rel="noopener">SPEC-43</a>. Move External package to Common RM and rename to Identification (incorporates <a href="https://specifications.openehr.org/tickets/SPEC-36" target="_blank" rel="noopener">SPEC-36</a> - Add <code>HIER_OBJECT_ID</code> class, make <code>OBJECT_ID</code> class abstract.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Kalra,<br>
 D Lloyd,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">09 Oct 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-41" target="_blank" rel="noopener">SPEC-41</a>. Visually differentiate primitive types in openEHR documents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">04 Oct 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-13" target="_blank" rel="noopener">SPEC-13</a>. Rename key classes according to CEN ENV13606.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 D Kalra,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Sep 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-12" target="_blank" rel="noopener">SPEC-12</a>. Add presentation attribute to <code>LOCATABLE</code>.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-27" target="_blank" rel="noopener">SPEC-27</a>. Move feeder_audit to <code>LOCATABLE</code> to be compatible with CEN 13606 revision. Add new class <code>FEEDER_AUDIT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Jun 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-20" target="_blank" rel="noopener">SPEC-20</a>. Move <code>VERSION.<em>charset</em></code> to <code>DV_TEXT</code>, <code><em>territory</em></code> to <code>TRANSACTION</code>. Remove <code>VERSION.<em>language</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Jun 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPEC-7" target="_blank" rel="noopener">SPEC-7</a>. Add <code>RELATED_PARTY</code> class to <code>generic</code> package.<br>
 <a href="https://specifications.openehr.org/tickets/SPEC-17" target="_blank" rel="noopener">SPEC-17</a>. Renamed <code>VERSION.<em>parent_version_id</em></code> to <code><em>preceding_version_id</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Apr 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Major alterations due to <a href="https://specifications.openehr.org/tickets/SPEC-3" target="_blank" rel="noopener">SPEC-3</a>, <a href="https://specifications.openehr.org/tickets/SPEC-4" target="_blank" rel="noopener">SPEC-4</a>. <code>ARCHETYPED</code> class no longer inherits from <code>LOCATABLE</code>, now related by association. Redesign of Change Control package. Document structure improved. (Formally validated)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Mar 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moved External package to Support RM. Corrected <code>CONTRIBUTION</code>.  description to <code>DV_TEXT</code>. Made <code>PARTICIPATION</code>.<code><em>time</em></code> optional. (Formally validated).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formally validated using ISE Eiffel 5.2. Corrected types of <code>VERSIONABLE.<em>language</em></code>, <code><em>charset</em></code>, <code><em>territory</em></code>. Added <code>ARCHETYPED</code>.<code><em>uid</em></code>: <code>OBJECT_ID</code>. Renamed <code>ARCHETYPE_ID.<em>rm_source</em></code> to <code><em>rm_originator</em></code>, and <code><em>rm_level</em></code> to <code><em>rm_concept</em></code>; added <code><em>archetype_originator</em></code>. Rewrote archetype id section. Changed <code>PARTICIPATION.<em>mode`</em> to `COORDINATED_TERM</code> &amp; fixed invariant.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes post CEN WG meeting Rome Feb 2003. Changed <code>ARCHETYPED.<em>meaning</em></code> from <code>STRING</code> to <code>DV_TEXT</code>. Added <code>CONTRIBUTION</code>.  name invariant. Removed <code>AUTHORED_VA</code> and <code>ACQUIRED_VA</code> audit types, moved feeder audit to the EHR RM. <code>VERSIONABLE.<em>code_set</em></code> renamed to <code><em>charset</em></code>. Fixed pre/post condition of <code>OBJECT_ID.<em>context_id</em></code>, added <code>OBJECT_ID.<em>has_context_id</em></code>. Changed <code>TERMINOLOGY_ID</code> string syntax.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra,<br>
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed segment from archetype_id; corrected inconsistencies in diagrams and class texts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z Tun,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 Jan 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed inheritance from <code>VERSIONABLE</code> to <code>ARCHETYPED</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 Jan 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor corrections: <code>OBJECT_ID</code>; changed syntax of <code>TERMINOLOGY_ID</code>. Corrected Fig 6.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Nov 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Added Generic Package; added <code>PARTICIPATION</code> and changed and moved <code>ATTESTATION</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Nov 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed <code>EXTERNAL_ID.<em>iso_oid</em></code>. Remodelled <code>EXTERNAL_ID</code> into new classes - <code>OBJECT_REF</code> and <code>OBJECT_ID</code>. Remodelled all change control classes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Lloyd,<br>
 M Darlison,<br>
 A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Oct 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moved ARCHETYPE_ID.iso_oid to <code>EXTERNAL_ID</code>. <code>DV_LINK</code> no longer a data type; renamed to <code>LINK</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Oct 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed Structure package to own document. Improved CM diagrams.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Oct 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed HCA_ID. Included Spatial package from EHR RM.  Renamed <code>SPATIAL</code> to <code>STRUCTURE</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 Sep 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Taken from EHR RM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26 Aug 2002</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editor">Editor</h3>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica (UK); openEHR Foundation Management Board.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contributors">Contributors</h3>
<div class="paragraph">
<p>This specification benefited from wide formal and informal input from the openEHR and wider health informatics community. The openEHR Foundation would like to recognise the following people for their contributions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Koray Atalag PhD, University of Auckland, NZ</p>
</li>
<li>
<p>Diego Bosc√°, IBIME, Technical University Valencia, VeraTech for Health, Spain</p>
</li>
<li>
<p>Rong Chen MD, PhD, Cambio Healthcare Systems, Sweden</p>
</li>
<li>
<p>Tim Cook, Director, Data Insights</p>
</li>
<li>
<p>Matthew Darlinson, PhD, CHIME, UCL, UK</p>
</li>
<li>
<p>Heath Frankel, CTO Ocean Informatics, Australia</p>
</li>
<li>
<p>Matias Forss, Aalborg University, Denmark</p>
</li>
<li>
<p>Andrew Goodchild, PhD, senior research scientist DSTC, Australia</p>
</li>
<li>
<p>Sam Heard MD, Ocean Informatics, Australia</p>
</li>
<li>
<p>Sebastian Iancu, Architect, Code24, Netherlands</p>
</li>
<li>
<p>Dipak Kalra MD, PhD, Professor Health Informatics, CHIME, UCL, UK</p>
</li>
<li>
<p>Bostjan Lah, Architect, Marand, Slovenia</p>
</li>
<li>
<p>David Lloyd (ret), CHIME, UCL, UK</p>
</li>
<li>
<p>Chunlan Ma PhD, MD, Ocean Informatics, Australia</p>
</li>
<li>
<p>Andrew Patterson PhD, LLM, Federation Health Software, Australia</p>
</li>
<li>
<p>Pablo Pazos Gutierrez, CaboLabs, Uruguay</p>
</li>
<li>
<p>Erik Sundvall PhD, Linkoping University, Sweden</p>
</li>
<li>
<p>Zar zar Tun, DSTC, Australia</p>
</li>
<li>
<p>Bert Verhees, ROSA Software, The Netherlands.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support">Support</h3>
<div class="paragraph">
<p>The work reported in this paper has been funded in by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Marand d.o.o., Slovenia;</p>
</li>
<li>
<p>DIPS ASA, Norway;</p>
</li>
<li>
<p>University College London - Centre for Health Informatics and Multi-professional Education (CHIME);</p>
</li>
<li>
<p>Ocean Informatics;</p>
</li>
<li>
<p>Distributed Systems Technology Centre (DSTC), under the Cooperative Research Centres Program through the Department of the Prime Minister and Cabinet of the Commonwealth Government of Australia.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Special thanks to David Ingram, Emeritus Professor of Health Informatics at UCL, who provided a vision and collegial working environment ever since the days of GEHR (1992).</p>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks">Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation</p>
</li>
<li>
<p>'Java' is a registered trademark of Oracle Corporation</p>
</li>
<li>
<p>'Microsoft' is a trademark of the Microsoft Corporation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document describes the architecture of the openEHR Common Reference Model, which contains patterns used by other openEHR reference models.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standards bodies producing health informatics standards;</p>
</li>
<li>
<p>Academic groups using openEHR;</p>
</li>
<li>
<p>The open source healthcare community;</p>
</li>
<li>
<p>Solution vendors;</p>
</li>
<li>
<p>Medical informaticians and clinicians interested in health information.</p>
</li>
<li>
<p>Health data managers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Related documents include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/RM/latest/support.html" target="_blank" rel="noopener">openEHR Support Information Model</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/RM/latest/data_types.html" target="_blank" rel="noopener">openEHR Data Types Information Model</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the STABLE state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/RM/latest/common.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/RM/latest/common.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="http://lists.openehr.org/mailman/listinfo/openehr-technical_lists.openehr.org" target="_blank" rel="noopener">technical mailing list</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/RM/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/RM/history" target="_blank" rel="noopener">RM component Change Request tracker</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conformance"><a class="anchor" href="#_conformance"></a>1.5. Conformance</h3>
<div class="paragraph">
<p>Conformance of a data or software artifact to an openEHR specification is determined by a formal test of that artifact against the relevant openEHR Implementation Technology Specification(s) (ITSs), such as an IDL interface or an XML-schema. Since ITSs are formal derivations from underlying models, ITS conformance indicates model conformance.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>2. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The openEHR Common Information Model defines various abstract concepts and design patterns used in higher level openEHR models.</p>
</div>
<div class="paragraph">
<p>The <code>archetyped</code> package is informed by a number of design principles, centred on the concept of 'two-level' modelling. These principles are described in detail in <a href="#Beale_2000">[Beale_2000]</a>. The <code>generic</code> package contains classes forming 'analysis patterns' which are generic across the domain, mostly to do with referencing demographic entities from within other data including <code>PARTICIPATION</code>, <code>PARTY_PROXY</code>, <code>ATTESTATION</code> and so on.</p>
</div>
<div class="paragraph">
<p>The <code>directory</code> package provides a simple reusable abstraction of a versioned folder structure.</p>
</div>
<div class="paragraph">
<p>The <code>change_control</code> package defines the generalised semantics of changes to a logical repository, such as an EHR, over time. Each item in such a repository is version-controlled to allow the repository as a whole to be properly versioned in time. The semantics described are in response to medicolegal requirements defined in GEHR <a href="#GEHR_1995">[GEHR_1995]</a>, and in the ISO Technical Specification 18308 <a href="#ISO_18308">[ISO_18308]</a>. Both of these requirements specifications mention specifically the version control of the health record.</p>
</div>
<div class="paragraph">
<p>The <code>resource</code> package defines semantics of an online authored resource, such as a document, and supports multiple language translations, descriptive meta-data and revision history.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_archetyped_package"><a class="anchor" href="#_archetyped_package"></a>3. Archetyped Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>3.1. Overview</h3>
<div class="paragraph">
<p>The <code>archetyped</code> package defines the core types <code>PATHABLE</code>, <code>LOCATABLE</code>, <code>ARCHETYPED</code>, and <code>LINK</code>. It is illustrated in <a href="#archetyped_package">Figure 1</a>.</p>
</div>
<div id="archetyped_package" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-common.archetyped.svg" alt="RM common.archetyped">
</div>
<div class="title">Figure 1. common.archetyped Package</div>
</div>
<div class="sect3">
<h4 id="_the_pathable_class"><a class="anchor" href="#_the_pathable_class"></a>3.1.1. The PATHABLE Class</h4>
<div class="paragraph">
<p>The <code>PATHABLE</code> class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of <code>LOCATABLE</code>. The defining characteristics of <code>PATHABLE</code> objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The <code><em>parent</em></code> feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div>
<div class="paragraph">
<p>A number of functions provide the path functionality, of which <code>item_at_path()</code> and <code>items_at_path()</code> are the key functions. The former returns an item corresponding to a unique path, i.e. a path that resolves against the data structure to a single node. The latter returns a list of items corresponding to a non-unique path. These functions can be used safely using the following pattern, but can also be used without checking the validity of paths, if this is known a priori in the code anyway.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-k">if</span> <span class="tok-n">path_exists</span> <span class="tok-o">(</span><span class="tok-n">a_path</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span> <span class="tok-n">path_unique</span><span class="tok-o">(</span><span class="tok-n">a_path</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">x</span> <span class="tok-o">:=</span> <span class="tok-n">item_at_path</span><span class="tok-o">(</span><span class="tok-n">a_path</span><span class="tok-o">)</span>
            <span class="tok-c1">// process one item</span>
        <span class="tok-o">}</span>
    <span class="tok-k">else</span> <span class="tok-o">{</span>
        <span class="tok-n">list_of_x</span> <span class="tok-o">:=</span> <span class="tok-n">items_at_path</span><span class="tok-o">(</span><span class="tok-n">a_path</span><span class="tok-o">)</span>
        <span class="tok-c1">//iterate the list</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_locatable_class"><a class="anchor" href="#_the_locatable_class"></a>3.1.2. The LOCATABLE Class</h4>
<div class="paragraph">
<p>Most classes in the openEHR reference model inherit from the <code>LOCATABLE</code> class, which defines the idea of 'locatability in an archetyped structure'. <code>LOCATABLE</code> defines a runtime name and an <code><em>archetype_node_id</em></code>. The <code><em>archetype_node_id</em></code> is the standardised semantic code for a node and comes from the corresponding node in the archetype used to create the data. The only exception is at archetype root points in data, where <code><em>archetype_node_id</em></code> carries the archetype identifier in string form rather than an interior node id from an archetype. <code>LOCATABLE</code> also provides the attribute <code><em>archetype_details</em></code>, which is non-Void for archetype root points in data, and carries meta-data relevant to root points. The <code><em>name</em></code> attribute carries a name created at runtime. The 'meaning' of any node is derived formally from the archetype by obtaining the text value for the <code><em>archetype_node_id</em></code> code from the archetype <code>ontology</code> section, in the language required.</p>
</div>
<div class="paragraph">
<p>The <code><em>name</em></code> and <code><em>archetype_node_id</em></code> valuesin a <code>LOCATABLE</code> instance are often the same semantically, but may differ. For example, in "problem/SOAP" Sections (i.e. headings), the name of a section at the problem level might be "diabetes", but its meaning might be "problem". The default value for <code><em>name</em></code> should be assumed to be the text value in the local language for the <code><em>archetype_node_id</em></code> code on the node in question, unless explicitly set otherwise.</p>
</div>
<div class="sect4">
<h5 id="_unique_node_identification"><a class="anchor" href="#_unique_node_identification"></a>3.1.2.1. Unique Node Identification</h5>
<div class="paragraph">
<p><code>LOCATABLE</code> descendants may have a <code><em>uid</em></code>, containing a GUID. In the current openEHR architecture, GUIDs are not needed to identify data nodes, since paths are used to reference all nodes inside top-level structures (i.e. <code>COMPOSITIONs</code> etc). Accordingly all references between parts of an EHR are represented in terms of <code>LOCATABLE_REFs</code> or <code>DV_EHR_URIs</code> (the former is a reference to an <code>OBJECT_VERSION_ID</code> with a path appended; the latter is the stringified URI form). This would allow for example, one Entry to reference the serum sodium value in another Entry in version 2 of a Versioned Composition for a laboratory test on 12/Apr/2004. The <code><em>uid</em></code> attribute will usually be empty in most EHR data in most openEHR EHR systems.</p>
</div>
<div class="paragraph">
<p>The exception is the top-level types such as <code>COMPOSITION</code>, <code>EHR_STATUS</code>, <code>PARTY</code> etc for which it is recommended to set the <code><em>uid</em></code> value to a copy of the <code><em>uid</em></code> attribute of the owning <code>VERSION</code> object. This enables easy identification of standalone top-level objects in a serialised form.</p>
</div>
<div class="paragraph">
<p>Another use for <code>LOCATABLE</code>.<code><em>uid</em></code> is in EHR Extracts, which contain serialised expressions of EHR content. In an Extract, the <code><em>uid</em></code> could be set on some or all nodes to a value generated by concatenating the <code><em>uid</em></code> of the enclosing Version object (i.e. <code>VERSION</code>.<code><em>uid</em></code>) and the unique runtime path to the particular node. This may be useful to the receiver system for the purpose of referencing particular data nodes when communicating to the sender, or another system. This use of uids is not however mandatory, since for each node in an Extract item, the uid can be generated at any time (including at the receiver system).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
some classes in the openEHR architecture that do not inherit from <code>LOCATABLE</code> but require a uid, such as <code>VERSIONED_OBJECT</code>, <code>VERSION</code> etc, explicitly define their own <code><em>uid</em></code> attribute.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_feeder_system_audit"><a class="anchor" href="#_feeder_system_audit"></a>3.1.3. Feeder System Audit</h4>
<div class="paragraph">
<p>The data in any part of the EHR may be obtained from a feeder system, i.e. a source system which does not obey the versioning, auditing and content semantics of openEHR (data in the EHR which have been sourced from another openEHR system are dealt with in the Common IM, Change control section). The <code>FEEDER_AUDIT</code> class defines the semantics of an audit trail which is constructed to describe the origin of data that have been transformed into openEHR form and committed to the system. There are a number of aspects to the problem of transforming data for committal into an openEHR system, dealt with in the following subsections.</p>
</div>
<div class="sect4">
<h5 id="_requirements"><a class="anchor" href="#_requirements"></a>3.1.3.1. Requirements</h5>
<div class="paragraph">
<p>The model of Feeder audit is designed to satisfy the following requirements with respect to EHR content sourced from non-openEHR systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>record medico-legal audit information from the originating system (e.g. pathology lab system) similar to that captured in the <code>AUDIT_DETAILS</code> class in the <code>change_control</code> package;</p>
</li>
<li>
<p>record information identifying the immediate system from which the content was obtained (might not be the originating system);</p>
</li>
<li>
<p>record sufficient information to distinguish incoming items from each other, and to enable the detection of duplicates and new versions of the same item;</p>
</li>
<li>
<p>allow the inclusion of the source content either as a link or inline.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_design_principles"><a class="anchor" href="#_design_principles"></a>3.1.3.2. Design Principles</h5>
<div class="paragraph">
<p>The design of the Feeder audit part of the reference model is based on a generalised model of data communication in which various elements are identified, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>the originating system</em>: the computer system where the information item was initially created, e.g. the system at a pathology laboratory or a reporting system for a number of laboratories;</p>
</li>
<li>
<p><em>intermediate systems</em>: any system which moves information from the originating system to an openEHR system;</p>
</li>
<li>
<p><em>the feeder system</em>: the intermediate system from which the information item was directly obtained by the openEHR system; this might be the originating system, or it may be a distinct intermediate system;</p>
</li>
<li>
<p><em>the committing openEHR system</em>: the openEHR system where the information item is transformed into openEHR form and committed as a Composition;</p>
</li>
<li>
<p><em>openEHR converter</em>: a component whose job it is to convert non-openEHR information into a form compliant with the openEHR reference model and chosen archetypes;</p>
</li>
<li>
<p><em>original content store</em>: some EHR systems may have an associated persistent repository of content as received from external systems, e.g. a message or document database.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#feeder_chain">Figure 2</a> illustrates these elements, shown as a "feeder chain", along with typical meta-data available in messages from each system. In general, not much can be assumed about systems in the feeder chain. The originating system may or may not correspond to the place of the clinical activity - it is not uncommon for a pathology company to have a centralised report issuing location while having numerous physical laboratories. There is often limited consistency in the way identifiers are assigned, timestamps are created, and information is structured and coded. In general, information from a feeder system is in response to a request, often a pathology order, although the request/response pattern probably cannot be assumed in all cases.</p>
</div>
<div id="feeder_chain" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/feeder_chain.png" alt="feeder chain" width="80%">
</div>
<div class="title">Figure 2. Abstract Model of Feeder Chain</div>
</div>
<div class="paragraph">
<p>The idea underlying the openEHR Feeder audit model is that there are two groups of meta-data which should be recorded about an imported information item. The first is medico-legal meta-data about its creation: the system of origin, who created it and when it was created. The second is identifying meta-data for the item from the originating and feeder system, and potentially other intermediate systems in the feeder chain, where necessary to support duplicate detection, version detection and so on.</p>
</div>
</div>
<div class="sect4">
<h5 id="_meta_data"><a class="anchor" href="#_meta_data"></a>3.1.3.3. Meta-data</h5>
<div class="paragraph">
<p>The potentially available medico-legal meta-data about the received item is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>identifier of the originating system (where the item was originally committed);</p>
</li>
<li>
<p>identifier of the information item in the originating system;</p>
</li>
<li>
<p>agent who committed the item;</p>
</li>
<li>
<p>timestamp of committal or creation of the item;</p>
</li>
<li>
<p>type of change, e.g. initial creation, correction (including deletion of a subpart), logical deletion (e.g. due to cancellation of order);</p>
</li>
<li>
<p>status of information, e.g. interim, final;</p>
</li>
<li>
<p>version id, where versioning is supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above information is equivalent to the audit trail and versioning data captured when information created in an openEHR system is committed in a Composition version.</p>
</div>
<div class="paragraph">
<p>Various kinds of identifying information may be required including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>subject identifier (often more than one, e.g. national patient id, GP&#8217;s local patient id, lab&#8217;s local patient id) are usually recorded and may be required for traceability purposes;</p>
</li>
<li>
<p>subject identifier(s) may identify someone other than the subject of the record as being the subject of the incoming item;</p>
</li>
<li>
<p>location of the feeder system;</p>
</li>
<li>
<p>identifier of the feeder system (which may be one of many at the feeder system location);</p>
</li>
<li>
<p>identifer the feeder system uses for the item in question (often known as an "accession id");</p>
</li>
<li>
<p>identifier of request or order to which the information is a response (sometimes known as a "placer&#8217;s request id");</p>
</li>
<li>
<p>identifier of the information item used by the originating system (sometimes known as a "filler&#8217;s request id");</p>
</li>
<li>
<p>timestamp(s) assigned by feeder system to the item.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some or all of this information will usually be sufficient to perform a number of tasks as follows.</p>
</div>
</div>
<div class="sect4">
<h5 id="_traceability"><a class="anchor" href="#_traceability"></a>3.1.3.4. Traceability</h5>
<div class="paragraph">
<p>The first task is to support medico-legal investigation into the path of the information item through the health computing infrastructure. This requires the availability of sufficient identifier information that the origin of the information item can be traced. Subject identifiers where available should be used to ensure that the received data go into the correct EHR, by ensuring that the relevant lookups in client directories or other lookup mechanisms can be effected. Again, in rare cases, the subject of the incoming data item may not necessarily be the subject of the EHR - a test result may be made from a relative or other associate which will be stored in the patient&#8217;s EHR.</p>
</div>
</div>
<div class="sect4">
<h5 id="_version_detection"><a class="anchor" href="#_version_detection"></a>3.1.3.5. Version Detection</h5>
<div class="paragraph">
<p>The second is to detect new versions of an item (e.g. interim and final versions of a microbiology test result). This can usually be achieved by using various identifiers as well as the originating system version id and/or content status (interim, final etc). A new openEHR Composition version should always be created for each received version, even where the content does not change at all (e.g. a microbiology test where the result is "no growth" in both interim and final results).</p>
</div>
</div>
<div class="sect4">
<h5 id="_duplicate_detection"><a class="anchor" href="#_duplicate_detection"></a>3.1.3.6. Duplicate Detection</h5>
<div class="paragraph">
<p>Another task is to disambiguate duplicates (often caused by failure of a network connection during sending) coming from the feeder system. In some cases however duplicates are erroneously given new ids by the feeder system, giving the receiver the impression of a new information. In such cases, a further item of meta-data may be required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hash or content signature generated (most likely by the converter) from the received information.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_differentially_coded_data"><a class="anchor" href="#_differentially_coded_data"></a>3.1.3.7. Differentially Coded Data</h5>
<div class="paragraph">
<p>A further problem is that the originating system may send new versions of an item which are not complete in and of themselves, i.e. which only include new or changed elements with respect to a previous send of the same item. An example is a system which sends a correction to an HL7v2 blood test message, where the correction includes just the "serum sodium" data item. In this case, special processing will be required in the openEHR converter component, in order to regenerate a full data item from difference data when it is received. Such processing may also have to take account of deleted items.</p>
</div>
<div class="paragraph">
<p>In summary, the Feeder audit class design tries to accommodate the recording of as much of the above meta-data as is relevant in any particular case. It is up to the design of openEHR conversion front-end components as well as proper analysis of the situation to determine which identifiers are germane to the needs of traceability. In general, any meta-data of medico-legal significance should be captured where it is available.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_feeder_audit_in_converted_data"><a class="anchor" href="#_using_feeder_audit_in_converted_data"></a>3.1.3.8. Using Feeder Audit in Converted Data</h5>
<div class="paragraph">
<p>Although the design of the openEHR converter is outside the scope of the current document, it is worth considering a common design approach, and where the <code>FEEDER_AUDIT</code> class fits in. An effective way of converting non-openEHR data such as HL7v2 messages, relational data etc, is in two steps. The first is to perform a 'syntactic' conversion to Compositions containing instances of the <code>GENERIC_ENTRY</code> class (described in the Integration IM), using 'legacy archetypes'. The resulting database will contain versioned Compositions containing <code>GENERIC_ENTRY</code> instances; logically this database does not contain EHRs but simply external data converted to openEHR computational form. The relevant <code>FEEDER_AUDIT</code> instances should be attached to the Compositions containing the corresponding <code>GENERIC_ENTRY</code> instances. The second step is to perform a 'semantic' conversion to subtypes of ENTRY, i.e. <code>OBSERVATION</code>, <code>EVALUATION</code>, <code>INSTRUCTION</code> and <code>ACTION</code>, according to standardised clinical archetypes. There are various possibilities for what to do with the Feeder audit. The minimum Feeder audit required on the final instance contains the originating system audit information, but none of the information to do with feeder or intermediate systems. This will satisfy medico-legal needs. Alternatively, a complete copy could be made, even though the feeder-related meta-data is probably only of use in the conversion environment. What the Feeder audit looks like in the EHR proper may depend on local legislation, norms or other factors. Alternative conversion approaches are also possible, in which no intermediate form of data exists.</p>
</div>
</div>
<div class="sect4">
<h5 id="_structural_correspondence"><a class="anchor" href="#_structural_correspondence"></a>3.1.3.9. Structural Correspondence</h5>
<div class="paragraph">
<p>There is no guarantee that the granularity of information recorded in the feeder system obeys the rules of Entries, Compositions, etc. As a consquence, feeder information might correspond to any level of information defined in the openEHR models. In order to be able to record feeder audit information correctly, the model has to be able to associate an audit trail with any granularity of object. For this reason, feeder audit information is attached to the <code>LOCATABLE</code> class via the feeder_audit attribute, even though it is preferable by design to have it attached to the equivalent of Compositions or at least the equivalent of archetype entities (i.e. Compositions, Section trees and Entries). Its usual usage is to attach it to the outermost object to which it applies. In other words, in most cases, during a legacy data conversion process, the entirety of a Composition needs only one <code>FEEDER_AUDIT</code> to document its origins. In exceptional cases, where feeder data comes in in near real time, e.g. from an ICU database, separate <code>FEEDER_AUDIT</code> objects may need to be generated for parts of a Composition; each commit in this situation will create a stack of versions of one Composition, with a growing number of <code>FEEDER_AUDIT</code> objects attached to internal data nodes, each documenting the last import of data.</p>
</div>
<div class="paragraph">
<p>The Feeder audit information is included as part of the data of the Composition, rather than part of the audit trail of version committal, because it remains relevant throughout the versioning of a logical Composition, i.e. when a new version is created, the feeder information is retained as part of the current version to be seen and possibly modified, just as for the rest of its content. If the main part of the content is modified so drastically as to make the feeder audit irrelevant, it too can be removed. A second consequence of feeder and legacy systems is that structural data items may need to be synthesised in order to create valid structures, even though the source system does not have them. For example, a system may have the equivalent data of Clusters and Elements (see <a href="https://specifications.openehr.org/releases/RM/latest/data_structures.html">openEHR Data Structures IM</a> or CEN EN13606), but no Entries, Sections or other higher-level data items; these have to be synthesised during conversion. To indicate synthesis of a data node, a <code>FEEDER_AUDIT</code> instance is attached to the <code>LOCATABLE</code> in question, and its <code><em>change_type</em></code> set to "synthesised".</p>
</div>
</div>
<div class="sect4">
<h5 id="_original_content"><a class="anchor" href="#_original_content"></a>3.1.3.10. Original Content</h5>
<div class="paragraph">
<p>The features of the model described so far allow accurate referencing of content as it is known in source systems and intermediate feeder systems. A further feature of the <code>FEEDER_AUDIT</code> class, the original_content attribute allows the original content item itself to be either included inline or pointed to. If a link is used, the usual situation is that the content is in a store associated with the receiving system, such as a message or document database. The content could also be included inline. Since the original_content link is on a <code>FEEDER_AUDIT</code> object, more than one can be used within the same generated Composition if required. It may be deemed preferable to attach only a single link at the top node, i.e. the Composition node, since this establishes basic equivalent between the whole Composition and the whole document or message.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_definitions"><a class="anchor" href="#_class_definitions"></a>3.2. Class Definitions</h3>
<div class="sect3">
<h4 id="_pathable_class"><a class="anchor" href="#_pathable_class"></a>3.2.1. PATHABLE Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>PATHABLE (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The PATHABLE class defines the pathing capabilities used by nearly all classes in the openEHR reference model, mostly via inheritance of LOCATABLE. The defining characteristics of PATHABLE objects are that they can locate child objects using paths, and they know their parent object in a compositional hierarchy. The parent feature is defined as abstract in the model, and may be implemented in any way convenient.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>Any</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>parent</strong> (): <code>PATHABLE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Parent of this node in a compositional hierarchy.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item_at_path</strong> (<br>
a_path: <code>String[1]</code><br>
): <code>Any</code><br>
<strong><em>Pre</em></strong>: <code>path_unique (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The item at a path (relative to this item); only valid for unique paths, i.e. paths that resolve to a single item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items_at_path</strong> (<br>
a_path: <code>String[1]</code><br>
): <code>List&lt;Any&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of items corresponding to a non-unique path.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_exists</strong> (<br>
a_path: <code>String[1]</code><br>
): <code>Boolean</code><br>
<strong><em>Pre</em></strong>: <code>not a_path.is_empty</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if the path exists in the data with respect to the current item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_unique</strong> (<br>
a_path: <code>String[1]</code><br>
): <code>Boolean</code><br>
<strong><em>Pre</em></strong>: <code>path_exists (a_path)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if the path corresponds to a single item in the data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path_of_item</strong> (<br>
a_loc: <code>PATHABLE[1]</code><br>
): <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The path to an item relative to the root of this archetyped structure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_locatable_class"><a class="anchor" href="#_locatable_class"></a>3.2.2. LOCATABLE Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>LOCATABLE (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Root class of all information model classes that can be archetyped. Most classes in the openEHR reference model inherit from the <code>LOCATABLE</code> class, which defines the idea of  locatability in an archetyped structure. <code>LOCATABLE</code> defines a runtime name and an <code><em>archetype_node_id</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PATHABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Runtime name of this fragment, used to build runtime paths. This is the term provided via a clinical application or batch process to name this EHR construct: its retention in the EHR faithfully preserves the original label by which this entry was known to end users.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_node_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Design-time archetype id of this node taken from its generating archetype; used to build archetype paths. Always in the form of an  at  code, e.g.  at0005 . This value enables a "standardised" name for this node to be generated, by referring to the generating archetype local ontology.</p>
</div>
<div class="paragraph">
<p>At an archetype root point, the value of this attribute is always the stringified form of the archetype_id found in the archetype_details object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code>UID_BASED_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional globally unique object identifier for root points of archetyped structures.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>links</strong>: <code>List&lt;LINK&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Links to other archetyped structures (data whose root object inherits from ARCHETYPED, such as ENTRY, SECTION and so on). Links may be to structures in other compositions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_details</strong>: <code>ARCHETYPED</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Details of archetyping used on this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_audit</strong>: <code>FEEDER_AUDIT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Audit trail from non-openEHR system of original commit of information forming the content of this node, or from a conversion gateway which has synthesised this node.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concept</strong> (): <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clinical concept of the archetype as a whole (= derived from the archetype_node_id' of the root node)</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_archetype_root</strong> (): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this node is the root of an archetyped structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Links_valid</em></strong>: <code>links /= Void implies not links.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Archetyped_valid</em></strong>: <code>is_archetype_root xor archetype_details = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Archetype_node_id_valid</em></strong>: <code>not archetype_node_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_archetyped_class"><a class="anchor" href="#_archetyped_class"></a>3.2.3. ARCHETYPED Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ARCHETYPED</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Archetypes act as the configuration basis for the particular structures of instances defined by the reference model. To enable archetypes to be used to create valid data, key classes in the reference model act as  root  points for archetyping; accordingly, these classes have the archetype_details attribute set.</p>
</div>
<div class="paragraph">
<p>An instance of the class ARCHETYPED contains the relevant archetype identification information, allowing generating archetypes to be matched up with data instances.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>archetype_id</strong>: <code>ARCHETYPE_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Globally unique archetype identifier.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>template_id</strong>: <code>TEMPLATE_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Globally unique template identifier, if a template was active at this point in the structure. Normally, a template would only be used at the top of a top-level structure, but the possibility exists for templates at lower levels.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rm_version</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Version of the openEHR reference model used to create this object. Expressed in terms of the release version string, e.g.  1.0 ,  1.2.4 .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Rm_version_valid</em></strong>: <code>not rm_version.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_link_class"><a class="anchor" href="#_link_class"></a>3.2.4. LINK Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>LINK</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The <code>LINK</code> type defines a logical relationship between two items, such as two <code>ENTRYs</code> or an <code>ENTRY</code> and a <code>COMPOSITION</code>. Links can be used across compositions, and across EHRs. Links can potentially be used between interior (i.e. non archetype root) nodes, although this probably should be prevented in archetypes. Multiple <code>LINKs</code> can be attached to the root object of any archetyped structure to give the effect of a 1&#8594;N link.</p>
</div>
<div class="paragraph">
<p>1:1 and 1:N relationships between archetyped content elements (e.g. <code>ENTRYs</code>) can be expressed by using one, or more than one, respectively, <code>LINKs</code>. Chains of links can be used to see  problem threads  or other logical groupings of items.</p>
</div>
<div class="paragraph">
<p>Links should be between archetyped structures only, i.e. between objects representing complete domain concepts because relationships between sub-elements of whole concepts are not necessarily meaningful, and may be downright confusing. Sensible links only exist between whole <code>ENTRYs</code>, <code>SECTIONs</code>, <code>COMPOSITIONs</code> and so on.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>meaning</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Used to describe the relationship, usually in clinical terms, such as  in response to  (the relationship between test results and an order),  follow-up to  and so on. Such relationships can represent any clinically meaningful connection between pieces of information. Values for meaning include those described in Annex C, ENV 13606 pt 2 under the categories of  generic ,  documenting and reporting ,  organisational ,  clinical ,  circumstancial , and  view management .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The type attribute is used to indicate a clinical or domain-level meaning for the kind of link, for example  problem  or  issue . If type values are designed appropriately, they can be used by the requestor of EHR extracts to categorise links which must be followed and which can be broken when the extract is created.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>target</strong>: <code>DV_EHR_URI</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The logical  to  object in the link relation, as per the linguistic sense of the meaning attribute.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_class"><a class="anchor" href="#_feeder_audit_class"></a>3.2.5. FEEDER_AUDIT Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>FEEDER_AUDIT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The <code>FEEDER_AUDIT</code> class defines the semantics of an audit trail which is constructed to describe the origin of data that have been transformed into openEHR form and committed to the system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_item_ids</strong>: <code>List&lt;DV_IDENTIFIER&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifiers used for the item in the originating system, e.g. filler and placer ids.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_item_ids</strong>: <code>List&lt;DV_IDENTIFIER&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifiers used for the item in the feeder system, where the feeder system is distinct from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_content</strong>: <code>DV_ENCAPSULATED</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional inline inclusion of or reference to original content corresponding to the openEHR content at this node. Typically a URI reference to a document or message in a persistent store associated with the EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>originating_system_audit</strong>: <code>FEEDER_AUDIT_DETAILS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Any audit information for the information item from the originating system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>feeder_system_audit</strong>: <code>FEEDER_AUDIT_DETAILS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Any audit information for the information item from the feeder system, if different from the originating system.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feeder_audit_details_class"><a class="anchor" href="#_feeder_audit_details_class"></a>3.2.6. FEEDER_AUDIT_DETAILS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>FEEDER_AUDIT_DETAILS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Audit details for any system in a feeder system chain. Audit details here means the general notion of who/where/when the information item to which the audit is attached was created. None of the attributes is defined as mandatory, however, in different scenarios, various combinations of attributes will usually be mandatory. This can be controlled by specifying feeder audit details in legacy archetypes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>system_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifier of the system which handled the information item. This is the IT system owned by the organisation legally responsible for handling the data, and at which the data were previously created or passed by an earlier system.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>location</strong>: <code>PARTY_IDENTIFIED</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifier of the particular site/facility within an organisation which handled the item. For computability, this identifier needs to be e.g. a PKI identifier which can be included in the identifier list of the <code>PARTY_IDENTIFIED</code> object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifiers for subject of the received information item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider</strong>: <code>PARTY_IDENTIFIED</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional provider(s) who created, committed, forwarded or otherwise handled the item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Time of handling the item. For an originating system, this will be time of creation, for an intermediate feeder system, this will be a time of accession or other time of handling, where available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Any identifier used in the system such as  "interim" ,  "final" , or numeric versions if available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>System_id_valid</em></strong>: <code>not system_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generic_package"><a class="anchor" href="#_generic_package"></a>4. Generic Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>4.1. Overview</h3>
<div class="paragraph">
<p>The classes presented in this section are abstractions of concepts which are generic patterns in the domain of health (and most likely other domains), such as 'participation' and 'attestation'. The generic cluster is shown below.</p>
</div>
<div id="generic_package" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-common.generic.svg" alt="RM common.generic">
</div>
<div class="title">Figure 3. common.generic Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_design_principles_2"><a class="anchor" href="#_design_principles_2"></a>4.2. Design Principles</h3>
<div class="sect3">
<h4 id="_referring_to_demographic_entities"><a class="anchor" href="#_referring_to_demographic_entities"></a>4.2.1. Referring to Demographic Entities</h4>
<div class="paragraph">
<p>There are two ways to refer to a demographic identity in the openEHR EHR: using <code>PARTY_REF</code> directly, which records an identifier of the party in some external system, and using <code>PARTY_PROXY</code>, consisting of a small amount of descriptive data, depending on the subtype, and an optional <code>PARTY_REF</code>. The semantics of <code>PARTY_REF</code> are described in the <a href="https://specifications.openehr.org/releases/BASE/latest/base_types.html">Base Types <code>identification</code> package</a>, while the semantics of <code>PARTY_PROXY</code> and use of <code>PARTY_REF</code> in such entities are described below. The approach taken in openEHR for representing demographic and user entities in the EHR data isbased on the following assumptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>there is at least one human readable name or official identifier of the party, such as <code>"Julius Marlowe, MD"</code>, <code>"NHS provider number 1039385"</code>, or a system user id such as <code>"Rahil.Azam"</code>;</p>
</li>
<li>
<p>there might be data in a service external to the EHR for the party in question, such as a demographic, identity management or patient index service; if there is, it should be referenceable;</p>
</li>
<li>
<p>the subject of the record is never to be identified in any direct way (i.e. via the use of her name or other human-readable details), but may include a meaningless identifier in some external system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>PARTY_PROXY</code> class and subtypes model references to parties based on these assumptions. The semantics of <code>PARTY_PROXY</code> enable a flexible approach: in stricter environments that have identity management and demographic services, and where there is an entry in such a service for the party in question, <code>PARTY_PROXY.<em>external_ref</em></code> will be non-Void, while in other environments, it will be empty.</p>
</div>
<div class="paragraph">
<p>The two subtypes correspond to the mutually distinct categories of the 'subject of the record', known as the 'self' party in openEHR, and any other party. Whenever the record subject has to be referred to in the record, an instance of <code>PARTY_SELF</code> is used, while <code>PARTY_IDENTIFIED</code> is used for all other situations. The latter class provides for optional human-readable names and formal identifiers, each keyed by purpose or meaning.</p>
</div>
<div class="paragraph">
<p>The <code>RELATED_PARTY</code> type is used whenever the relationship of the party to the record subject is required. Relationships are coded and include familial ones ('mother', 'uncle', etc) as well as relationships like 'donor', 'travelling companion' and so on.</p>
</div>
<div class="sect4">
<h5 id="_party_self_and_referring_to_the_patient_from_the_ehr"><a class="anchor" href="#_party_self_and_referring_to_the_patient_from_the_ehr"></a>4.2.1.1. PARTY_SELF and Referring to the Patient from the EHR</h5>
<div class="paragraph">
<p>There are three schemes which are likely to be used for referring to patient (i.e. the record subject) demographic or patient master index (PMI) data from within the EHR, each likely to be valid in different circumstances. Each uses a <code>PARTY_SELF</code> object but with varying usage of the external_ref attribute, and are as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code><em>external_ref</em></code> attribute is not set on any instances of <code>PARTY_SELF</code>, i.e. nowhere in the EHR. This is the most secure approach, and means that the link between the EHR and the patient has to be done outside the EHR, by associating <code>EHR.<em>ehr_id</em></code> and the patient demographic/ PMI identifier. This approach is more likely in more open data sharing environments.</p>
</li>
<li>
<p>The <code><em>external_ref</em></code> attribute is set once only in <code>EHR_STATUS.<em>subject</em></code>. Since the <code>EHR_STATUS</code> object is separate from the EHR contents, the root instance of <code>PARTY_SELF</code> will generally not be visible.</p>
</li>
<li>
<p>Setting the external_ref in every instance of <code>PARTY_SELF</code>; this solution makes the patient external_ref visible in every instance of <code>PARTY_SELF</code>, which is reasonable in a secure environment, and convenient for copying parts of the record around locally.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All three schemes are supported by the openEHR model, and will probably all find use in different settings and EHR deployment types.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_participation"><a class="anchor" href="#_participation"></a>4.2.2. Participation</h4>
<div class="paragraph">
<p>The Participation abstraction models the interaction of some Party in an activity. In the openEHR reference models, participations are actually modelled in two ways. In situations where the kinds of participation are known and constant, they are modelled as a named attribute in the relevant reference model. For example, the <code><em>committer</em>: PARTY_PROXY</code> attribute in <code>AUDIT_DETAILS</code> models a participation in which the function is "committal". Where the kind of participation is not known at design time, a descendant of the generic <code>PARTICIPATION</code> class is used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_audit_information"><a class="anchor" href="#_audit_information"></a>4.2.3. Audit Information</h4>
<div class="sect4">
<h5 id="_audit_details"><a class="anchor" href="#_audit_details"></a>4.2.3.1. Audit Details</h5>
<div class="paragraph">
<p>Three classes are provided to represent audit information. The first, <code>AUDIT_DETAILS</code> expresses the details that would be captured about a user when committing some information to a repository of some kind, which may be version controlled. It records the <code>system_id_</code>, <code><em>committer</em></code>, <code><em>time_committed</em></code>, <code><em>change_type</em></code> and an optoinal <code><em>description</em></code>.</p>
</div>
<div class="paragraph">
<p>The <code><em>system_id</em></code> attribute is used to record the identifier of the logical EHR repository to which the data containing the audit are committed. What constitutes a 'system' in this context is described in more detail in the <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html#_the_ehr_system">Architecture Overview</a>.</p>
</div>
<div class="paragraph">
<p>Committer is recorded using a <code>PARTY_PROXY</code>, allowing for <code>PARTY_SELF</code> to be used when the committer is the record subject, and for other identifying information to be included for other users, expressed using <code>PARTY_IDENTIFIED</code>. The kind of identifying information used in <code>PARTY_PROXY</code> instances in <code>AUDIT_DETAILS</code> may be different from that used in <code>COMPOSITION.<em>composer</em></code> or elsewhere, i.e. in the form of a system login identifier, e.g. <code>"<a href="mailto:maxime.lavache@stpatricks.health.ie">maxime.lavache@stpatricks.health.ie</a>"</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_revision_history"><a class="anchor" href="#_revision_history"></a>4.2.3.2. Revision History</h5>
<div class="paragraph">
<p>The classes <code>REVISION_HISTORY</code> and <code>REVISION_HISTORY_ITEM</code> express the notion of a revision history, which consists of audit items, each associated with a revision number. An instance of the <code>REVISION_HISTORY_ITEM</code> class is designed to express the information that corresponds to an item in a revision history, i.e. a list of all audits relating to some information item. The version_id is included to indicate which revision each audit corresponds to. These classes provide an interoperable definition of revision history for the <code>VERSIONED_OBJECT</code> and <code>AUTHORED_RESOURCE</code> classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_attestation"><a class="anchor" href="#_attestation"></a>4.2.4. Attestation</h4>
<div class="paragraph">
<p>Attestation is another concept which occurs commonly in health information. An attestation is an explicit signing by one healthcare agent of particular content for various particular purposes, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for authorisation of a controlled substance or procedure (e.g. sectioning of patient under mental health act);</p>
</li>
<li>
<p>witnessing of content by senior clinical professional;</p>
</li>
<li>
<p>indicating acknowledgement of content by intended recipient, e.g. GP who ordered a test result.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here it is modelled as a subtype of <code>AUDIT_DETAILS</code>, meaning that it is logically a kind of audit, with additional information pertinant to the act of signing. The contents of an <code>ATTESTATION</code> are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the identity of the attesting party (<code>AUDIT_DETAILS.<em>committer</em></code>);</p>
</li>
<li>
<p>the date and time of the action of attestation (<code>AUDIT_DETAILS.<em>time_committed</em></code>);</p>
</li>
<li>
<p>references to items in the record being attested to (<code>ATTESTATION.<em>items</em></code>); if this list is empty, the attestation is for the entire object (usually the content of an <code>ORIGINAL_VERSION</code>) to which the attestation is attached, otherwise the list must contain a set of paths to items within the item to which the attestation is attached;</p>
</li>
<li>
<p>an optionally coded reason for attestation (<code>ATTESTATION.<em>reason</em></code>);</p>
</li>
<li>
<p>an optional literal view of the the content attested, e.g. a binary screen image;</p>
</li>
<li>
<p>a proof of attestation in the form of a digital signature by the attesting party.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The digital signature, if present, is generated using the openPGP standard (<a href="http://www.ietf.org/rfc/rfc4880">IETF RFC 4880</a>) as, according to the process shown below.</p>
</div>
<div id="attestation_signature_generation" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/attestation_signature_generation.png" alt="attestation signature generation" width="80%">
</div>
<div class="title">Figure 4. Attestation signature generation (using openPGP)</div>
</div>
<div class="paragraph">
<p>In this process, the attestation object is serialised into a canonical text form, and then hashed to create a digest. A digital signature is created from the hash, using the user&#8217;s private key. The result is then radix-64 encoded to create an ASCII string so as to remove or reduce potential problems with subsequent communication. The openPGP standard ensures that the transformations and algorithms used to create the signature are indicated within it (i.e. the signature is self-describing).</p>
</div>
<div class="paragraph">
<p>The serialisation process works by the simple rule of serialising the entire Attestation object (note that the proof attribute will be Void at this point) into an agreed XML, <a href="https://specifications.openehr.org/releases/LANG/latest/odin.html">openEHR ODIN</a> or other text format, then applying the subsequent transformations to the serialised data, then writing the digest result back into the proof attribute.</p>
</div>
<div class="paragraph tbd">
<p><strong>To Be Determined</strong>: The exact serialisation is not yet defined by openEHR, but dADL might be preferred since it has an unambiguous encoding of object structures, whereas XML libraries generate different XML from the same objects.</p>
</div>
<div class="paragraph">
<p>Normally the list of items being attested should be a single Entry or Composition, but there is nothing stopping it including fine-grained items, even though separate attestation of such items does not appear to be commensurate with good clinical information design or process.</p>
</div>
<div class="paragraph">
<p>The <code><em>reason</em></code> attribute is used to indicate why the attestation occurred, and is coded using the openEHR Terminology group "attestation reason", which includes values such as "authorisation" and "witnessed". The <code><em>is_pending</em></code> attribute marks the attestation as either having been done or awaiting completion depending on its value. This facilitates querying the record to find items needing to be signed or witnessed. When an attestation is required, the most common scenario will be that a Composition Version will be committed with a <code><em>commit_audit</em></code> of type <code>ATTESTATION</code>, rather than just <code>AUDIT_DETAILS</code>; the <code><em>is_pending</em></code> flag will be set to True to indicate that the committed information needs to be signed by another person. When signing occurs, it will cause a new <code>ATTESTATION</code> object to be added to the <code>VERSION.<em>attestations</em></code> list, this time with <code><em>is_pending</em></code> set to False, and the appropriate proof supplied. Thus, the common situation in which content is committed to the record and needs later review and signing by a senior person will cause the creation of two <code>ATTESTATION</code> objects.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions"><a class="anchor" href="#_class_descriptions"></a>4.3. Class Descriptions</h3>
<div class="sect3">
<h4 id="_party_proxy_class"><a class="anchor" href="#_party_proxy_class"></a>4.3.1. PARTY_PROXY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>PARTY_PROXY (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Abstract concept of a proxy description of a party, including an optional link to data for this party in a demographic or other identity management system. Sub- typed into <code>PARTY_IDENTIFIED</code> and <code>PARTY_SELF</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>external_ref</strong>: <code>PARTY_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional reference to more detailed demographic or identification information for this party, in an external system.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_self_class"><a class="anchor" href="#_party_self_class"></a>4.3.2. PARTY_SELF Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>PARTY_SELF</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Party proxy representing the subject of the record. Used to indicate that the party is the owner of the record. May or may not have <code><em>external_ref</em></code> set.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PARTY_PROXY</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_identified_class"><a class="anchor" href="#_party_identified_class"></a>4.3.3. PARTY_IDENTIFIED Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>PARTY_IDENTIFIED</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Proxy data for an identified party other than the subject of the record, minimally consisting of human-readable identifier(s), such as name, formal (and possibly computable) identifiers such as NHS number, and an optional link to external data. There must be at least one of name, identifier or external_ref present.</p>
</div>
<div class="paragraph">
<p>Used to describe parties where only identifiers may be known, and there is no entry at all in the demographic system (or even no demographic system). Typically for health care providers, e.g. name and provider number of an institution.</p>
</div>
<div class="paragraph">
<p>Should not be used to include patient identifying information.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PARTY_PROXY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional human-readable name (in String form).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>identifiers</strong>: <code>List&lt;DV_IDENTIFIER&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>One or more formal identifiers (possibly computable).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Basic_validity</em></strong>: <code>name /= Void or identifiers /= Void or external_ref /= Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Name_valid</em></strong>: <code>name /= Void implies not name.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Identifiers_valid</em></strong>: <code>identifiers /= Void implies not identifiers.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_party_related_class"><a class="anchor" href="#_party_related_class"></a>4.3.4. PARTY_RELATED Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>PARTY_RELATED</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Proxy type for identifying a party and its relationship to the subject of the record. Use where the relationship between the party and the subject of the record must be known.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PARTY_IDENTIFIED</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>relationship</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Relationship of subject of this ENTRY to the subject of the record. May be coded. If it is the patient, coded as  self.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Relationship_valid</em></strong>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_subject_relationship, relationship.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_participation_class"><a class="anchor" href="#_participation_class"></a>4.3.5. PARTICIPATION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>PARTICIPATION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Model of a participation of a Party (any Actor or Role) in an activity.  Used to represent any participation of a Party in some activity, which is not  explicitly in the model, e.g. assisting nurse. Can be used to record past or  future participations.</p>
</div>
<div class="paragraph">
<p>Should not be used in place of more permanent relationships between demographic entities.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>function</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The function of the Party in this participation (note that a given party might participate in more than one way in a particular activity). This attribute should be coded, but cannot be limited to the HL7v3:ParticipationFunction vocabulary, since it is too limited and hospital-oriented.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>mode</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional field for recording the 'mode' of the performer / activity interaction, e.g. present, by telephone, by email etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>performer</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The id and possibly demographic system link of the party participating in the activity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code>DV_INTERVAL&lt;DV_DATE_TIME&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The time interval during which the participation took place, if it is used in an observational context (i.e. recording facts about the past); or the intended time interval of the participation when used in future contexts, such as EHR Instructions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Function_valid</em></strong>: <code>function.generating_type.is_equal ("DV_CODED_TEXT") implies
terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_function, function.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Mode_valid</em></strong>: <code>mode /= Void implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_participation_mode, mode.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_audit_details_class"><a class="anchor" href="#_audit_details_class"></a>4.3.6. AUDIT_DETAILS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>AUDIT_DETAILS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The set of attributes required to document the committal of an information item to a repository.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>system_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifier of the logical EHR system where the change was committed. This is almost always owned by the organisation legally responsible for the EHR, and is distinct from any application, or any hosting infrastructure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time_committed</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Time of committal of the item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>change_type</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Type of change. Coded using the openEHR Terminology  audit change type  group.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reason for committal. This may be used to qualify the value in the <code><em>change_type</em></code> field. For example, if the change affects only the EHR directory, this field might be used to indicate 'Folder "episode 2018-02-16" added' or similar.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>committer</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identity and optional reference into identity management service, of user who committed the item.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>System_id_valid</em></strong>: <code>not system_id.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Change_type_valid</em></strong>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_audit_change_type, change_type.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_attestation_class"><a class="anchor" href="#_attestation_class"></a>4.3.7. ATTESTATION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ATTESTATION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Record an attestation of a party (the committer) to item(s) of record content. An attestation is an explicit signing by one healthcare agent of particular content for various particular purposes, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for authorisation of a controlled substance or procedure (e.g. sectioning of patient under mental health act);</p>
</li>
<li>
<p>witnessing of content by senior clinical professional;</p>
</li>
<li>
<p>indicating acknowledgement of content by intended recipient, e.g. GP who ordered a test result.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>AUDIT_DETAILS</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>attested_view</strong>: <code>DV_MULTIMEDIA</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional visual representation of content attested e.g. screen image.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>proof</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Proof of attestation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;DV_EHR_URI&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Items attested, expressed as fully qualified runtime paths to the items in question. Although not recommended, these may include fine-grained items which have been attested in some other system. Otherwise it is assumed to be for the entire VERSION with which it is associated.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reason</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reason of this attestation. Optionally coded by the openEHR Terminology group  attestation reason ; includes values like  authorisation ,  witness  etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_pending</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this attestation is outstanding; False means it has been completed.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Items_valid</em></strong>: <code>items /= Void implies not items.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Reason_valid</em></strong>: <code>(reason.generating_type.is_equal (‚ÄúDV_CODED_TEXT‚Äù) implies terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_attestation_reason, reason.defining_code))</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_revision_history_class"><a class="anchor" href="#_revision_history_class"></a>4.3.8. REVISION_HISTORY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>REVISION_HISTORY</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Purpose Defines the notion of a revision history of audit items, each associated with the version for which that audit was committed. The list is in most-recent-first order.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;REVISION_HISTORY_ITEM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The items in this history in most-recent-last order.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>most_recent_version</strong> (): <code>String</code><br>
<strong><em>Post</em></strong>: <code>Result.is_equal (items.last.version_id.value)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The version id of the most recent item, as a String.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>most_recent_version_time_committed</strong> (): <code>String</code><br>
<strong><em>Post</em></strong>: <code>Result.is_equal (items.last.audits.first. time_committed.value)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The commit date/time of the most recent item, as a String.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_revision_history_item_class"><a class="anchor" href="#_revision_history_item_class"></a>4.3.9. REVISION_HISTORY_ITEM Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>REVISION_HISTORY_ITEM</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>An entry in a revision history, corresponding to a version from a versioned container. Consists of AUDIT_DETAILS instances with revision identifier of the revision to which the AUDIT_DETAILS intance belongs.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_id</strong>: <code>OBJECT_VERSION_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Version identifier for this revision.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>audits</strong>: <code>List&lt;AUDIT_DETAILS&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The audits for this revision; there will always be at least one commit audit (which may itself be an ATTESTATION), there may also be further attestations.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_directory_package"><a class="anchor" href="#_directory_package"></a>5. Directory Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>5.1. Overview</h3>
<div class="paragraph">
<p>The directory package is illustrated below. It provides a simple abstraction of a versioned folder structure. The <code>VERSIONED_FOLDER</code> class is the binding of <code>VERSIONED_OBJECT&lt;T&gt;</code> to the class <code>FOLDER</code>, i.e. it is a <code>VERSIONED_OBJECT&lt;FOLDER&gt;</code>. This means that each of its versions is a Folder structure rather than a single Folder. It provides a means of versioning <code>FOLDER</code> structures over time, which is useful in the EHR, Demographics service or anywhere else where Folders are used to group things. A <code>FOLDER</code> instance contains more <code>FOLDERs</code> and/or items, which are references to other (usually versioned) objects. A <code>FOLDER</code> structure is therefore like a directory containing references to objects. Since they are references, multiple references to the same object are possible, allowing the structure to be used to mutiply classify other objects. If it is used with <code>VERSIONED_COMPOSITIONs</code> for example, the folders might be used to represent episodes and at the same time problem groups.</p>
</div>
<div id="directory_package" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-common.directory.svg" alt="RM common.directory">
</div>
<div class="title">Figure 5. common.directory Package</div>
</div>
<div class="paragraph">
<p><code>FOLDER</code> structures inside the <code>VERSIONED_FOLDER</code> are archetypable structures, and <code>FOLDER</code> archetypes can be created in the same fashion as say <code>SECTION</code> archetypes for the EHR.</p>
</div>
<div class="sect3">
<h4 id="_paths"><a class="anchor" href="#_paths"></a>5.1.1. Paths</h4>
<div class="paragraph">
<p>Directory paths are built using the name attribute values inherited from <code>LOCATABLE</code> into each <code>FOLDER</code> object. In real data, these will usually be derived from the value of the <code><em>archetype_node_id</em></code> attribute, plus a uniqueness modifier if required. Example paths (e.g. within the EHR):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    /folders[hospital episodes]/items[1]
    /folders[patient entered data]/folders[diabetes monitoring]
    /folders[homeopathy contacts]</pre>
</div>
</div>
<div class="paragraph">
<p>Uniqueness modifiers are appended in brackets, and are only needed to differentiate folders at the same node that would otherwise have the same names, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    [hospital episodes]
    [hospital episodes(car accident Aug 1998)]</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_2"><a class="anchor" href="#_class_descriptions_2"></a>5.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_versioned_folder_class"><a class="anchor" href="#_versioned_folder_class"></a>5.2.1. VERSIONED_FOLDER Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VERSIONED_FOLDER</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>A version-controlled hierarchy of <code>FOLDERs</code> giving the effect of a directory.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSIONED_OBJECT</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_folder_class"><a class="anchor" href="#_folder_class"></a>5.2.2. FOLDER Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>FOLDER</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The concept of a named folder.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;OBJECT_REF&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The list of references to other (usually) versioned objects logically in this folder.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>folders</strong>: <code>List&lt;FOLDER&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Sub-folders of this FOLDER.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>details</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Archetypable extra meta-data for <code>FOLDER</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Folders_valid</em></strong>: <code>not folders.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_change_control_package"><a class="anchor" href="#_change_control_package"></a>6. Change Control Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_5"><a class="anchor" href="#_overview_5"></a>6.1. Overview</h3>
<div class="paragraph">
<p>As described in the Architecture Overview document, formal version control and change management are used in openEHR to support the construction of EHR and other repositories requiring the properties of consistency, indelibility, traceability and distributed sharing. The <code>change_control</code> package supplies the formal specification of these features in openEHR.</p>
</div>
<div class="paragraph">
<p><a href="#change_control_package">Figure 6</a> illustrates the openEHR model of a Versioned object, and its constituent Versions. In this model, an instance of the class <code>VERSIONED_OBJECT&lt;T&gt;</code> provides the versioning facilities for one versioned item and is often referred to as a 'version container'. Although any kind of data can be versioned according to the model presented here, the use of versioning in openEHR is limited to 'toplevel structures', such as EHR Compositions and Party objects in a demographic system.</p>
</div>
<div id="change_control_package" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-common.change_control.svg" alt="RM common.change control">
</div>
<div class="title">Figure 6. <code>common.change_control</code> Package</div>
</div>
<div class="paragraph">
<p><a href="#version_control_structures">Figure 7</a> illustrates a single <code>VERSIONED_OBJECT</code> containing a number of <code>VERSIONs</code>. Although the figure implies physical containment of Versions by a Versioned object, this is only one possible implementation. Other implementations (e.g. using orthodox relational structures) might use references, separate compressed copies, or any other mechanism.</p>
</div>
<div id="version_control_structures" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/version_control_structures.png" alt="version control structures" width="80%">
</div>
<div class="title">Figure 7. Version control structures</div>
</div>
</div>
<div class="sect2">
<h3 id="_basic_semantics"><a class="anchor" href="#_basic_semantics"></a>6.2. Basic Semantics</h3>
<div class="sect3">
<h4 id="_typing"><a class="anchor" href="#_typing"></a>6.2.1. Typing</h4>
<div class="paragraph">
<p>The classes <code>VERSIONED_OBJECT&lt;T&gt;</code>, <code>VERSION&lt;T&gt;</code>, <code>ORIGINAL_VERSION&lt;T&gt;</code> and <code>IMPORTED_VERSION&lt;T&gt;</code> are generic classes, with the generic parameter type T being the type of the data. This ensures that all versions in a given <code>VERSIONED_OBJECT</code> are of the same type, such as <code>COMPOSITION</code>, <code>FOLDER</code>, or <code>PARTY</code> and that the version container itself is properly typed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_versioned_objects"><a class="anchor" href="#_versioned_objects"></a>6.2.2. Versioned Objects</h4>
<div class="paragraph">
<p>Each <code>VERSIONED_OBJECT</code> has a unique identifier recorded in the <code><em>uid</em></code> attribute (a <code>HIER_OBJECT_ID</code> typically containing a GUID), and a reference to the owning object (e.g. the owning EHR) in the <code><em>owner_id</em></code> attribute (this is typically also a GUID). The latter helps ensure that in storage systems, Versioned objects are always correctly allocated to their enclosing repository, such as an EHR.</p>
</div>
<div class="paragraph">
<p>The data in a <code>VERSIONED_OBJECT</code> are in the form of a collection of instances of the two <code>VERSION&lt;T&gt;</code> subtypes, and are available only via the functional interface of <code>VERSIONED_OBJECT</code>. How the representation of this collection is implemented inside the <code>VERSIONED_OBJECT</code> is not defined by this specification, only the form of any given version is. Implementations of <code>VERSIONED_OBJECT</code> might range from the simple (all versions stored as full copies in a list) to a sophisticated compressed versioning approach as used in software file version control and some object databases. (The persistent data format of implementations of <code>VERSIONED_OBJECT</code> developed by different organisations will in general be incompatible. For purposes of sharing, an interoperable expression of <code>VERSIONED_OBJECT</code> is defined by the <code>X_VERSIONED_OBJECT</code> class in the EHR Extract IM.)</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_and_its_subtypes"><a class="anchor" href="#_version_and_its_subtypes"></a>6.2.3. Version and its Subtypes</h4>
<div class="paragraph">
<p>Within a Versioned object, each version is an instance of a subtype of the class <code>VERSION&lt;T&gt;</code>. The abstract <code>VERSION</code> class defines the generic notion of a version containing some data, that has been committed to the repository as a member of a Contribution. Accordingly, it records the Contribution in the <code><em>contribution</em></code> attribute and the audit in <code><em>commit_audit</em></code>. A Version also knows its position in the version tree within the container. It has a version identifier, <code><em>uid</em></code>, and knows on which version in the tree it was based (i.e. what version was checked out to create the current version), <code><em>preceding_version_id</em></code> (Void if it is the first version). Both of these identifiers are globally unique (see <code>support.identification</code> package). These properties are abstract in the <code>VERSION</code> class, since they are defined as being stored or computed respectively in its subtypes.</p>
</div>
<div class="paragraph">
<p>All Versions in a given version container have a <code><em>uid</em></code> that includes the <code><em>uid</em></code> of the container; in other words, the <code><em>uid</em></code> of a Version is its container&#8217;s <code><em>uid</em></code> plus further version identification for that particular version with respect to others in the same container. The <code>VERSION</code>.<code><em>owner_id</em></code> function extracts the <code><em>uid</em></code> field of the owning <code>VERSIONED_OBJECT</code> from the <code><em>uid</em></code> of the <code>VERSION</code>.</p>
</div>
<div class="paragraph">
<p>The <code>VERSION</code> class has two subtypes. The first, <code>ORIGINAL_VERSION&lt;T&gt;</code>, represents a Version created with original content (stored form of data property) at the time of creation (including from nonopenEHR local feeder systems), and potentially attested (signed). It includes as attributes the current version (<code><em>uid</em></code>) and the preceding version (<code><em>preceding_version_uid</em></code>). It also knows the lifecycle state of its content. If it was the result of a merge (see <a href="#_version_merging">Section 6.4.2</a>) of versions other than the preceding version, the identifiers of these versions will be recorded in the attribute <code><em>other_input_version_uids</em></code>. All instances of <code>VERSION&lt;T&gt;</code> in non-distributed openEHR systems will be instances of <code>ORIGINAL_VERSION&lt;T&gt;</code>. The <code>ORIGINAL_VERSION</code> is also the unit of copying in a distributed environment.</p>
</div>
<div class="paragraph">
<p>The second subtype is <code>IMPORTED_VERSION&lt;T&gt;</code>, and acts as a wrapper of an <code>ORIGINAL_VERSION&lt;T&gt;</code>. It has its own contribution and <code><em>commit_audit</em></code> (inherited from <code>VERSION&lt;T&gt;</code>), and contains the original version being imported in its <code><em>item</em></code> attribute. Its <code><em>uid</em></code> and <code><em>preceding_version</em></code> are defined as functions, returning the corresponding attribute values from the wrapped <code>ORIGINAL_VERSION</code> object (in other words, an <code>IMPORTED_VERSION</code> does not have its own version identifier distinct from the version it is wrapping). The semantics of importing are described below in <a href="#_copying">Section 6.4.1</a>. <a href="#instance_view_of_versioned_data">Figure 8</a> illustrates typical arrangements of <code>ORIGINAL_VERSION</code> and <code>IMPORTED_VERSION</code> objects within <code>VERSIONED_OBJECTs</code>, in turn within an EHR (if this is an EHR system), ultimately within an identified system. The two <code>VERSIONED_OBJECTs</code> are shown representing "medications" and "problem list", to give some idea of correspondence of versioning structures to logical data. Star icons represent digital signatures.</p>
</div>
<div id="instance_view_of_versioned_data" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/instance_view_of_versioned_data.png" alt="instance view of versioned data" width="80%">
</div>
<div class="title">Figure 8. Instance view of versioned data</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_virtual_version_tree"><a class="anchor" href="#_the_virtual_version_tree"></a>6.2.4. The "Virtual Version Tree"</h4>
<div class="paragraph">
<p>An underlying design concept of the versioning model defined here is known as the 'virtual version tree'. The idea is simple in the abstract. Information is committed to a repository (such as an EHR) in lumps, each lump being the 'data' of one Version. Each Version has its place within a version tree, which in turn is maintained inside a Versioned object. The virtual version tree concept means that any given Versioned object may have numerous copies in various systems, and that the creation of versions in each is done in such a way that all versions so created are in fact compatible with the 'virtual' version tree resulting from the superimposition of the version trees of all copies. This is achieved using simple rules for version identification, described below, and is done to facilitate data sharing. Two very common scenarios are served by the virtual version tree concept:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>longitudinal data that stands as a proxy for the state or situation of the patient such as "Medications" or "Problem list" (persistent Compositions in openEHR) is created and maintained in one or more care delivery organisations, and shared across a larger number of organisations;</p>
</li>
<li>
<p>some EHRs in an EHR server in one location are mirrored into one or more other EHR servers (e.g. at care providers where the relevant patients are also treated); the mirroring process requires asynchronous synchronisation between servers to work seamlessly, regardless of the location, time, or author of any data created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code><em>uid</em></code> attribute of the class <code>VERSIONED_OBJECT&lt;T&gt;</code> is in fact the Uid of the virtual version tree for a given logical item (such as the "problem list" of a certain patient) - that is to say, the <code><em>uid</em></code> will be the same in all copies of the same Versioned object in a distributed system.</p>
</div>
<div class="paragraph">
<p>The versioning scheme used in openEHR guarantees that no matter where data are created or copied, there are no inconsistencies due to sharing, and that logical copies are explicitly represented. This is achieved by the design of Version identifiers.</p>
</div>
</div>
<div class="sect3">
<h4 id="_contributions"><a class="anchor" href="#_contributions"></a>6.2.5. Contributions</h4>
<div class="paragraph">
<p>Since a versioned repository (i.e. a collection of <code>VERSIONED_OBJECTs</code>) is by definition indelible, all logical changes including deletions, additions, modifications (including error corrections and content changes), importing and attestations of existing items, are achieved by physically committing new Versions, or for attestations, new Attestation objects to existing Versions. Each logical type of change is achieved as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>addition of new item</em>: a new <code>VERSIONED_OBJECT</code> is created with a first <code>ORIGINAL_VERSION</code> whose data is the new item; the <code>ORIGINAL_VERSION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code <code>249|creation|</code>;</p>
</li>
<li>
<p><em>deletion of existing item</em>: a new <code>ORIGINAL_VERSION</code> whose data attribute is set to Void is added to an existing <code>VERSIONED_OBJECT</code>; the <code>ORIGINAL_VERSION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code <code>523|deleted|</code>;</p>
</li>
<li>
<p><em>modification of existing item</em>: a new <code>ORIGINAL_VERSION</code> whose data contains the updated form of the item content is added to an existing <code>VERSIONED_OBJECT</code>;</p>
<div class="ulist">
<ul>
<li>
<p>if the change is logically a correction (e.g. of wrongly entered data), the <code>ORIGINAL_VERSION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code <code>250|amendment|</code>;</p>
</li>
<li>
<p>if the change is logically a change, addition etc to the content, the <code>ORIGINAL_VERSION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code <code>251|modification|</code>;</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>import of item</em>: a new <code>IMPORTED_VERSION</code> is created, incorporating the received <code>ORIGINAL_VERSION</code>; the <code>IMPORTED_VERSION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code for <code>249|creation|</code>.</p>
</li>
<li>
<p><em>attestation of item</em>: a new <code>ATTESTATION</code> is added to the attestations list of an existing <code>ORIGINAL_VERSION</code>; the <code>ATTESTATION.<em>commit_audit</em>.<em>change_type</em></code> is set to the code <code>666|attestation|</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In a typical application situation, one or more of the above changes may be committed to a repository as a Contribution. For example during a patient encounter, the following might occur:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>addition</em>: a new Composition is created recording the Observations (e.g. physical examination), etc that are made during the Encounter;</p>
</li>
<li>
<p><em>modification</em>: the Composition containing the current medications list is updated, due to a prescription being given during the encounter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These two changes together constitute a logical <em>change-set</em>, and would typically be included in the one Contribution. In general, there might be any combination of the logical change types in a single commit by an application, corresponding to a single real-world business event, such as a GP Encounter, although attestations, deletions and corrections will usually be the only change within a Contribution. In every case, regardless of the combination, a <code>CONTRIBUTION</code> object will be created, listing the affected <code>VERSION</code> objects, and including its own audit object, whose <code><em>change_type</em></code> attribute captures the aggregate of the changes in the Compositions making up its <code><em>versions</em></code>. This may sometimes be approximate, and is not expected to be used as a computable value. Typical values for <code>CONTRIBUTION.<em>audit</em>.<em>change_type</em></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>251|modification|</code>: this accommodates cases where there is a mixture of creation, deletion, modification that constitute a change of content;</p>
</li>
<li>
<p><code>250|amendment|</code>: corresponds to a mixture of amendments and deletions that logically constitute a correction to the content;</p>
</li>
<li>
<p><code>666|attestation|</code>: used when the only changes are attestation of one or more of the member versions;</p>
</li>
<li>
<p>any code: when all member versions have the same change type, that change type may be used for the Contribution as well.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The list of all Contribution objects for a version repository (such as an EHR) provides a complete history of the change-sets made to the repository and is the basis for performing 'rollback' to access previous informational states of the EHR. Conversely, each Version object contains a reference to the Contribution that caused it to be created.</p>
</div>
</div>
<div class="sect3">
<h4 id="_committal_and_audits"><a class="anchor" href="#_committal_and_audits"></a>6.2.6. Committal and Audits</h4>
<div class="paragraph">
<p>Audits are recorded in the form of instances of the class <code>AUDIT_DETAILS</code> (<code>common.generic</code> package), which defines a set of attributes which form an audit trail, namely <code><em>system_id</em></code>, <code><em>committer</em></code>, <code><em>time_committed</em></code>, <code><em>change_type</em></code>, and <code><em>description</em></code> or its subtype <code>ATTESTATION</code>, which adds a number of other attributes (see below). When an <code>ORIGINAL_VERSION</code> instance is created locally, the commit_audit attribute contains an audit object recording the local act of committal. However, if the Version being committed does not correspond to local data creation, but instead contains a copy of an <code>ORIGINAL_VERSION</code> originally created and commited elsewhere, it is committed locally as an instance of the <code>IMPORTED_VERSION</code> class. Both the contribution and commit_audit of the latter object correspond to the local act of committal, while the knowledge of the original Contribution and committal are retained inside the wrapped <code>ORIGINAL_VERSION</code> instance. Original versions can be copied any number of times; in each system into which they are imported, an <code>IMPORTED_VERSION</code> is created as a wrapper.</p>
</div>
<div class="paragraph">
<p>This simple scheme ensures that the audit from initial creation - which is the clinically meaningful audit - is preserved no matter how many times the Version is copied to other systems; it also ensures that from the point of view of the version container, the local commit audit and Contribution always correspond to the local act of committal.</p>
</div>
<div class="paragraph">
<p>The <code>CONTRIBUTION</code> class also contains an audit attribute. Whenever a <code>CONTRIBUTION</code> is committed, this attribute captures to the time, place and committer of the committal act; these three attributes (<code><em>system_id</em></code>, <code><em>committer</em></code>, <code><em>time_committed</em></code> of <code>AUDIT_DETAILS</code>) should be copied into the corresponding attributes of the commit_audit of each <code>VERSION</code> included in the <code>CONTRIBUTION</code>. This is done to enable sharing of versioned entities independently of which Contributions they were part of.</p>
</div>
<div class="paragraph">
<p>The <code><em>time_committed</em></code> attribute in both the Contribution and Version audits should reflect the time of committal to an EHR server, i.e. the time of availability to other users in the same system. It should therefore be computed on the server in implementations where the data are created in a separate client context.</p>
</div>
<div class="paragraph">
<p>In terms of database management, Contributions are similar to nested transactions. An attempt to commit a Contribution should only succeed if each Version and/or Attestation in the Contribution is committed successfully.</p>
</div>
</div>
<div class="sect3">
<h4 id="_digital_signature"><a class="anchor" href="#_digital_signature"></a>6.2.7. Digital Signature</h4>
<div class="paragraph">
<p>At the time of committal of a Version, a digital signature of the object can be made. In this process, a Version object (an <code>ORIGINAL_VERSION</code> or <code>IMPORTED_VERSION</code>) is serialised into canonical form which is then hashed to produce a digest. If public key or equivalent infrastructure is in place so that users are able to sign content, a digital signature can be created from the hash, using the user&#8217;s private key. Either way, the result is then radix-64 encoded to create an ASCII string so as to remove or reduce potential problems with subsequent communication. The openPGP standard ensures that the trasformations and algorithms used to create the signature are indicated within it.</p>
</div>
<div class="paragraph">
<p>The signature can serve two purposes. If only the hashing step is done, the digest acts as a data integrity check, indicating if the data have been tampered with after creation. If the signing step is carried out, it authenticates the user as the author of the content to readers of the content. In a versioned EHR system, it also acts as a non-repudiation measure, since the signature is stored permanently with the data. To circumvent hacking of the data, public notarisation of the signature can be used. The signature, if present, is generated according to the openPGP standard (<a href="http://www.ietf.org/rfc/rfc4880">IETF RFC 4880</a>), following the process shown below.</p>
</div>
<div id="version_signature" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/version_signature.png" alt="version signature" width="80%">
</div>
<div class="title">Figure 9. Version signature (using openPGP)</div>
</div>
<div class="paragraph">
<p>The serialisation process works by the simple rule of serialising the entire Version object (note that the signature attribute will be Void at this point) into an agreed XML, ODIN or other text format, then applying the subsequent transformations to the serialised data, then writing the digest result back into the signature attribute. If the object to be serialised is an <code>IMPORTED_VERSION</code>, the process is the same - all attributes of the object are serialised and then used to generate a signature. The result will be that the <code>IMPORTED_VERSION</code> instance will carry its own signature which signifies the act of importing and making available locally an <code>ORIGINAL_VERSION</code> from another system.</p>
</div>
<div class="paragraph tbd">
<p><strong>To Be Determined</strong>: The exact serialisation is not yet defined by openEHR, but ODIN might be preferred since it has an unambiguous encoding of object structures, whereas different XML libraries can generate different XML from the same objects.</p>
</div>
<div class="paragraph">
<p>It should be noted that the signing process here creates a signature of a logical form of the content, not a particular graphical or other directly human interpretable view. Usually the relationship between the data and what is seen on the screen is assumed to be 1:1 in a reliable system. If however the equivalent of a signature of a screen image or other literal form of the data are needed, then the Attestation form of the <code><em>commit_audit</em></code> is needed. This is described below.</p>
</div>
<div class="paragraph">
<p>One of the most important uses of signatures in openEHR data is likely to be within EHR Extracts, since they can provide an assurance authenticity and integrity of the data to a receiver who has no knowledge of the quality of the processes used in the originating system.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attestation_2"><a class="anchor" href="#_attestation_2"></a>6.2.8. Attestation</h4>
<div class="paragraph">
<p>The <code>ORIGINAL_VERSION</code>.<code><em>attestations</em></code> attribute allows attestations to be associated with the data in an original version. Attestations are treated in openEHR as a kind of audit with additional attributes, and are described in detail in the <code>common.generic</code> package section of this specification. Any number of attestations to be associated with each Version in a Versioned object. Attestations can be added at any time after committal of the content being attested. They can be used as required by enter prise processes or legislation, and indicate by whom and when the item in question was attested. A digital "proof" is also required, although no assumption is made about the form of such proof.</p>
</div>
<div class="paragraph">
<p>Attestations may be used in different ways as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Signing content at committal: for some reason, the information being committed needs to be digitally signed. It may be that sensitive information is to be added to the EHR, e.g. recording the fact of sectioning of a patient under the mental health act, diagnosis of a fatal disease etc, or simply something which the user wants to sign. In this case, <code>ORIGINAL_VERSION.<em>commit_audit</em></code> is of type <code>ATTESTATION</code> rather than <code>AUDIT_DETAILS</code>.</p>
</li>
<li>
<p>Marking content for review and signing: data entered and committed by a data-entry person e.g. a secretary, transcriptionist or student need to be reviewed and signed by a senior clinician. Similarly to the above case, this will cause <code>ORIGINAL_VERSION.<em>commit_audit</em></code> to be of type <code>ATTESTATION</code>, but in this case, the Attestation will have its <code><em>is_pending</em></code> flag set True to indicate that attestation is required.</p>
</li>
<li>
<p>Post-committal signing: data committed with an Attestation in the is_pending state is reviewed and signed at a later point in tme by an appropriate member of staff. This action will cause an <code>ATTESTATION</code> to be added to the <code>ORIGINAL_VERSION.<em>attestations</em></code> list.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Normally, Attestations refer to the entire version to which they are attached. However, it is possible for an <code>ATTESTATION</code> instance to refer to some finer-grained item within the data of the version, such as a single <code>ENTRY</code> within a <code>COMPOSITION</code>.</p>
</div>
<div class="paragraph">
<p>When subsequent Versions are added, the existing Attestations can not be assumed to be valid for the new Version, since the nature of an attestation is that it records the witnessing of exactly the content displayed at the time of witnessing.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_versioning_semantics"><a class="anchor" href="#_versioning_semantics"></a>6.3. Versioning Semantics</h3>
<div class="sect3">
<h4 id="_version_lifecycle"><a class="anchor" href="#_version_lifecycle"></a>6.3.1. Version Lifecycle</h4>
<div class="paragraph">
<p>Content in Original versions has a lifecycle state associated with it, modelled using the <code>ORIGINAL_VERSION.<em>lifecycle_state</em></code> attribute, which is coded from the openEHR Terminology 'version lifecycle state' group. The possible values are <code>532|complete|</code>, <code>553|incomplete|</code> and <code>523|deleted|</code>. Usually content will be committed in the <code>complete</code> state. However, in some circumstances, e.g. because the author has run out of time or due to an emergency, it may be committed as <code>incomplete</code> meaning that it is either incomplete or at least unreviewed. In hospitals this is a common occurrence. Unfinished Compositions cannot be saved locally on the client machine, since this represents a security risk (a small client-side database would be much easier to hack into than a secure server). They must therefore be persisted on the server, either in the actual EHR, or in a 'holding bay' which was recognised as not being part of the EHR proper. Either way, the author would have to explicitly retrieve the Composition(s) and after further work or review, 'promote' them into the EHR as 'active' Compositions; alternatively, they might decide to throw them away.</p>
</div>
<div class="paragraph">
<p>Going from <code>incomplete</code> to <code>complete</code> states almost always corresponds to a change in content, and corresponds to a new <code>VERSION</code> regardless. This modelling approach allows such content to exist on the EHR system, but to be flagged as incomplete when viewed by a user.</p>
</div>
<div class="paragraph">
<p>Systems are responsible for implementing checks to find 'old' Versions in <code>incomplete</code> state, and bring them to the relevant user&#8217;s notice, or automatically deleting them or progressing them to <code>complete</code> as appropriate.</p>
</div>
<div class="paragraph">
<p>The following diagram shows the formal state machine of the <code>ORIGINAL_VERSION.<em>lifecycle_state</em></code> attribute.</p>
</div>
<div id="version_lifecycle" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-version_lifecycle.svg" alt="RM version lifecycle">
</div>
<div class="title">Figure 10. <code>ORIGINAL_VERSION <em>lifecycle_state</em></code> state machine</div>
</div>
</div>
<div class="sect3">
<h4 id="_logical_deletion"><a class="anchor" href="#_logical_deletion"></a>6.3.2. Logical Deletion</h4>
<div class="paragraph">
<p>Within the lifecycle described above, deletion of existing top-level content items (i.e. the entire data contents of a Version) is somewhat of a special case in openEHR and in EHRs in general. Medicolegal and traceability requirements mean that information cannot be literally removed, since it must always be possible to revert back to a previous state of the record in which the deleted information is intact. Accordingly, information can only ever be logically deleted. This is achieved by the following procedure in the Version container in question:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a new Version in the normal way;</p>
</li>
<li>
<p>delete its <code><em>data</em></code> (which will by default be a copy of the data of the previous Version);</p>
</li>
<li>
<p>set the <code><em>lifecycle_state</em></code> value to the code for "deleted"</p>
</li>
<li>
<p>commit in the normal way.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Logical deletion can be used for various reasons, including patient direction to remove material, and in the situation where information about a different patient has been incorrectly committed to a record, and has to be removed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_identification"><a class="anchor" href="#_version_identification"></a>6.3.3. Version Identification</h4>
<div class="paragraph">
<p>The version identification scheme described here is adapted from the work of Hn√¨tynka and Pl√°≈°il <a href="#Hn√¨tynka_2004">[Hn√¨tynka_2004]</a>. <code>VERSION</code> objects are identified by a <code><em>uid</em></code> attribute, which is a three-part identifier consisting of the attributes <code><em>object_id</em></code>, <code><em>creating_system_id</em></code> and <code><em>version_tree_id</em></code> (see   <a href="https://specifications.openehr.org/releases/RM/latest/support.html#_identification_package"><code>support.identification</code> package in the Support IM</a>), in which the <code><em>object_id</em></code> part is a copy of the <code><em>uid</em></code> of the owning <code>VERSIONED_OBJECT</code> version container.</p>
</div>
<div class="paragraph">
<p>The following figure illustrates the scheme. The <code>VERSIONED_OBJECT</code> <code><em>uid</em></code> value - here, "1234" - is used as the <code><em>object_id()</em></code> part of the <code><em>uid</em></code> of every contained <code>VERSION</code> (note that an <code>OBJECT_VERSION_ID&#8217;s</code> <code><em>value</em></code> is a <code>String</code>, with various accessor functions like <code><em>object_id()</em></code> used to extract the logical pieces). Accordingly, each of those versions will have a <code><em>uid</em></code> following the pattern <code>"1234:system_id:version_tree_id"</code>. The use of the <code><em>version_tree_id</em></code> and <code><em>system_id</em></code> parts of the identifier are explained in the sections below. The function <code>VERSION.<em>owner_id()</em></code> is provided to enable a caller to easily obtain the 'owning version container' identifier.</p>
</div>
<div id="version_identification_system" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/version_identification_system.svg" alt="version identification system" width="80%">
</div>
<div class="title">Figure 11. Version identification system</div>
</div>
<div class="paragraph">
<p>The following figure provides an example of multiple <code>VERSIONs</code> within a <code>VERSIONED_OBJECT</code>, where one of the versions has been merged from another system. This highlights the identifiers; details of original and merged versions are described below.</p>
</div>
<div id="version_identification_example" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/version_identification_example.svg" alt="version identification example" width="80%">
</div>
<div class="title">Figure 12. Version identification Example</div>
</div>
<div class="sect4">
<h5 id="_local_versioning"><a class="anchor" href="#_local_versioning"></a>6.3.3.1. Local Versioning</h5>
<div class="paragraph">
<p>The <code><em>version_tree_id</em></code> attribute of <code>VERSION.<em>uid</em></code> identifies a version of an item with respect to other versions in the same tree. The requirements of the identifier are the same as for typical versioning systems in use in software configuration management, and are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to encode the relationship between versions in the version id, that is to say, version identifiers are constructed such that given a series of identifiers, the relative positions in the tree can be determined;</p>
</li>
<li>
<p>to allow for branches, so that variants of a particular node can be created; e.g. due to translation, or for training purposes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A suitable scheme satisfying the above requirements for health information is the simplest possible, i.e. a single number representing the version. Version identifiers thus start at 1 and continue by single increments. The succession of version identifiers formed by changes over time is known as the "trunk" of the version tree.</p>
</div>
<div class="paragraph">
<p>To support branching, a further pair of numbers is added. The first number identifies the branch (e.g. the 1st branch, 2nd branch etc from that trunk node), while the second identifies the version. Both of these numbers also start at '1'. The result of this is that version numbers like '1.1.1' (first version of first branch from trunk node 1), '2.3.3' (3rd version of 3rd branch from trunk node 2) are possible. Inside openEHR systems where sharing with other systems does not occur, it is expected that branched versioning will be used rarely; translation is likely to be the only reason (for example if a Portuguese translation of an English language version of a Composition is made).</p>
</div>
</div>
<div class="sect4">
<h5 id="_distributed_versioning"><a class="anchor" href="#_distributed_versioning"></a>6.3.3.2. Distributed Versioning</h5>
<div class="paragraph">
<p>However, in a distributed environment where copying and subsequent modification can occur, there are more requirements of the version identification scheme, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it must be possible for an item to be copied and for local modifications then to be made without causing version clashes;</p>
</li>
<li>
<p>it must be possible to send more recent versions from the original system to a target system that has already received earlier versions, and for these versions to be distinguishable from versions in the receiving system, including the previously imported versions - this enables the receiving system to know how and where to commit the received versions;</p>
</li>
<li>
<p>it must be guaranteed that any version of any object is uniquely identified globally, no matter whether it is a locally created trunk version, a locally created branch version or a version containing changes made to a copied version.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To satisfy these needs, two modifications are made to the identification scheme. The first is the addition of the <code><em>creating_system_id</em></code> attribute of <code>VERSION.<em>uid</em></code>, representing the system where the version was created. This is a machine processable identifier, such as a reverse internet address or GUID.</p>
</div>
<div class="paragraph">
<p>Whenever a new <code>ORIGINAL_VERSION</code> in a particular <code>VERSIONED_OBJECT</code> (with a particular uid) is created locally, the <code>VERSION.<em>uid</em>.<em>creating_system_id</em></code> is set to the identifier of the local system; if the version was imported, <code><em>creating_system_id</em></code> will already have been set to the identifier of the system of original creation.</p>
</div>
<div class="paragraph">
<p>The second modification is to require branching version identifiers to be used when local modifications are made to versions copied from elsewhere; this ensures that the modifications now being made in the target system are considered in a global sense as logical branches or variants rather than trunk versions which are made in the originating system. It also allows later trunk versions from the originating system to be copied at some future time to the target system without version identifier clashes. In summary, this scheme uses the tuple {<code><em>object_id</em></code>, <code><em>version_tree_id</em></code>, <code><em>creating_system_id</em></code>} to globally uniquely identify any openEHR <code>VERSION</code> object.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_semantics_in_distributed_systems"><a class="anchor" href="#_semantics_in_distributed_systems"></a>6.4. Semantics in Distributed Systems</h3>
<div class="sect3">
<h4 id="_copying"><a class="anchor" href="#_copying"></a>6.4.1. Copying</h4>
<div class="sect4">
<h5 id="_the_copy_operation"><a class="anchor" href="#_the_copy_operation"></a>6.4.1.1. The Copy Operation</h5>
<div class="paragraph">
<p>In openEHR, the smallest unit of copying of content between systems that satisfies traceability requirements is the <code>ORIGINAL_VERSION</code>. In order to copy a <code>OBSERVATION</code> or even an <code>COMPOSITION</code> somewhere else and retain versioning capability, its enclosing <code>ORIGINAL_VERSION</code> object must be sent. When the type of content is a <code>COMPOSITION</code> for example, an <code>ORIGINAL_VERSION&lt;COMPOSITION&gt;</code> object is sent. At the receiving system various steps will occur depending on whether:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>any items for the EHR in question have ever been copied before;</p>
</li>
<li>
<p>a copied EHR exists in the destination system for the subject of care, but no copies of the particular item in question have even been made (e.g. it is the first time Family History has been copied);</p>
</li>
<li>
<p>an EHR exists, and previous copies have been made for the item in question;</p>
</li>
<li>
<p>there is a duplicate EHR for the subject of care (i.e. created by new data entry rather than by automatic copying).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the first situation, there is not even an EHR (i.e. repository of Versioned objects for the patient in question) in the target system. A new one has to be created. As mentioned in the <a href="https://specifications.openehr.org/releases/RM/latest/ehr.html#_ehr_creation_semantics">EHR IM specification</a>, the newly created EHR should re-use the EHR identifier from the source system. This establishes the new EHR as an intentional clone of the source EHR (or more correctly, part of the family of EHRs making up the virtual EHR for that patient).</p>
</div>
<div class="paragraph">
<p>If it is the first time any version of the item logically identified by its <code>ORIGINAL_VERSION.<em>uid</em>.<em>object_id</em></code> (i.e. the <code><em>uid</em></code> of its original <code>VERSIONED_OBJECT</code>, common to all Versions in the same container) was received from the originating system, a new <code>VERSIONED_OBJECT&lt;T&gt;</code> (e.g. <code>VERSIONED_OBJECT&lt;COMPOSITION&gt;</code>) is created, with its uid set to the same value as the received <code>VERSION.<em>uid</em>.<em>object_id</em></code>. This establishes the newly created <code>VERSIONED_OBJECT</code> as being a logical clone of the one from which the received <code>ORIGINAL_VERSION</code> was copied. If some version of the item had already been received, this step will have already occurred, and the requisite <code>VERSIONED_OBJECT</code> would already exist.</p>
</div>
<div class="paragraph">
<p>An <code>IMPORTED_VERSION</code> instance is then created, its item set to the received <code>ORIGINAL_VERSION</code>, and it is committed in the normal way (i.e. as part of a Contribution). The <code>IMPORTED_VERSION</code> commit_audit and contribution attributes record the local act of committal. In this operation, the <code>ORIGINAL_VERSION</code> instance is never modified - it remains a faithful copy of its original, no matter how many systems it may be copied through.</p>
</div>
</div>
<div class="sect4">
<h5 id="_subsequent_local_modifications"><a class="anchor" href="#_subsequent_local_modifications"></a>6.4.1.2. Subsequent Local Modifications</h5>
<div class="paragraph">
<p>In most cases, the received information will remain as is for the duration. However, in some cases, users at the receiver system might want to make modifications as well. This is likely to happen in the case of information items representing things like medication lists and allergies. When new versions are added locally to a copied object, the local system id is recorded in the <code><em>uid</em>.<em>creating_system_id</em></code> attribute, while branching numbering is used in the <code><em>uid</em>.<em>version_tree_id</em></code>.</p>
</div>
<div class="paragraph">
<p>These copying scenarios are illustrated in the figure below. On the left hand-side of the figure, a version container (i.e. an instance of <code>VERSIONED_OBJECT</code>) with <code><em>uid</em></code> = "1" is shown; the first Version has <code><em>uid</em>.<em>creating_system_id</em></code> = "sysA"; <code><em>uid</em>.<em>version_tree_id</em></code> = "1". Further local trunk and branch versions are also shown.</p>
</div>
<div id="distributed_versioning" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/distributed_versioning.png" alt="distributed versioning" width="70%">
</div>
<div class="title">Figure 13. Distributed versioning</div>
</div>
<div class="paragraph">
<p>When the first <code>ORIGINAL_VERSION</code> is copied (copy #1) to system B, it is committed as an <code>IMPORTED_VERSION</code> to a <code>VERSIONED_OBJECT</code> which is a clone of the original. Subsequent copies (copy #2 and copy #3) can be made of later versions from system A to system B, with the effect that the version tree can be recreated inside system B (if required; there is of course no obligation to do anything with the received information). Users in system B an also make modifications to the received Version copies; these modifications are shown in grey, as branched versions with <code><em>uid</em>.<em>creating_system_id</em></code> = "sysB". Independently, users in system B will of course be creating other content locally, e.g. as shown on the right-hand side, where a Versioned object with <code><em>uid</em></code>= "2" has been created. Two places are indicated on the diagram where identification clashes could have occurred, but are prevented due to the use of the 3-part unique Version identifier scheme.</p>
</div>
<div class="paragraph">
<p>Two rules are required to make this system work, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>branch versions from the original systems that are copied to another system cannot be copied without their corresponding preceding versions on the same branch (if any) and trunk versions also being copied;</p>
</li>
<li>
<p>no system should create a new Versioned object (with a new uid) without first determining that it does not already have one with the same uid. This should happen automatically if GUIDs are being used (and the generating software is reliable); checks may have to be made if ISO Oids are being used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An important consequence of the way <code>IMPORTED_VERSION</code> is modelled is that in the Version containers resulting from copy operations, the commit times always reflect the local (more recent) act of committal, not the original committal of the information to the container where it was created. This ensures that a query for the state of a Version container at earlier commit times correctly returns what information existed at that time in that container, rather than giving the illusion that recently copied Versions were there earlier than the time of local committal (as would occur if the original commit time of the <code>ORIGINAL_VERSION</code> object was used for comparison purposes in such queries). Accordingly, such a query over an entire EHR or other versioned information repository always returns the state of the repository available to users at that time, regardless of how many later merges or copies were carried out. This is a key requirement for supporting medico-legal and historical investigations of stored information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_merging"><a class="anchor" href="#_version_merging"></a>6.4.2. Version Merging</h4>
<div class="paragraph">
<p>One of the most common operations in distributed versioned environments, particularly in healthcare, is that content created in one system is imported into another system, modifications are created locally there which are then sent back the first system. This information pathway corresponds to scenarios such as the patient being referred from primary care into a hospital, and later being discharged into primary (or other care).</p>
</div>
<div class="paragraph">
<p>The usual need when the first system receives changes made to the data by the second system is to merge them back into the trunk of the version tree. Logically a 'merge' is the operation of using two versions of the same content to create a third version. How the source versions are used will vary based on the semantics of the information; it could be that the either is simply taken in its totality and the other discarded, or some mixture might be created of the two in a process of editing by the user. In many cases in health, such as where the content is a medication or problem list, the user in the original system will review the received content and create a new trunk version locally using that content, since it will be deemed to be the most accurate available in the clinical computing environment. This scenario is illustrated below.</p>
</div>
<div id="version_merging" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/version_merging.png" alt="version merging" width="60%">
</div>
<div class="title">Figure 14. Version merging</div>
</div>
<div class="paragraph">
<p>In this figure, versions 1 and 2 of the content (e.g. a medication list) from Versioned object with <code><em>uid</em></code>=1 are copied from system A (e.g. a GP) to system B (e.g. a hospital). In system B, changes are made to version 2, creating a branch (as an instance of <code>IMPORTED_VERSION&lt;T&gt;</code>) as required by the rules described above. These changes (modified medication list) are then imported back into system A. The system A user performs a merge operation to create a new trunk version 3, using the sysB::2.1.2 and sysA::2 content; most likely, he simply reviews the two input versions and uses the sysB::2.1.2 content unchanged (the result is that system A now has an up-to-date medication list for the patient, including medications orginally recorded at system A, as well as additions recorded at system B). The new Version is an instance of <code>ORIGINAL_VERSION&lt;T&gt;</code>, with its other_input_version_ids attribute set to include the <code>OBJECT_VERSION_ID</code> representing sysB::2.1.2 (it does not need to include sysA::2, since this is already known in the <code><em>preceding_version_uid</em></code>).</p>
</div>
<div class="paragraph">
<p>If in system A a modification had been done to the sysA::2 version, creating sysA::3, in parallel with the system B changes, then a conflict situation is likely when the merge attempt is made. This may need to be resolved by a human user, for whom an automated merge attempt could be presented on the screen as a starting point, much as current source code control tools do today.</p>
</div>
</div>
<div class="sect3">
<h4 id="_disjoint_merging"><a class="anchor" href="#_disjoint_merging"></a>6.4.3. Disjoint Merging</h4>
<div class="paragraph">
<p>An unintended but not uncommon situation is when distinct Version containers are created for the same real-world entity. For example, separate EHRs can be created for the one patient, due to patient identification errors or other procedural or administrative problems. Each record is likely to contain some logically duplicated basic information, as well as information unique to that record, e.g. contributed by different hospital departments. Within the one EHR, unintentionally distinct Version containers might be created for the same logical item, such as the patient&#8217;s problem list. These erroneous situations are eventually detected, and need to be rectified. Logically what is required is to merge the two records (each potentially consisting of numerous Version containers) into one, as shown below.</p>
</div>
<div id="disjoint_merging" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/disjoint_merging.png" alt="disjoint merging" width="80%">
</div>
<div class="title">Figure 15. Disjoint merging</div>
</div>
<div class="paragraph">
<p>The merge procedure is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>decide which record is to remain active (for merging purposes, this will be the "target", the other the "source");</p>
</li>
<li>
<p>for all Version containers in the source record&#8230;&#8203;</p>
<div class="ulist">
<ul>
<li>
<p>if there is a logical equivalent in the target record (for EHRs, there will typically only be equivalents for persistent and possibly administrative Compositions), perform a disjoint merge in the target Version container by:</p>
<div class="ulist">
<ul>
<li>
<p>creating a new trunk version in the target Version container;</p>
</li>
</ul>
</div>
</li>
<li>
<p>if there is no logical equivalent, do the following:</p>
<div class="ulist">
<ul>
<li>
<p>create a new target Version container;</p>
</li>
<li>
<p>create its first trunk Version;</p>
</li>
</ul>
</div>
</li>
<li>
<p>in both cases, continue as follows:</p>
<div class="ulist">
<ul>
<li>
<p>set the <code><em>data</em></code> in the new trunk Version to be a copy of the data from the most recent trunk Version from the source container;</p>
</li>
<li>
<p>set <code><em>other_input_version_uids</em></code> to include the uid of the source Version being merged (this uid will contain the uid of the Version container being logically deleted);</p>
</li>
<li>
<p>for any branches on the most recent trunk Version in the source container, create corresponding branches on the newly created trunk Version in the target, include the corresponding content and set the <code><em>other_input_version_uids</em></code> in the target in the same way as above;</p>
</li>
<li>
<p>add a new trunk Version to the source container, with the <code><em>data</em></code> set to Void, and <code><em>lifecycle_state</em></code> set to deleted.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>As for copying and merging, an important consequence of this procedure is that the resulting record (i.e. the target of the merge procedure) continues to correctly represent previous states of the repository, regardless of how many recent merges have occurred.</p>
</div>
</div>
<div class="sect3">
<h4 id="_moving_version_containers"><a class="anchor" href="#_moving_version_containers"></a>6.4.4. Moving Version Containers</h4>
<div class="paragraph">
<p>It will not be uncommon that whole <code>VERSIONED_OBJECTS</code> need to be moved to another system, e.g. due to a move of a complete patient record (due to the patient moving), or re-organisation of EHR data centres. The semantics of a move are different from those of copying: with a move, there is no longer a source instance after the operation; the destination instance becomes the primary instance.</p>
</div>
<div class="paragraph">
<p>When the move is effected, the identifier of the system in which the <code>VERSIONED_OBJECT</code> now exists will usually be different from what it was before. As a consequence, subsequent versions of the content created in a moved version container will now have the <code><em>uid</em></code>.<code><em>creating_system_id</em></code> set to the id of the new system. This creates another variation on the version lineage, one in which the <code><em>uid</em></code>.<code><em>creating_system_id</em></code> value can change in the trunk line, as shown in below.</p>
</div>
<div id="moving_version_container" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="common/diagrams/moving_version_container.png" alt="moving version container" width="50%">
</div>
<div class="title">Figure 16. Moving a version container</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_3"><a class="anchor" href="#_class_descriptions_3"></a>6.5. Class Descriptions</h3>
<div class="sect3">
<h4 id="_versioned_object_class"><a class="anchor" href="#_versioned_object_class"></a>6.5.1. VERSIONED_OBJECT Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VERSIONED_OBJECT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Version control abstraction, defining semantics for versioning one complex object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code>HIER_OBJECT_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unique identifier of this version container in the form of a UID with no extension. This id will be the same in all instances of the same container in a distributed environment, meaning that it can be understood as the uid of the  virtual version tree.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>owner_id</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reference to object to which this version container belongs, e.g. the id of the containing EHR or other relevant owning entity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time_created</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Time of initial creation of this versioned object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_count</strong> (): <code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the total number of versions in this object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>all_version_ids</strong> (): <code>List&lt;OBJECT_VERSION_ID&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return a list of ids of all versions in this object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>all_versions</strong> (): <code>List&lt;VERSION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return a list of all versions in this object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_version_at_time</strong> (<br>
a_ver_id: <code>OBJECT_VERSION_ID[1]</code><br>
): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if a version for time  <code><em>a_time</em></code> exists.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_version_id</strong> (<br>
a_ver_id: <code>OBJECT_VERSION_ID[1]</code><br>
): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if a version with <code><em>an_id</em></code> exists.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_with_id</strong> (<br>
a_ver_id: <code>OBJECT_VERSION_ID[1]</code><br>
): <code>VERSION</code><br>
<strong><em>Pre</em></strong>: <code>has_version_id (a_ver_id)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the version with <code><em>uid</em></code> =  <code><em>a_ver_id</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_original_version</strong> (<br>
a_ver_id: <code>OBJECT_VERSION_ID[1]</code><br>
): <code>Boolean</code><br>
<strong><em>Pre</em></strong>: <code>has_version_id(a_ver_id)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if version with <code><em>an_id</em></code> is an <code>ORIGINAL_VERSION</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>version_at_time</strong> (<br>
a_time: <code>DV_DATE_TIME[1]</code><br>
): <code>VERSION</code><br>
<strong><em>Pre</em></strong>: <code>has_version_at_time (a_time)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the version for time  <code><em>a_time</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>revision_history</strong> (): <code>REVISION_HISTORY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>History of all audits and attestations in this versioned repository.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>latest_version</strong> (): <code>VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the most recently added version (i.e. on trunk or any branch).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>latest_trunk_version</strong> (): <code>VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the most recently added trunk version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>trunk_lifecycle_state</strong> (): <code>DV_CODED_TEXT</code><br>
<strong><em>Post</em></strong>: <code>Result = latest_trunk_version.lifecycle_state</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Return the lifecycle state from the latest trunk version. Useful for determining if the version container is logically deleted.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>commit_original_version</strong> (<br>
a_contribution: <code>OBJECT_REF[1]</code>,<br>
a_new_version_uid: <code>OBJECT_VERSION_ID[1]</code>,<br>
a_preceding_version_id: <code>OBJECT_VERSION_ID[1]</code>,<br>
an_audit: <code>AUDIT_DETAILS[1]</code>,<br>
a_lifecycle_state: <code>DV_CODED_TEXT[1]</code>,<br>
a_data: <code>T[1]</code>,<br>
signing_key: <code>String[1]</code><br>
): <code>void</code><br>
<strong><em>Pre</em></strong>: <code>all_version_ids.has (a_preceding_version_uid) or else version_count = 0</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add a new original version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>commit_original_merged_version</strong> (<br>
a_contribution: <code>OBJECT_REF[1]</code>,<br>
a_new_version_uid: <code>OBJECT_VERSION_ID[1]</code>,<br>
a_preceding_version_id: <code>OBJECT_VERSION_ID[1]</code>,<br>
an_audit: <code>AUDIT_DETAILS[1]</code>,<br>
a_lifecycle_state: <code>DV_CODED_TEXT[1]</code>,<br>
a_data: <code>T[1]</code>,<br>
an_other_input_uids: <code>List&lt;OBJECT_VERSION_ID&gt;[1]</code>,<br>
signing_key: <code>String[1]</code><br>
): <code>void</code><br>
<strong><em>Pre</em></strong>: <code>all_version_ids.has (a_preceding_version_uid) or else version_count = 0</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add a new original merged version. This commit function adds a parameter containing the ids of other versions merged into the current one.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>commit_imported_version</strong> (<br>
a_contribution: <code>OBJECT_REF[1]</code>,<br>
an_audit: <code>AUDIT_DETAILS[1]</code>,<br>
a_version: <code>ORIGINAL_VERSION[1]</code><br>
): <code>void</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add a new imported version. Details of version id etc come from the <code>ORIGINAL_VERSION</code> being committed.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>commit_attestation</strong> (<br>
an_attestation: <code>ATTESTATION[1]</code>,<br>
a_ver_id: <code>OBJECT_VERSION_ID[1]</code>,<br>
signing_key: <code>String[1]</code><br>
): <code>void</code><br>
<strong><em>Pre</em></strong>: <code>has_version_id(a_ver_id)
and is_original_version(a_ver_id)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add a new attestation to a specified original version. Attestations can only be added to Original versions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Version_count_valid</em></strong>: <code>version_count &gt;= 0</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>All_version_ids_valid</em></strong>: <code>all_version_ids.count = version_count</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>All_versions_valid</em></strong>: <code>all_versions.count = version_count</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Latest_version_valid</em></strong>: <code>version_count &gt; 0 implies latest_version /= Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Uid_validity</em></strong>: <code>extension.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_version_class"><a class="anchor" href="#_version_class"></a>6.5.2. VERSION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>VERSION (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Abstract model of one Version within a Version container, containing data, commit audit trail, and the identifier of its Contribution.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>contribution</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Contribution in which this version was added.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>signature</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>OpenPGP digital signature or digest of content committed in this Version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>commit_audit</strong>: <code>AUDIT_DETAILS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Audit trail corresponding to the committal of this version to the <code>VERSIONED_OBJECT</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(abstract)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong> (): <code>OBJECT_VERSION_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unique identifier of this <code>VERSION</code>, in the form of an <code>{object_id, a version_tree_id, creating_system_id}</code> triple, where the <code><em>object_id</em></code> has the same value as the containing <code>VERSIONED_OBJECT <em>uid</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(abstract)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>preceding_version_uid</strong> (): <code>OBJECT_VERSION_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unique identifier of the version of which this version is a modification; Void if this is the first version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(abstract)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong> (): <code>T</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The data of this Version.
Original content of this Version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(abstract)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lifecycle_state</strong> (): <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Lifecycle state of this version; coded by openEHR vocabulary 'version lifecycle state'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>canonical_form</strong> (): <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A canonical serial form of this Version, suitable for generating reliable hashes and signatures.
Canonical form of Version object, created by serialising all attributes except
signature.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>owner_id</strong> (): <code>HIER_OBJECT_ID</code><br>
<strong><em>Post</em></strong>: <code>Result.value.is_equal (uid.object_id.value)</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Copy of the owning <code>VERSIONED_OBJECT.<em>uid</em></code> value; extracted from the local <code><em>uid</em></code> property&#8217;s <code><em>object_id</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_branch</strong> (): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this Version represents a branch. Derived from <code><em>uid</em></code> attribute.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Preceding_version_uid_validity</em></strong>: <code>uid.version_tree_id.is_first xor preceding_version_uid /= Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Lifecycle_state</em> valid_</strong>: <code>lifecycle_state /= Void and then terminology (Term_id_openehr).has_code_for_group_id (Group_id_version_lifecycle_state, lifecycle_state.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_original_version_class"><a class="anchor" href="#_original_version_class"></a>6.5.3. ORIGINAL_VERSION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ORIGINAL_VERSION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>A Version containing locally created content and optional attestations.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSION</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code>OBJECT_VERSION_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Stored version of inheritance precursor.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>preceding_version_uid</strong>: <code>OBJECT_VERSION_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Stored version of inheritance precursor.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_input_version_uids</strong>: <code>List&lt;OBJECT_VERSION_ID&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifiers of other versions whose content was merged into this version, if any.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lifecycle_state</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Lifecycle state of the content item in this version; coded by openEHR vocabulary 'version lifecycle state'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>attestations</strong>: <code>List&lt;ATTESTATION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set of attestations relating to this version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong>: <code>T</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Data content of this Version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_merged</strong> (): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this Version was created from more than just the preceding (checked out) version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Attestations_valid</em></strong>: <code>attestations /= Void implies not attestations.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Is_merged_validity</em></strong>: <code>other_input_version_ids = Void xor is_merged</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Other_input_version_uids_valid</em></strong>: <code>other_input_version_uids /= Void implies not other_input_version_uids.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_imported_version_class"><a class="anchor" href="#_imported_version_class"></a>6.5.4. IMPORTED_VERSION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>IMPORTED_VERSION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Versions whose content is an ORIGINAL_VERSION copied from another location; this class inherits commit_audit and contribution from VERSION&lt;T&gt;, providing imported versions with their own audit trail and Contribution, distinct from those of the imported ORIGINAL_VERSION.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSION</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>item</strong>: <code>ORIGINAL_VERSION</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The ORIGINAL_VERSION object that was imported.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(effected)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong> (): <code>OBJECT_VERSION_ID</code><br>
<strong><em>Post</em></strong>: <code>Result = item.uid</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Computed version of inheritance precursor, derived as <code><em>item.uid</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(effected)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>preceding_version_uid</strong> (): <code>OBJECT_VERSION_ID</code><br>
<strong><em>Post</em></strong>: <code>Result = item.preceding_version_uid</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Computed version of inheritance precursor, derived as <code><em>item.preceding_version_uid</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(effected)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lifecycle_state</strong> (): <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Lifecycle state of the content item in wrapped <code>ORIGINAL_VERSION</code>, derived as <code><em>item.lifecycle_state</em></code>; coded by openEHR vocabulary 'version lifecycle state'.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">(effected)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong> (): <code>T</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Original content of this Version.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_contribution_class"><a class="anchor" href="#_contribution_class"></a>6.5.5. CONTRIBUTION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>CONTRIBUTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Documents a Contribution (change set) of one or more versions added to a change-controlled repository.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>uid</strong>: <code>HIER_OBJECT_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unique identifier for this Contribution.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>versions</strong>: <code>List&lt;OBJECT_REF&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set of references to Versions causing changes to this EHR. Each contribution contains a list of versions, which may include paths pointing to any number of versionable items, i.e. items of types such as <code>COMPOSITION</code> and <code>FOLDER</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>audit</strong>: <code>AUDIT_DETAILS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Audit trail corresponding to the committal of this Contribution.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resource_package"><a class="anchor" href="#_resource_package"></a>7. Resource Package</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
the version of the Resource package described below is used only in ADL 1.4 archetypes, i.e. via the <a href="https://specifications.openehr.org/releases/AM/latest/AOM1.4.html">AOM 1.4 archetype model</a>. A newer version of this package is defined in the <a href="https://specifications.openehr.org/releases/BASE/latest/resource.html">openEHR Resource Specfication</a> in the BASE component, and is used in ADL 2 archetypes (via the <a href="https://specifications.openehr.org/releases/AM/latest/AOM2.html">AOM 2 archetype model</a>) and in the <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html">Task Planning specification</a>. The newer specification is almost completely backwards compatible, enabling for example easy upgrading of ADL1.4 archetype meta-data to the ADL2 form. It also specifies more comprehensive meta-data as well as annotations. The new specification should be used for all relevant needs in the future, with the older form here retained only while needed by AOM 1.4 based archetypes and tools.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_overview_6"><a class="anchor" href="#_overview_6"></a>7.1. Overview</h3>
<div class="paragraph">
<p>The <code>common.resource</code> package defines the structure and semantics of the general notion of an online resource which has been created by a human author, and consequently for which natural language is a factor. The package is illustrated below.</p>
</div>
<div id="resource_package" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="UML/diagrams/RM-common.resource.svg" alt="RM common.resource">
</div>
<div class="title">Figure 17. common.resource Package</div>
</div>
<div class="sect3">
<h4 id="_natural_languages_and_translation"><a class="anchor" href="#_natural_languages_and_translation"></a>7.1.1. Natural Languages and Translation</h4>
<div class="paragraph">
<p>Authored resources contain natural language elements, and are therefore created in some original language, recorded in the <code><em>orginal_language</em></code> attribute of the <code>AUTHORED_RESOURCE</code> class. Information about translations is included in the translations attribute, which allows for one or more sets of translation details to be recorded. A resource is translated by doing the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>translating every language-dependent element to the new language;</p>
</li>
<li>
<p>adding a new <code>TRANSLATION_DETAILS</code> instance to translations, containing details about the translator, organisation, quality assurance and so on.</p>
</li>
<li>
<p>any further translations to language-specific elements in a instances of descendent type of <code>AUTHORED_RESOURCE</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The languages_available function provides a complete list of languages in the resource.</p>
</div>
</div>
<div class="sect3">
<h4 id="_meta_data_2"><a class="anchor" href="#_meta_data_2"></a>7.1.2. Meta-data</h4>
<div class="paragraph">
<p>What is normally considered the 'meta-data' of a resource, i.e. its author, date of creation, purpose, and other descriptive items, is described by the <code>RESOURCE_DESCRIPTION</code> and <code>RESOURCE_DESCRIPTION_ITEM</code> classes. The parts of this that are in natural language, and therefore may require translated versions, are represented in instances of the <code>RESOURCE_DESCRIPTION_ITEM</code> class. Thus, if a <code>RESOURCE_DESCRIPTION</code> has more than one <code>RESOURCE_DESCRIPTION_ITEM</code>, each of these should carry exactly the same information in a different natural language.</p>
</div>
<div class="paragraph">
<p>The <code>AUTHORED_RESOURCE</code>.<code><em>description</em></code> attribute is optional, allowing for resources with no meta-data at all, e.g. resources in a partial state of construction. The translations attribute may still be required, since there may be other parts of the resource object (specified by a class into which <code>AUTHORED_RESOURCE</code> is inherited) that are language-dependent.</p>
</div>
</div>
<div class="sect3">
<h4 id="_revision_history_2"><a class="anchor" href="#_revision_history_2"></a>7.1.3. Revision History</h4>
<div class="paragraph">
<p>When the resource is considered to be in a state where changes to it should be controlled, the is_controlled attribute is set to True, and all subsequent changes should have an audit trail recorded. Usually controlled resources would be managed in a versioned repository (e.g. implemented by CVS, Subversion or similar systems), and audit information will be stored somewhere in the repository (e.g. in version control files). The revision_history attribute defined in the <code>AUTHROED_RESOURCE</code> class is intended to act as a documentary copy of the revision history as known inside the repository, for the benefit of users of the resource. Given that resources in different places may well be managed in different kinds of repositories, having a copy of the revision history in a standardised form within the resource enables it to be used interoperably by authoring and other tools.</p>
</div>
<div class="paragraph">
<p>Every change to a resource committed to the relevant repository causes a new addition to the revision_history.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_4"><a class="anchor" href="#_class_descriptions_4"></a>7.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_authored_resource_class"><a class="anchor" href="#_authored_resource_class"></a>7.2.1. AUTHORED_RESOURCE Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>AUTHORED_RESOURCE (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Abstract idea of an online resource created by a human author.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_language</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Language in which this resource was initially authored. Although there is no language primacy of resources overall, the language of original authoring is required to ensure natural language translations can preserve quality. Language is relevant in both the description and ontology sections.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_controlled</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this resource is under any kind of change control (even file copying), in which case revision history is created.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>translations</strong>: <code>Hash&lt;String,TRANSLATION_DETAILS&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of details for each natural translation made of this resource, keyed by language. For each translation listed here, there must be corresponding sections in all language-dependent parts of the resource. The original_language does not appear in this list.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong>: <code>RESOURCE_DESCRIPTION</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description and lifecycle information of the resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>revision_history</strong>: <code>REVISION_HISTORY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The revision history of the resource. Only required if is_controlled = True (avoids large revision histories for informal or private editing situations).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_revision</strong> (): <code>String</code><br>
<strong><em>Post</em></strong>: <code>Result = revision_history.most_recent_version</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Most recent revision in revision_history if is_controlled else  (uncontrolled) .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>languages_available</strong> (): <code>List&lt;String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Total list of languages available in this resource, derived from original_language and translations.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Original_language_valid</em></strong>: <code>code_set (Code_set_id_languages).has_code (original_language.as_string)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Languages_available_valid</em></strong>: <code>languages_available.has (original_language)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Revision_history_valid</em></strong>: <code>is_controlled xor revision_history = Void</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Current_revision_valid</em></strong>: <code>(current_revision /= Void and not is_controlled) implies current_revision.is_equal (‚Äú(uncontrolled)‚Äù)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Translations_valid</em></strong>: <code>translations /= Void implies (not translations.is_empty and not translations.has (orginal_language.code_string))</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Description_valid</em></strong>: <code>translations /= Void implies (description.details.for_all (d &#124;
translations.has_key (d.language.code_string)))</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_translation_details_class"><a class="anchor" href="#_translation_details_class"></a>7.2.2. TRANSLATION_DETAILS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>TRANSLATION_DETAILS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Class providing details of a natural language translation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>language</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Language of the translation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>author</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Translator name and other demographic details.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>accreditaton</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Accreditation of translator, usually a national translator&#8217;s registration or association membership id.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Any other meta-data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Language_valid</em></strong>: <code>code_set (Code_set_id_languages).has_code (language)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_resource_description_class"><a class="anchor" href="#_resource_description_class"></a>7.2.3. RESOURCE_DESCRIPTION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>RESOURCE_DESCRIPTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Defines the descriptive meta-data of a resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_author</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Original author of this resource, with all relevant details, including organisation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_contributors</strong>: <code>List&lt;String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Other contributors to the resource, probably listed in  name &lt;email&gt;  form.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lifecycle_state</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Lifecycle state of the resource, typically including states such as: initial, submitted, experimental, awaiting_approval, approved, superseded, obsolete.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>resource_package_uri</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>URI of package to which this resource belongs.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Additional non language-senstive resource meta-data, as a list of name/value pairs.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>parent_resource</strong>: <code>AUTHORED_RESOURCE&#160;=&#160;0..1</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reference to owning resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>details</strong>: <code>Hash&lt;String,RESOURCE_DESCRIPTION_ITEM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Details of all parts of resource description that are natural language-dependent, keyed by language code.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Original_author_valid</em></strong>: <code>not original_author.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Lifecycle_state_valid</em></strong>: <code>not lifecycle_state.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Details_valid</em></strong>: <code>not details.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Language_valid</em></strong>: <code>parent_resource /= Void implies details.for_all (d &#124; parent_resource.languages_available.has (d.language.code_string))</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Parent_resource_valid</em></strong>: <code>parent_resource /= Void implies parent_resource.description = self</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_resource_description_item_class"><a class="anchor" href="#_resource_description_item_class"></a>7.2.4. RESOURCE_DESCRIPTION_ITEM Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>RESOURCE_DESCRIPTION_ITEM</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Language-specific detail of resource description. When a resource is translated for use in another language environment, each <code>RESOURCE_DESCRIPTION_ITEM</code> needs to be copied and translated into the new language.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>language</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The localised language in which the items in this description item are written. Coded from openEHR Code Set  languages .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>purpose</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Purpose of the resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>keywords</strong>: <code>List&lt;String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Keywords which characterise this resource, used e.g. for indexing and searching.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>use</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description of the uses of the resource, i.e. contexts in which it could be used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>misuse</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description of any misuses of the resource, i.e. contexts in which it should not be used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>copyright</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional copyright statement for the resource as a knowledge resource.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_resource_uri</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>URIs of original clinical document(s) or description of which resource is a formalisation, in the language of this description item; keyed by meaning.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Additional language-senstive resource metadata, as a list of name/value pairs.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Language_valid</em></strong>: <code>code_set (Code_set_id_languages).has_code (language)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Purpose_valid</em></strong>: <code>not purpose.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Use_valid</em></strong>: <code>use /= Void implies not use.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>misuse_valid</em></strong>: <code>misuse /= Void implies not misuse.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>copyright_valid</em></strong>: <code>copyright /= Void implies not copyright.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_it_publications"><a class="anchor" href="#_general_it_publications"></a>General IT Publications</h3>
<div class="sect3">
<h4 id="_articles_books"><a class="anchor" href="#_articles_books"></a>Articles, Books</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Anderson_1996"></a>[Anderson_1996] Ross Anderson. <strong>Security in Clinical Information Systems</strong>. Available at <a href="http://www.cl.cam.ac.uk/users/rja14/policy11/policy11.html" class="bare">http://www.cl.cam.ac.uk/users/rja14/policy11/policy11.html</a>.</p>
</li>
<li>
<p><a id="Booch_1994"></a>[Booch_1994] Booch G. <strong>Object-Oriented Analysis and Design with applications. 2nd ed.</strong> Benjamin/Cummings 1994.</p>
</li>
<li>
<p><a id="Eiffel"></a>[Eiffel] Meyer B. <strong>Eiffel the Language (2nd Ed).</strong> Prentice Hall, 1992.</p>
</li>
<li>
<p><a id="Fowler_1997"></a>[Fowler_1997] Fowler M. <strong>Analysis Patterns: Reusable Object Models.</strong> Addison Wesley 1997</p>
</li>
<li>
<p><a id="Fowler_Scott_2000"></a>[Fowler_Scott_2000] Fowler M, Scott K. <strong>UML Distilled (2nd Ed.).</strong> Addison Wesley Longman 2000.</p>
</li>
<li>
<p><a id="Gray_reuter_1993"></a>[Gray_reuter_1993] Gray J, Reuter A. <strong>Transaction Processing Concepts and Techniques.</strong> Morgan Kaufmann 1993.</p>
</li>
<li>
<p><a id="Hein_2002"></a>[Hein_2002] Hein J L. Discrete Structures, Logic and Computability (2nd Ed). Jones and Bartlett 2002.</p>
</li>
<li>
<p><a id="Hn√¨tynka_2004"></a>[Hn√¨tynka_2004] Hn√¨tynka P, Pl√°≈°il F. <strong>Distributed Versioning Model for MOF.</strong> Proceedings of WISICT 2004, Cancun, Mexico, A volume in the ACM international conference proceedings series, published by Computer Science Press, Trinity College Dublin Ireland, 2004.</p>
</li>
<li>
<p><a id="Kifer_Lausen_Wu_1995"></a>[Kifer_Lausen_Wu_1995] Kifer M, Lausen G, Wu J. <strong>Logical Foundations of Object-Oriented and FrameBased Languages.</strong> JACM May 1995. See See <a href="ftp://ftp.cs.sunysb.edu/pub/TechReports/kifer/flogic.pdf" class="bare">ftp://ftp.cs.sunysb.edu/pub/TechReports/kifer/flogic.pdf</a>.</p>
</li>
<li>
<p><a id="Kilov_1994"></a>[Kilov_1994] Kilov H, Ross J. <strong>Information Modelling - an object-oriented approach.</strong> Prentice Hall 1994.</p>
</li>
<li>
<p><a id="Maier_2000"></a>[Maier_2000] Maier M. <strong>Architecting Principles for Systems-of-Systems.</strong> Technical Report, University of Alabama in Huntsville. 2000. Available at <a href="http://www.infoed.com/Open/PAPERS/systems.htm" class="bare">http://www.infoed.com/Open/PAPERS/systems.htm</a></p>
</li>
<li>
<p><a id="Martin"></a>[Martin] Martin P. <strong>Translations between UML, OWL, KIF and the WebKB-2 languages (For-Taxonomy, Frame-CG, Formalized English)</strong>. May/June 2003. Available at <a href="http://www.webkb.org/doc/model/comparisons.html" class="bare">http://www.webkb.org/doc/model/comparisons.html</a> as at Aug 2004.</p>
</li>
<li>
<p><a id="Meyer_OOSC2"></a>[Meyer_OOSC2] Meyer B. <strong>Object-oriented Software Construction, 2nd Ed.</strong> Prentice Hall 1997</p>
</li>
<li>
<p><a id="Object_Z"></a>[Object_Z] Smith G. <strong>The Object Z Specification Language</strong>. Kluwer Academic Publishers 2000. See <a href="http://www.itee.uq.edu.au/~smith/objectz.html" class="bare">http://www.itee.uq.edu.au/~smith/objectz.html</a> .</p>
</li>
<li>
<p><a id="Richards_1998"></a>[Richards_1998] Richards E G. <strong>Mapping Time - The Calendar and its History.</strong> Oxford University Press 1998.</p>
</li>
<li>
<p><a id="Sowa_2000"></a>[Sowa_2000] Sowa J F. <strong>Knowledge Representation: Logical, philosophical and Computational Foundations.</strong> 2000, Brooks/Cole, California.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_online_resources"><a class="anchor" href="#_online_resources"></a>Online Resources</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[<a id="cov_contra"></a>] Wikipedia. <strong>Covariance and contravariance.</strong> See <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science" class="bare">https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science</a>) .</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_standards"><a class="anchor" href="#_standards"></a>Standards</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="OCL"></a>[OCL] <strong>The Object Constraint Language 2.0.</strong> Object Management Group (OMG). Available at <a href="http://www.omg.org/cgi-bin/doc?ptc/2003-10-14" class="bare">http://www.omg.org/cgi-bin/doc?ptc/2003-10-14</a> .</p>
</li>
<li>
<p><a id="IEEE_828"></a>[IEEE_828] IEEE. <strong>IEEE 828-2005: standard for Software Configuration Management Plans.</strong></p>
</li>
<li>
<p><a id="ISO_8601"></a>[ISO_8601] <strong>ISO 8601 standard describing formats for representing times, dates, and durations.</strong> See <a href="https://en.wikipedia.org/wiki/ISO_8601" class="bare">https://en.wikipedia.org/wiki/ISO_8601</a>.</p>
</li>
<li>
<p><a id="ISO_2788"></a>[ISO_2788] ISO. ISO 2788 <strong>Guide to Establishment and development of monolingual thesauri</strong>.</p>
</li>
<li>
<p><a id="ISO_5964"></a>[ISO_5964] ISO. ISO 5964 <strong>Guide to Establishment and development of multilingual thesauri</strong>.</p>
</li>
<li>
<p><a id="Perl_regex"></a>[Perl_regex] Perl.org. <strong>Perl Regular Expressions</strong>. Available at <a href="http://perldoc.perl.org/perlre.html" class="bare">http://perldoc.perl.org/perlre.html</a> .</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_publications_e_health"><a class="anchor" href="#_publications_e_health"></a>Publications - e-Health</h3>
<div class="sect3">
<h4 id="_articles_books_2"><a class="anchor" href="#_articles_books_2"></a>Articles, Books</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Beale_2000"></a>[Beale_2000] Beale T. <strong>Archetypes: Constraint-based Domain Models for Future-proof Information Systems.</strong> 2000.  Available at <a href="http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_web_2000.pdf" class="bare">http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_web_2000.pdf</a> .</p>
</li>
<li>
<p><a id="Beale_2002"></a>[Beale_2002] Beale T. <strong>Archetypes: Constraint-based Domain Models for Future-proof Information Systems.</strong> Eleventh OOPSLA Workshop on Behavioral Semantics: Serving the Customer (Seattle, Washington, USA, November 4, 2002). Edited by Kenneth Baclawski and Haim Kilov. Northeastern University, Boston, 2002, pp. 16-32. Available at <a href="http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_oopsla_2002.pdf" class="bare">http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_oopsla_2002.pdf</a> .</p>
</li>
<li>
<p><a id="Beale_Heard_2007"></a>[Beale_Heard_2007] Beale T, Heard S. <strong>An Ontology-based Model of Clinical Information.</strong> 2007. pp760-764 Proceedings MedInfo 2007, K. Kuhn et al. (Eds), IOS Publishing 2007. See <a href="http://www.openehr.org/publications/health_ict/MedInfo2007-BealeHeard.pdf" class="bare">http://www.openehr.org/publications/health_ict/MedInfo2007-BealeHeard.pdf</a>.</p>
</li>
<li>
<p><a id="Cimino_1997"></a>[Cimino_1997] Cimino J J. <strong>Desiderata for Controlled Medical vocabularies in the Twenty-First Century.</strong> IMIA WG6 Conference, Jacksonville, Florida, Jan 19-22, 1997.</p>
</li>
<li>
<p><a id="Elstein_1987"></a>[Elstein_1987] Elstein AS, Shulman LS, Sprafka SA. <strong>Medical problem solving: an analysis of clinical reasoning.</strong> Cambridge, MA: Harvard University Press 1987.</p>
</li>
<li>
<p><a id="Elstein_Schwarz_2002"></a>[Elstein_Schwarz_2002] Elstein AS, Schwarz A. <strong>Evidence base of clinical diagnosis: Clinical problem solving and diagnostic decision making: selective review of the cognitive literature.</strong> BMJ 2002;324;729-732.</p>
</li>
<li>
<p><a id="Ingram_1995"></a>[Ingram_1995] Ingram D. <strong>The Good European Health Record Project.</strong> Laires, Laderia Christensen, Eds. Health in the New Communications Age. Amsterdam: IOS Press; 1995; pp. 66-74.</p>
</li>
<li>
<p><a id="Object_Z"></a>[Object_Z] Smith G. <strong>The Object Z Specification Language</strong>. Kluwer Academic Publishers 2000. See <a href="http://www.itee.uq.edu.au/~smith/objectz.html" class="bare">http://www.itee.uq.edu.au/~smith/objectz.html</a> .</p>
</li>
<li>
<p><a id="GLIF"></a>[GLIF] Lucila Ohno-Machado, John H. Gennari, Shawn N. Murphy, Nilesh L. Jain, Samson W. Tu, Diane E. Oliver, Edward Pattison-Gordon, Robert A. Greenes, Edward H. Shortliffe, and G. Octo Barnett.  <strong>The GuideLine Interchange Format - A Model for Representing Guidelines</strong>. J Am Med Inform Assoc. 1998 Jul-Aug; 5(4): 357‚Äì372.</p>
</li>
<li>
<p><a id="Rector_1994"></a>[Rector_1994] Rector A L, Nowlan W A, Kay S. <strong>Foundations for an Electronic Medical Record.</strong> The IMIA Yearbook of Medical Informatics 1992 (Eds. van Bemmel J, McRay A). Stuttgart Schattauer 1994.</p>
</li>
<li>
<p><a id="Rector_1999"></a>[Rector_1999] Rector A L. <strong>Clinical terminology: why is it so hard?</strong> Methods Inf Med. 1999 Dec;38(4-5):239-52. Available at <a href="http://www.cs.man.ac.uk/~rector/papers/Why-is-terminology-hard-single-r2.pdf" class="bare">http://www.cs.man.ac.uk/~rector/papers/Why-is-terminology-hard-single-r2.pdf</a> .</p>
</li>
<li>
<p><a id="Sottile_1999"></a>[Sottile_1999] Sottile P.A., Ferrara F.M., Grimson W., Kalra D., and Scherrer J.R. <strong>The holistic healthcare information system. Toward an Electronic Health Record Europe.</strong> 1999. Nov 1999; 259-266.</p>
</li>
<li>
<p><a id="Van_de_Velde_Degoulet_2003"></a>[Van_de_Velde_Degoulet_2003] Van de Velde R, Degoulet P. <strong>Clinical Information Systems: A Component-Based Approach.</strong> 2003. Springer-Verlag New York.</p>
</li>
<li>
<p><a id="Weed_1969"></a>[Weed_1969] Weed LL. <strong>Medical records, medical education and patient care. 6 ed.</strong> Chicago: Year Book Medical Publishers Inc. 1969.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_standards_2"><a class="anchor" href="#_standards_2"></a>Standards</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Corbamed_PIDS"></a>[Corbamed_PIDS] Object Management Group. <strong>Person Identification Service.</strong> March 1999. See <a href="http://www.omg.org/spec/PIDS/" class="bare">http://www.omg.org/spec/PIDS/</a> .</p>
</li>
<li>
<p><a id="Corbamed_LQS"></a>[Corbamed_LQS] Object Management Group. <strong>Lexicon Query Service.</strong> March 1999. <a href="http://www.omg.org/spec/LQS/" class="bare">http://www.omg.org/spec/LQS/</a> .</p>
</li>
<li>
<p><a id="hl7_cda"></a>[hl7_cda] HL7 International. <strong>HL7 version Clinical Document Architecture (CDA)</strong>. Available at <a href="http://www.hl7.org.uk/version3group/cda.asp" class="bare">http://www.hl7.org.uk/version3group/cda.asp</a>.</p>
</li>
<li>
<p><a id="HL7v3_ballot2"></a>[HL7v3_ballot2] HL7 International. <strong>HL7 version 3 2nd Ballot specification</strong>. Available at <a href="http://www.hl7.org" class="bare">http://www.hl7.org</a>.</p>
</li>
<li>
<p><a id="HL7v3_data_types"></a>[HL7v3_data_types] Schadow G, Biron P. <strong>HL7 version 3 deliverable: Version 3 Data Types.</strong> (2nd ballot 2002 version).</p>
</li>
<li>
<p><a id="hl7_v3_rim"></a>[hl7_v3_rim] HL7 International. <strong>HL7 v3 RIM</strong>. See <a href="http://www.hl7.org" class="bare">http://www.hl7.org</a> .</p>
</li>
<li>
<p><a id="hl7_arden"></a>[hl7_arden] HL7 International. <strong>HL7 Arden Syntax</strong>. See <a href="http://www.hl7.org/Special/committees/Arden/index.cfm" class="bare">http://www.hl7.org/Special/committees/Arden/index.cfm</a> .</p>
</li>
<li>
<p><a id="hl7_gello"></a>[hl7_gello] HL7 International. <strong>GELLO Decision Support Language</strong>. <a href="http://www.hl7.org/implement/standards/product_brief.cfm?product_id=5" class="bare">http://www.hl7.org/implement/standards/product_brief.cfm?product_id=5</a> .</p>
</li>
<li>
<p><a id="IHTSDO_URIs"></a>[IHTSDO_URIs] IHTSDO. SNOMED CT URI Standard. <a href="http://ihtsdo.org/fileadmin/user_upload/doc/download/doc_UriStandard_Current-en-US_INT_20140527.pdf?ok" class="bare">http://ihtsdo.org/fileadmin/user_upload/doc/download/doc_UriStandard_Current-en-US_INT_20140527.pdf?ok</a>.</p>
</li>
<li>
<p><a id="NLM_UML_list"></a>[NLM_UML_list] National Library of Medicine. UMLS Terminologies List. <a href="http://www.nlm.nih.gov/research/umls/metaa1.html" class="bare">http://www.nlm.nih.gov/research/umls/metaa1.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-1"></a>[ISO_13606-1] <strong>ISO 13606-1 - Electronic healthcare record communication - Part 1: Extended architecture.</strong> See <a href="https://www.iso.org/standard/40784.html" class="bare">https://www.iso.org/standard/40784.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-2"></a>[ISO_13606-2] <strong>ISO 13606-2 - Electronic healthcare record communication - Part 2: Domain term list.</strong> See <a href="https://www.iso.org/standard/50119.html" class="bare">https://www.iso.org/standard/50119.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-3"></a>[ISO_13606-3] <strong>ISO 13606-3 - Electronic healthcare record communication - Part 3: Distribution rules.</strong> See <a href="https://www.iso.org/standard/50120.html" class="bare">https://www.iso.org/standard/50120.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-4"></a>[ISO_13606-4] <strong>ISO 13606-4 - Electronic Healthcare Record Communication standard Part 4: Messages for the exchange of information.</strong> See <a href="https://www.iso.org/standard/50121.html" class="bare">https://www.iso.org/standard/50121.html</a>.</p>
</li>
<li>
<p><a id="ISO_18308"></a>[ISO_18308] Schloeffel P. (Editor). <strong>Requirements for an Electronic Health Record Reference Architecture.</strong> See <a href="https://www.iso.org/standard/52823.html" class="bare">https://www.iso.org/standard/52823.html</a>.</p>
</li>
<li>
<p><a id="ISO_20514"></a>[ISO_20514] ISO. <strong>The Integrated Care EHR.</strong> See <a href="https://www.iso.org/standard/39525.html" class="bare">https://www.iso.org/standard/39525.html</a> .</p>
</li>
<li>
<p><a id="ISO_13940"></a>[ISO_13940] ISO. <strong>Health informatics - System of concepts to support continuity of care.</strong> See <a href="https://www.iso.org/standard/58102.html" class="bare">https://www.iso.org/standard/58102.html</a>.</p>
</li>
<li>
<p><a id="ISO_22600"></a>[ISO_22600] ISO. <strong>Health informatics - Privilege management and access control.</strong> See <a href="https://www.iso.org/standard/62653.html" class="bare">https://www.iso.org/standard/62653.html</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_projects"><a class="anchor" href="#_projects"></a>Projects</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="EHCR_supA_14"></a>[EHCR_supA_14] Dixon R, Grubb P A, Lloyd D, and Kalra D. <strong>Consolidated List of Requirements. EHCR Support Action Deliverable 1.4.</strong> European Commission DGXIII, Brussels; May 2001 59pp Available from <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/del1-4v1_3.PDF" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/del1-4v1_3.PDF</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_35"></a>[EHCR_supA_35] Dixon R, Grubb P, Lloyd D. <strong>EHCR Support Action Deliverable 3.5: "Final Recommendations to CEN for future work".</strong> Oct 2000. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCRSupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCRSupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_24"></a>[EHCR_supA_24] Dixon R, Grubb P, Lloyd D. <strong>EHCR Support Action Deliverable 2.4 "Guidelines on Interpretation and implementation of CEN EHCRA".</strong> Oct 2000. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_31_32"></a>[EHCR_supA_31_32] Lloyd D, et al. <strong>EHCR Support Action Deliverable 3.1&amp;3.2 ‚ÄúInterim Report to CEN‚Äù.</strong> July 1998. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="GEHR_del_4"></a>[GEHR_del_4] <strong>Deliverable 4: GEHR Requirements for Clinical Comprehensiveness.</strong> GEHR Project 1992. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-4.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-4.pdf</a> .</p>
</li>
<li>
<p><a id="GEHR_del_7"></a>[GEHR_del_7] <strong>Deliverable 7: Clinical Functional Specifications.</strong> GEHR Project 1993.</p>
</li>
<li>
<p><a id="GEHR_del_8"></a>[GEHR_del_8] <strong>Deliverable 8: Ethical and legal Requirements of GEHR Architecture and Systems.</strong> GEHR Project 1994. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-8.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-8.pdf</a> .</p>
</li>
<li>
<p><a id="GEHR_del_19_20_24"></a>[GEHR_del_19_20_24] <strong>Deliverable 19,20,24: GEHR Architecture.</strong> GEHR Project 30/6/1995. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-19_20_24.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-19_20_24.pdf</a> .</p>
</li>
<li>
<p><a id="GeHR_AUS"></a>[GeHR_AUS] Heard S, Beale T. <strong>The Good Electronic Health Record (GeHR) (Australia).</strong> See <a href="http://www.openehr.org/resources/related_projects#gehraus" class="bare">http://www.openehr.org/resources/related_projects#gehraus</a> .</p>
</li>
<li>
<p><a id="GeHR_Aus_gpcg"></a>[GeHR_Aus_gpcg] Heard S. <strong>GEHR Project Australia, GPCG Trial.</strong> See <a href="http://www.openehr.org/resources/related_projects#gehraus" class="bare">http://www.openehr.org/resources/related_projects#gehraus</a> .</p>
</li>
<li>
<p><a id="GeHR_Aus_req"></a>[GeHR_Aus_req] Beale T, Heard S. <strong>GEHR Technical Requirements.</strong> See <a href="http://www.openehr.org/files/resources/related_projects/gehr_australia/gehr_requirements.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr_australia/gehr_requirements.pdf</a> .</p>
</li>
<li>
<p><a id="Synapses_req_A"></a>[Synapses_req_A] Kalra D. (Editor). <strong>The Synapses User Requirements and Functional Specification (Part A).</strong> EU Telematics Application Programme, Brussels; 1996; The Synapses Project: Deliverable USER 1.1.1a. 6 chapters, 176 pages.</p>
</li>
<li>
<p><a id="Synapses_req_B"></a>[Synapses_req_B] Grimson W. and Groth T. (Editors). <strong>The Synapses User Requirements and Functional Specification (Part B).</strong> EU Telematics Application Programme, Brussels; 1996; The Synapses Project: Deliverable USER 1.1.1b.</p>
</li>
<li>
<p><a id="Synapses_odp"></a>[Synapses_odp] Kalra D. (Editor). <strong>Synapses ODP Information Viewpoint.</strong> EU Telematics Application Programme, Brussels; 1998; The Synapses Project: Final Deliverable. 10 chapters, 64 pages. See <a href="http://discovery.ucl.ac.uk/66235/" class="bare">http://discovery.ucl.ac.uk/66235/</a> .</p>
</li>
<li>
<p><a id="synex"></a>[synex] University College London. <strong>SynEx project</strong>. <a href="http://www.chime.ucl.ac.uk/HealthI/SynEx/" class="bare">http://www.chime.ucl.ac.uk/HealthI/SynEx/</a> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-12-14 10:43:05 GMT
</div>
</div>
</body>
</html>