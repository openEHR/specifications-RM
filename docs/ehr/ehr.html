<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="description" content="openEHR EHR Information Model specification">
<meta name="keywords" content="EHR, EMR, reference model, openehr">
<title>EHR Information Model</title>
<link rel="stylesheet" href="https://www.openehr.org/releases/BASE/latest/resources/css/openehr.css">
<link rel="stylesheet" href="https://www.openehr.org/releases/BASE/latest/resources/css/pygments-murphy.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_ehr_information_model">EHR Information Model</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_editor">Editor</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_conformance">1.4. Conformance</a></li>
</ul>
</li>
<li><a href="#_background">2. Background</a>
<ul class="sectlevel2">
<li><a href="#_requirements">2.1. Requirements</a>
<ul class="sectlevel3">
<li><a href="#_original_gehr_requirements">2.1.1. Original GEHR Requirements</a></li>
<li><a href="#_gehr_australia_requirements">2.1.2. GEHR Australia Requirements</a></li>
<li><a href="#_european_synapses_and_synex_project_requirements">2.1.3. European Synapses and SynEx Project Requirements</a></li>
<li><a href="#_european_ehcr_support_action_requirements">2.1.4. European EHCR Support Action Requirements</a></li>
<li><a href="#_iso_ehr_requirements">2.1.5. ISO EHR Requirements</a></li>
<li><a href="#_openehr_requirements">2.1.6. openEHR Requirements</a></li>
</ul>
</li>
<li><a href="#_relationship_to_other_health_information_models">2.2. Relationship to other Health Information Models</a>
<ul class="sectlevel3">
<li><a href="#_cen_tc_251_pren13606">2.2.1. CEN TC/251 prEN13606</a></li>
<li><a href="#_hl7_version_3">2.2.2. HL7 Version 3</a></li>
<li><a href="#_omg_hdtf">2.2.3. OMG HDTF</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_the_ehr_information_model">3. The EHR Information Model</a>
<ul class="sectlevel2">
<li><a href="#_overview">3.1. Overview</a></li>
</ul>
</li>
<li><a href="#_ehr_package">4. EHR Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">4.1. Overview</a></li>
<li><a href="#_the_parts_of_the_ehr">4.2. The Parts of the EHR</a>
<ul class="sectlevel3">
<li><a href="#_root_ehr_object">4.2.1. Root EHR Object</a></li>
<li><a href="#_ehr_access">4.2.2. EHR Access</a></li>
<li><a href="#_ehr_status">4.2.3. EHR Status</a></li>
<li><a href="#_compositions">4.2.4. Compositions</a>
<ul class="sectlevel4">
<li><a href="#_event_compositions">4.2.4.1. Event Compositions</a></li>
<li><a href="#_persistent_compositions">4.2.4.2. Persistent Compositions</a></li>
</ul>
</li>
<li><a href="#_directory">4.2.5. Directory</a></li>
</ul>
</li>
<li><a href="#_change_control_in_the_ehr">4.3. Change Control in the EHR</a>
<ul class="sectlevel3">
<li><a href="#_versioning_of_compositions">4.3.1. Versioning of Compositions</a></li>
<li><a href="#_versioning_scenarios">4.3.2. Versioning Scenarios</a></li>
</ul>
</li>
<li><a href="#_ehr_creation_semantics">4.4. EHR Creation Semantics</a>
<ul class="sectlevel3">
<li><a href="#_ehr_identifier_allocation">4.4.1. EHR Identifier Allocation</a></li>
<li><a href="#_creation">4.4.2. Creation</a></li>
</ul>
</li>
<li><a href="#_time_in_the_ehr">4.5. Time in the EHR</a></li>
<li><a href="#_historical_views_of_the_record">4.6. Historical Views of the Record</a></li>
<li><a href="#_class_descriptions">4.7. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_ehr_class">4.7.1. EHR Class</a></li>
<li><a href="#_versioned_ehr_access_class">4.7.2. VERSIONED_EHR_ACCESS Class</a></li>
<li><a href="#_ehr_access_class">4.7.3. EHR_ACCESS Class</a></li>
<li><a href="#_versioned_ehr_status_class">4.7.4. VERSIONED_EHR_STATUS Class</a></li>
<li><a href="#_ehr_status_class">4.7.5. EHR_STATUS Class</a></li>
<li><a href="#_versioned_composition_class">4.7.6. VERSIONED_COMPOSITION Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_composition_package">5. Composition Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">5.1. Overview</a></li>
<li><a href="#_context_model_of_recording">5.2. Context Model of Recording</a>
<ul class="sectlevel3">
<li><a href="#_overview_4">5.2.1. Overview</a></li>
<li><a href="#_composer">5.2.2. Composer</a></li>
<li><a href="#_event_context">5.2.3. Event Context</a>
<ul class="sectlevel4">
<li><a href="#_overview_5">5.2.3.1. Overview</a></li>
<li><a href="#_occurrence_in_data">5.2.3.2. Occurrence in Data</a></li>
<li><a href="#_time">5.2.3.3. Time</a></li>
<li><a href="#_participations">5.2.3.4. Participations</a></li>
<li><a href="#_healthcare_facility_location_and_setting">5.2.3.5. Healthcare Facility, Location and Setting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_composition_content">5.3. Composition Content</a></li>
<li><a href="#_class_descriptions_2">5.4. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_composition_class">5.4.1. COMPOSITION Class</a></li>
<li><a href="#_event_context_class">5.4.2. EVENT_CONTEXT Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_content_package">6. Content Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_6">6.1. Overview</a></li>
<li><a href="#_class_descriptions_3">6.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_content_item_class">6.2.1. CONTENT_ITEM Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_navigation_package">7. Navigation Package</a>
<ul class="sectlevel2">
<li><a href="#_overview_7">7.1. Overview</a></li>
<li><a href="#_class_descriptions_4">7.2. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_section_class">7.2.1. SECTION Class</a></li>
</ul>
</li>
<li><a href="#_section_instance_structures">7.3. Section Instance Structures</a>
<ul class="sectlevel3">
<li><a href="#_problem_soap_headings">7.3.1. Problem/SOAP Headings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_entry_package">8. Entry Package</a>
<ul class="sectlevel2">
<li><a href="#_design_principles">8.1. Design Principles</a>
<ul class="sectlevel3">
<li><a href="#_information_ontology">8.1.1. Information Ontology</a></li>
<li><a href="#_clinical_statement_status_and_negation">8.1.2. Clinical Statement Status and Negation</a></li>
<li><a href="#_standard_clinical_types_of_data">8.1.3. Standard Clinical Types of Data</a></li>
<li><a href="#_demographic_data_in_the_ehr">8.1.4. Demographic Data in the EHR</a></li>
</ul>
</li>
<li><a href="#_entry_and_its_subtypes">8.2. Entry and its Subtypes</a>
<ul class="sectlevel3">
<li><a href="#_the_entry_class">8.2.1. The Entry class</a></li>
<li><a href="#_care_entry_and_admin_entry">8.2.2. Care_entry and Admin_entry</a></li>
<li><a href="#_observation">8.2.3. Observation</a>
<ul class="sectlevel4">
<li><a href="#_timing_in_observations">8.2.3.1. Timing in Observations</a></li>
<li><a href="#_valid_contents_of_a_history">8.2.3.2. Valid Contents of a History</a></li>
<li><a href="#_clinical_semantics_of_event_time">8.2.3.3. Clinical Semantics of Event Time</a></li>
<li><a href="#_two_ways_of_recording_state">8.2.3.4. Two ways of Recording State</a></li>
</ul>
</li>
<li><a href="#_evaluation">8.2.4. Evaluation</a></li>
<li><a href="#_instruction_and_action">8.2.5. Instruction and Action</a>
<ul class="sectlevel4">
<li><a href="#_requirements_2">8.2.5.1. Requirements</a></li>
<li><a href="#_design_principles_2">8.2.5.2. Design Principles</a></li>
<li><a href="#_model_overview">8.2.5.3. Model Overview</a></li>
<li><a href="#_instruction_activity_timing">8.2.5.4. Instruction Activity Timing</a></li>
<li><a href="#_the_standard_instruction_state_machine_ism">8.2.5.5. The Standard Instruction State Machine (ISM)</a></li>
<li><a href="#_instruction_aggregate_state">8.2.5.6. Instruction Aggregate State</a></li>
<li><a href="#_careflow_process_to_state_machine_mapping">8.2.5.7. Careflow Process to State Machine Mapping</a></li>
<li><a href="#_relationship_to_archetypes">8.2.5.8. Relationship to Archetypes</a></li>
</ul>
</li>
<li><a href="#_clinical_workflow_definition">8.2.6. Clinical Workflow Definition</a></li>
</ul>
</li>
<li><a href="#_class_descriptions_5">8.3. Class Descriptions</a>
<ul class="sectlevel3">
<li><a href="#_entry_class">8.3.1. ENTRY Class</a></li>
<li><a href="#_admin_entry_class">8.3.2. ADMIN_ENTRY Class</a></li>
<li><a href="#_care_entry_class">8.3.3. CARE_ENTRY Class</a></li>
<li><a href="#_observation_class">8.3.4. OBSERVATION Class</a></li>
<li><a href="#_evaluation_class">8.3.5. EVALUATION Class</a></li>
<li><a href="#_instruction_class">8.3.6. INSTRUCTION Class</a></li>
<li><a href="#_activity_class">8.3.7. ACTIVITY Class</a></li>
<li><a href="#_action_class">8.3.8. ACTION Class</a></li>
<li><a href="#_instruction_details_class">8.3.9. INSTRUCTION_DETAILS Class</a></li>
<li><a href="#_ism_transition_class">8.3.10. ISM_TRANSITION Class</a></li>
</ul>
</li>
<li><a href="#_instance_structures">8.4. Instance Structures</a>
<ul class="sectlevel3">
<li><a href="#_observation_2">8.4.1. OBSERVATION</a>
<ul class="sectlevel4">
<li><a href="#_heartrate_measurement_series">8.4.1.1. Heartrate Measurement Series</a></li>
<li><a href="#_blood_pressure_with_protocol">8.4.1.2. Blood Pressure with Protocol</a></li>
<li><a href="#_glucose_tolerance_test">8.4.1.3. Glucose Tolerance Test</a></li>
</ul>
</li>
<li><a href="#_evaluation_2">8.4.2. EVALUATION</a>
<ul class="sectlevel4">
<li><a href="#_partial_asthma_management_plan">8.4.2.1. Partial Asthma Management Plan</a></li>
</ul>
</li>
<li><a href="#_instruction">8.4.3. INSTRUCTION</a>
<ul class="sectlevel4">
<li><a href="#_chained_medication_order">8.4.3.1. Chained Medication Order</a></li>
<li><a href="#_multi_drug_therapy">8.4.3.2. Multi-drug Therapy</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_glossary">Appendix A: Glossary</a></li>
<li><a href="#_references">References</a>
<ul class="sectlevel2">
<li><a href="#_general_it_publications">General IT Publications</a>
<ul class="sectlevel3">
<li><a href="#_articles_books">Articles, Books</a></li>
<li><a href="#_online_resources">Online Resources</a></li>
<li><a href="#_standards">Standards</a></li>
</ul>
</li>
<li><a href="#_publications_e_health">Publications - e-Health</a>
<ul class="sectlevel3">
<li><a href="#_articles_books_2">Articles, Books</a></li>
<li><a href="#_standards_2">Standards</a></li>
<li><a href="#_projects">Projects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="/releases/BASE/latest/resources/images/openehr_logo_large.png" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_ehr_information_model" class="sect0">EHR Information Model</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="/programs/specification/">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: STABLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: EHR, EMR, reference model, openehr</p></td>
</tr>
</tbody>
</table>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="diagrams/openehr_block_diagram.png" alt="openEHR components" width="60%">
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2003 - 2018 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="/">The openEHR Foundation</a> is an independent, non-profit community organisation, facilitating the sharing of health records by consumers and clinicians via open-source, standards-based implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="/releases/BASE/latest/resources/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://openehr.atlassian.net/browse/SPECPR/" class="bare">https://openehr.atlassian.net/browse/SPECPR/</a><br>
 Web: <a href="/">www.openehr.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record">Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;1.0.4</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-71">SPECRM-71</a>. Make <code>ACTIVITY.<em>timing</em></code> optional.<br>
 <a href="https://openehr.atlassian.net/browse/SPECRM-68">SPECRM-68</a>. Improve guidance on use of <code>ACTIVITY.<em>timing</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>08 Nov 2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-59">SPECRM-59</a>. Add identifier recommendations to EHR spec(s).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B Lah</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23 Apr 2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-52">SPECRM-52</a>. Remove <code>COMPOSITION</code> invariant preventing context for persistent Compositions. (Fixes <a href="https://openehr.atlassian.net/browse/SPECPR-78">SPECPR-78</a>)<br>
 Update Clinical Investigator Recording Process diagram.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel,<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">07 Feb 2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECPUB-3">SPECPUB-3</a>. Re-instate inheritance from descendants of <code>VERSIONED_OBJECT&lt;T&gt;</code> to <code>VERSIONED_OBJECT</code> from Release 1.0.2 (lost in original UML conversion).<br>
 Correct <code>EVENT_CONTEXT.<em>health_care_facility</em></code> and <code><em>participations</em></code> links that were mangled in initial UML conversion.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">07 Jun 2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-46">SPECRM-46</a>. Fix RM Release 1.0.3 typos and minor documentary errors. Correct <code>ACTION.<em>description</em></code> text to past tense. (<a href="https://openehr.atlassian.net/browse/SPECPR-77">SPECPR-77</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">04 Apr 2016</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;1.0.3</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-28">SPECRM-28</a>. Corrections to EHR and Common IM documentation.<br>
 Improve explanation in section 4.4.2 (EHR Creation) of <code>EHR_STATUS</code>.<code><em>is_modifiable</em></code> (<a href="https://openehr.atlassian.net/browse/SPECPR-28">SPECPR-28</a>).<br>
 Fix description of <code>CARE_ENTRY</code>.<code><em>guideline_id</em></code> (<a href="https://openehr.atlassian.net/browse/SPECPR-75">SPECPR-75</a>).<br>
 Fix typo in EHR IM in section 'Standard Clinical Types of Data' (<a href="https://openehr.atlassian.net/browse/SPECPR-87">SPECPR-87</a>).<br>
 EHR IM missing example in section 'Care_entry and Admin_entry'. (<a href="https://openehr.atlassian.net/browse/SPECPR-89">SPECPR-89</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma,<br>
 P Pazos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Oct 2015</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-37">SPECRM-37</a>: Add optional <code><em>reason</em>: List&lt;DV_TEXT&gt;</code> attribute to <code>ISM_TRANSITION</code> class (<a href="https://openehr.atlassian.net/browse/SPECPR-58">SPECPR-58</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPECRM-43">SPECRM-43</a>: Improve documentation of <code>EHR.<em>system_id</em></code> in clone/copy scenario (<a href="https://openehr.atlassian.net/browse/SPECPR-5128">SPECPR-128</a>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;1.0.2</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-274">SPEC-274</a>. Observation should be Evaluation in problem/SOAP structure figure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 Aug 2008</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-275">SPEC-275</a>: Update Entry package design principles in EHR IM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-253">SPEC-253</a>: Clarify explanation of Instruction/Action model in EHR IM to indicate state machine per Activity.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;1.0.1</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-200">SPEC-200</a>: Correct Release 1.0 typographical errors. Correct <code>INSTRUCTION_DETAILS</code>.<code><em>instruction_id</em></code> type to <code>LOCATABLE_REF</code>. Correct inheritance of <code>CONTENT_ITEM</code> to <code>LOCATABLE</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 M Forss<br>
 C Ma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">08 Apr 2007</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-201">SPEC-201</a>: Add archetype ids to Instruction <code>ACTIVITY</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-203">SPEC-203</a>: Release 1.0 explanatory text improvements. Minor changes to Entry section. Improved section on "time in the EHR".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-210">SPEC-210</a>: Remove <code>LOCATABLE</code> inheritance from <code>ISM_TRANSITION</code> and <code>INSTRUCTION_DETAILS</code> classes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-130">SPEC-130</a>: Correct security details in <code>LOCATABLE</code> and <code>ARCHETYPED</code> classes. Add <code>EHR_ACCESS</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-218">SPEC-218</a>: Add <code><em>language</em></code> attribute to <code>COMPOSITION</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G Grieve</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-219">SPEC-219</a>: Use constants instead of literals to refer to terminology in RM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-244">SPEC-244</a>: Separate <code>LOCATABLE</code> path functions into <code>PATHABLE</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-246">SPEC-246</a>: Correct openEHR terminology rubrics.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B Verhees<br>
 M Forss</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;1.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-14">SPEC-14</a>: Adjust <code>HISTORY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Jan 2006</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-140">SPEC-140</a>. Redevelop Instruction, based on workflow principles.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-147">SPEC-147</a>. Make <code>DIRECTORY</code> Re-usable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-162">SPEC-162</a>. Allow party identifiers when no demographic data. Changes to <code>EHR</code>, <code>EVENT_CONTEXT</code>, and <code>ENTRY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-164">SPEC-164</a>. Improve description of use of times in <code>OBSERVATION</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-174">SPEC-174</a>. Add <code>ADMIN_ENTRY</code> subtype.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-175">SPEC-175</a>. Make <code>ENTRY</code>.<code>provider</code> optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-177">SPEC-177</a>. Make <code>COMPOSITION</code>.<code><em>content</em></code> a <code>CONTENT_ITEM</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-180">SPEC-180</a>. Move <code>EVENT_CONTEXT</code>.<code><em>composer</em></code> to <code>COMPOSITION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-181">SPEC-181</a>: Change <code>ENTRY</code>.<code><em>provider</em></code> to <code>PARTY_PROXY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-182">SPEC-182</a>: Rationalise <code>VERSION</code>.<code><em>lifecycle_state</em></code> and <code>ATTESTATION</code>.<code><em>status</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C Ma<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-187">SPEC-187</a>: Correct modelling errors in <code>DIRECTORY</code> class and rename.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-188">SPEC-188</a>: Add <code><em>generating_type</em></code> function to <code>ANY</code> for use in invariants.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-189">SPEC-189</a>. Add <code>LOCATABLE</code>.<code><em>parent</em></code>. New invariants in EHR and <code>COMPOSITION</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-190">SPEC-190</a>. Rename <code>VERSION_REPOSITORY</code> to <code>VERSIONED_OBJECT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-191">SPEC-191</a>: Add <code>EHR_STATUS</code> class to <code>ehr</code> package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-194">SPEC-194</a>: Correct anomalies with <code>LOCATABLE</code>.<code><em>uid</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-195">SPEC-195</a>: Rename <code>EHR</code>.<code><em>all_compositions</em></code> to <code><em>compositions</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-161">SPEC-161</a>. Support distributed versioning. Correct identifier types in <code>EHR</code>, <code>ACTION</code> classes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale<br>
 H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;0.96</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;0.95</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-108">SPEC-108</a>. Minor changes to change_control package.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Dec 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-24">SPEC-24</a>. Revert meaning to <code>STRING</code> and rename as <code><em>archetype_node_id</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-98">SPEC-98</a>. <code>EVENT_CONTEXT</code>.<code><em>time</em></code> should allow optional end time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-109">SPEC-109</a>. Add <code><em>act_status</em></code> to <code>ENTRY</code>, as in CEN prEN13606.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Goodchild</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-116">SPEC-116</a>. Add <code>PARTICIPATION</code>.<code><em>function</em></code> vocabulary and invariant.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-118">SPEC-118</a>. Make package names lower case.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-64">SPEC-64</a>. Re-evaluate <code>COMPOSITION</code>.<code><em>is_persistent</em></code> attribute.  Converted is_persistent to a function; added category attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-102">SPEC-102</a>. Make <code>DV_TEXT</code> <code><em>language</em></code> and <code><em>charset</em></code> optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>R E L E A S E&#160;&#160;&#160;&#160;&#160;0.9</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-96">SPEC-96</a>. Allow 0..* <code>SECTIONs</code> as <code>COMPOSITION</code> content.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Mar 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-19">SPEC-19</a>. Add <code>HISTORY</code> &amp; <code>STRUCTURE</code> supertype.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">06 Mar 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-28">SPEC-28</a>. Change name of <code>STRUCTURE</code> class to avoid clashes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H Frankel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-87">SPEC-87</a>. <code>EVENT_CONTEXT</code>.<code><em>location</em></code> should be optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-88">SPEC-88</a>. Move <code>INSTRUCTION</code>.<code><em>guideline_id</em></code> to <code>ENTRY</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-92">SPEC-92</a>. Improve <code>EVENT_CONTEXT</code> modelling. Rename <code><em>author</em></code> to <code><em>composer</em></code>.<br>
 Formally validated using ISE Eiffel 5.4.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-44">SPEC-44</a>. Add reverse ref from <code>VERSION_REPOSITORY&lt;T&gt;</code> to owner object. Add invariants to <code>DIRECTORY</code> and <code>VERSIONED_COMPOSITION</code> classes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Feb 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-46">SPEC-46</a>. Rename <code>COORDINATED_TERM</code> and <code>DV_CODED_TEXT</code>.<code><em>definition</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-21">SPEC-21</a>. Rename <code>CLINICAL_CONTEXT</code>.<code><em>practice_setting</em></code> to <code><em>setting</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Feb 2004</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-57">SPEC-57</a>. Environmental information needs to be included in the EHR.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">02 Nov 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-48">SPEC-48</a>. Pre-release review of documents.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-49">SPEC-49</a>. Correct reference types in <code>EHR</code>, <code>DIRECTORY</code> classes. <code>EHR</code>.<code><em>contributions</em></code>, <code><em>all_compositions</em></code>, <code>FOLDER</code>.<code><em>compositions</em></code> attributes and invariants corrected.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-50">SPEC-50</a>. Update Path syntax reference model to ADL specification.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Oct 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-41">SPEC-41</a>. Visually differentiate primitive types in openEHR documents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">04 Oct 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-13">SPEC-13</a>. Rename key classes, according to CEN ENV 13606.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 D Kalra,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Sep 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-11">SPEC-11</a>. Add author attribute to <code>EVENT_CONTEXT</code>.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-27">SPEC-27</a>. Move feeder_audit to <code>LOCATABLE</code> to be compatible with CEN 13606 revision.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Jun 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-20">SPEC-20</a>. Move <code>VERSION.<em>territory</em></code> to <code>TRANSACTION</code>.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-18">SPEC-18</a>. Add <code>DIRECTORY</code> class to <code>rm.ehr</code> Package.
 <a href="https://openehr.atlassian.net/browse/SPEC-5">SPEC-5</a>. Rename <code>CLINICAL_CONTEXT</code> to <code>EVENT_CONTEXT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Jun 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-6">SPEC-6</a>. Make <code>ENTRY</code>.<code><em>provider</em></code> a <code>PARTICIPATION</code>.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-7">SPEC-7</a>. Replace <code>ENTRY</code>.<code><em>subject</em></code> and <code><em>subject_relationship</em></code> with <code>RELATED_PARTY</code>.<br>
 <a href="https://openehr.atlassian.net/browse/SPEC-8">SPEC-8</a>. Remove <code><em>confidence</em></code> and <code><em>is_exceptional</em></code> attributes from <code>ENTRY</code>.
 <a href="https://openehr.atlassian.net/browse/SPEC-9">SPEC-9</a>. Merge <code>ENTRY</code> <code><em>protocol</em></code> and <code><em>reasoning</em></code> attributes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S Heard,<br>
 T Beale,
 D Kalra,
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Apr 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC review - typos corrected.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">08 Apr 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://openehr.atlassian.net/browse/SPEC-3">SPEC-3</a>, <a href="https://openehr.atlassian.net/browse/SPEC-4">SPEC-4</a>. Removed <code>ORGANISER_TREE</code>.  <code>CLINICAL_CONTEXT</code> and <code>FEEDER_AUDIT</code> inherit from <code>LOCATABLE</code>.  Changes to path syntax. Improved definitions of <code>ENTRY</code> subtypes. Improved instance diagrams. DSTC detailed review.<br>
 (Formally validated).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun,<br>
 A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Mar 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formally validated using ISE Eiffel 5.2. Moved <code>VERSIONED_TRANSACTION</code> class to <code>ehr</code> Package, to correspond better with serialised formalisms like XML.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes post CEN WG meeting Rome Feb 2003. Moved <code>TRANSACTION</code>.<code><em>version_id</em></code> postcondition to an invariant. Moved feeder_audit back to <code>TRANSACTION</code>. Added <code>ENTRY</code>.<code><em>act_id</em></code>.  <code>VERSION_AUDIT</code>.<code><em>attestations</em></code> moved to new <code>ATTESTATIONS</code> class attached to <code>VERSIONED&lt;T&gt;</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 S Heard,<br>
 D Kalra,<br>
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various corrections and DSTC change requests. Reverted <code>OBSERVATION</code>.<code><em>items</em></code>: <code>LIST&lt;HISTORY&lt;T&gt;&gt;</code> to <code><em>data</em></code>: <code>HISTORY&lt;T&gt;</code> and <code>EVALUATION</code>.<code><em>items</em></code>: <code>LIST&lt;STRUCTURE&lt;T&gt;&gt;</code> to <code><em>data</em></code>: <code>STRUCTURE&lt;T&gt;</code>. Changed <code>CLINICAL_CONTEXT</code>.<code><em>other_context</em></code> to a <code>STRUCTURE</code>. Added <code>ENTRY</code>.<code><em>other_participations</em></code>; Added <code>CLINICAL_CONTEXT</code>.<code><em>participations</em></code>; removed <code><em>hcp_legally_responsible</em></code> (to be archetyped). Replaced <code>EVENT_TRANSACTION</code> and <code>PERSISTENT_TRANSACTION</code> with <code>TRANSACTION</code> and a boolean attribute <code><em>is_persistent</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 Feb 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detailed corrections to diagrams and class text from DSTC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Jan 2003</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moved <code>HISTORY</code> classes to Data Structures RM. No semantic changes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Dec 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.8.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corrections on 3.8.1. No semantic changes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 Nov 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.8.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed <code>SUB_FOLDER</code> class. Now folder structure can be nested separately archetyped folder structures, same as for <code>ORGANISERs</code>. Removed <code>AUTHORED_TA</code> and <code>ACQUISITION_TA</code> classes; simplified versioning.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra,<br>
 D Lloyd<br>
 A Goodchild</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28 Oct 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Added practice_setting attribute to <code>CLINICAL_CONTEXT</code>, inspired from HL7v3/ANSI CDA standard Release 2.0.  Changed <code>DV_PLAIN_TEXT</code> to <code>DV_TEXT</code>. Removed <code><em>hca_coauthorising</em></code>; renamed <code><em>hca_recording</em></code>; adjusted all instances of <code>*<em>ID</code>; converted <code>CLINICAL_CONTEXT</code>.<code>_start_time</em></code>, <code><em>end_time</em></code> to an interval.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 S Heard,<br>
 D Kalra,<br>
 M Darlison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Oct 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed Spatial package to Common RM document.  Renamed <code>ACTION</code> back to <code>ACTION_SPECIFICATION</code>. Removed the class <code>NAVIGABLE_STRUCTURE</code>. Renamed <code>SPATIAL</code> to <code>STRUCTURE</code>.  Removed classes <code>STATE_HISTORY</code>, <code>STATE</code>, <code>SINGLE_STATE</code>. Removed Communication (<code>EHR_EXTRACT</code>) section to own document.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Sep 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removed Common and Demographic packages to their own documents.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28 Aug 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altered syntax of <code>EXTERNAL_ID</code> identifiers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Aug 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rewrote Demographic and Ehr_extract packages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Aug 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simplified <code>EHR_EXTRACT</code> model, numerous small changes from DSTC review.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Aug 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rewrite of contributions, version control semantics.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Lloyd,<br>
 D Kalra,<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01 Aug 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DSTC comments. Various minor errors/omissions. Changed inheritance of <code>SINGLE_EVENT</code> and <code>SINGLE_STATE</code>.  Included <code>STRUCTURE</code> subtype methods from GEHR. ehr_id added to VT. Altered <code>EHR</code>/<code>FOLDER</code> attrs. Added <code>EXTERNAL_ID</code>.<code><em>version</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 Z Tun</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Jun 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor corrections.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 May 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reworking of Structure section, <code>ACTION</code> class, <code>INSTRUCTION</code> class.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 May 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plans, actions updated.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 S Heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 May 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additions from HL7v3 coded term model, alterations to quantity model, added explanation sections.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 May 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.8.2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interim version with various review modifications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.8.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error corrections to <code>EHR_EXTRACT</code> package. P Schloeffel comments on 2.7.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 P Schloeffel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.8.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Further minor changes from UCL on v2.7.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dipak Kalra (UCL) comments on v2.6 incorporated. Added External Package. Minor changes elsewhere.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">23 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Final development of initial draft, including <code>EHR_EXTRACT</code>, related models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Further development of path syntax, incorporation of Dipak Kalras comments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Kalra</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Further development of clinical and record management clusters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Included David Lloyds rev 2.3 comments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 D Lloyd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 Apr 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Improved context analysis.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 Mar 2002</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Added path syntax.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19 Nov 2001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minor organisational changes, some content additions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18 Nov 2001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rewrite of large sections post-Eurorec 2001 conference, Aix-en-Provence. Added folder, contribution concepts.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 Nov 2001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Major additions to introduction, design philosophy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 Nov 2001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Major changes to diagrams; STILL UNREVIEWED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13 Oct 2001</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Based on GEHR Object Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22 Sep 2001</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements">Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_editor">Editor</h3>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica (UK); openEHR Foundation Management Board.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contributors">Contributors</h3>
<div class="paragraph">
<p>This specification benefited from wide formal and informal input from the openEHR and wider health informatics community. The openEHR Foundation would like to recognise the following people for their contributions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rong Chen MD, PhD, Cambio Healthcare Systems, Sweden</p>
</li>
<li>
<p>Linda Bird, PhD, DSTC, Australia</p>
</li>
<li>
<p>Matthew Darlinson, PhD, CHIME, UCL, UK</p>
</li>
<li>
<p>Heath Frankel, CTO Ocean Informatics, Australia</p>
</li>
<li>
<p>Matias Forss, Aalborg University, Denmark</p>
</li>
<li>
<p>Andrew Goodchild, PhD, senior research scientist DSTC, Australia</p>
</li>
<li>
<p>Grahame Grieve, Kestral Systems, Australia</p>
</li>
<li>
<p>Sam Heard MD, Ocean Informatics, Australia</p>
</li>
<li>
<p>David Ingram PhD, Emeritus Professor of Health Informatics, UCL, UK</p>
</li>
<li>
<p>Dipak Kalra MD, PhD, Professor Health Informatics, CHIME, UCL, UK</p>
</li>
<li>
<p>Bostjan Lah, Architect, Marand, Slovenia</p>
</li>
<li>
<p>David Lloyd (ret), CHIME, UCL, UK</p>
</li>
<li>
<p>Chunlan Ma PhD, MD, Ocean Informatics, Australia</p>
</li>
<li>
<p>Pablo Pazos Gutierrez, CaboLabs, Uruguay</p>
</li>
<li>
<p>Peter Schloeffel MD, Ocean Informatics, Australia</p>
</li>
<li>
<p>Zar zar Tun, DSTC, Australia</p>
</li>
<li>
<p>Bert Verhees, ROSA Software, The Netherlands.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support">Support</h3>
<div class="paragraph">
<p>The work reported in this paper has been funded in by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>University College London - Centre for Health Informatics and Multi-professional Education (CHIME);</p>
</li>
<li>
<p>Ocean Informatics;</p>
</li>
<li>
<p>Distributed Systems Technology Centre (DSTC), under the Cooperative Research Centres Program through the Department of the Prime Minister and Cabinet of the Commonwealth Government of Australia.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Special thanks to David Ingram, Emeritus Professor of Health Informatics at UCL, who provided a vision and collegial working environment ever since the days of GEHR (1992).</p>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks">Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation</p>
</li>
<li>
<p>'Java' is a registered trademark of Oracle Corporation</p>
</li>
<li>
<p>'Microsoft' and '.Net' are trademarks of the Microsoft Corporation</p>
</li>
<li>
<p>'CORBA' is a trademark of the Object Management Group</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document describes the openEHR EHR Information Model, which is a model of an interoperable EHR in the ISO RM/ODP information viewpoint. This model defines a logical EHR information architecture rather than just an architecture for communication of EHR extracts or documents between EHR systems. The openEHR definition of the EHR Extract is given in the openEHR EHR_EXTRACT Information Model.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standards bodies producing health informatics standards;</p>
</li>
<li>
<p>Academic groups using openEHR;</p>
</li>
<li>
<p>The open source healthcare community;</p>
</li>
<li>
<p>Solution vendors;</p>
</li>
<li>
<p>Medical informaticians and clinicians interested in health information.</p>
</li>
<li>
<p>Health data managers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="/releases/BASE/latest/architecture_overview.html">openEHR Architecture Overview</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Related documents include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="/releases/RM/latest/support.html">openEHR Support Information Model</a>;</p>
</li>
<li>
<p>The <a href="/releases/RM/latest/data_types.html">openEHR Data Types Information Model</a>;</p>
</li>
<li>
<p>The <a href="/releases/RM/latest/data_structures.html">openEHR Data Structures Information Model</a>;</p>
</li>
<li>
<p>The <a href="/releases/RM/latest/common.html">openEHR Common Information Model</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the STABLE state. The development version of this document can be found at <a href="/releases/RM/latest/common.html">www.openehr.org/releases/RM/latest/ehr.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
<div class="paragraph">
<p>Users are encouraged to comment on and/or advise on these paragraphs as well as the main content.  Feedback should be provided either on the <a href="http://lists.openehr.org/mailman/listinfo/openehr-technical_lists.openehr.org">technical mailing list</a>, or on the <a href="https://openehr.atlassian.net/issues/?filter=11103">specifications issue tracker</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conformance"><a class="anchor" href="#_conformance"></a>1.4. Conformance</h3>
<div class="paragraph">
<p>Conformance of a data or software artifact to an openEHR Reference Model specification is determined by a formal test of that artifact against the relevant openEHR Implementation Technology Specification(s) (ITSs), such as an IDL interface or an XML-schema. Since ITSs are formal, automated derivations from the Reference Model, ITS conformance indicates RM conformance.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_background"><a class="anchor" href="#_background"></a>2. Background</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the inputs to the modelling process that created the openEHR Information Model.</p>
</div>
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a>2.1. Requirements</h3>
<div class="paragraph">
<p>There are broadly three sets of requirements which inform this model, as described in the following subsections.</p>
</div>
<div class="sect3">
<h4 id="_original_gehr_requirements"><a class="anchor" href="#_original_gehr_requirements"></a>2.1.1. Original GEHR Requirements</h4>
<div class="paragraph">
<p>From the European GEHR project (1992-5; <a href="#Ingram_1995">[Ingram_1995]</a>), the following broad requirements areas were identified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the life-long EHR;</p>
</li>
<li>
<p>priority: Clinician / Patient interaction;</p>
</li>
<li>
<p>medico-legal faithfulness, traceability, audit-trailing;</p>
</li>
<li>
<p>technology &amp; data format independent;</p>
</li>
<li>
<p>facilitate sharing of EHRs;</p>
</li>
<li>
<p>suitable for both primary &amp; acute care;</p>
</li>
<li>
<p>secondary uses: education, research, population medicine;</p>
</li>
<li>
<p>open standard &amp; software deliverables;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The original deliverables can be reviewed in detail at the GEHR page at CHIME, UCL.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gehr_australia_requirements"><a class="anchor" href="#_gehr_australia_requirements"></a>2.1.2. GEHR Australia Requirements</h4>
<div class="paragraph">
<p>The GEHR Australia project (1997-2001; <a href="#GeHR_Aus_gpcg">[GeHR_Aus_gpcg]</a>, <a href="#GeHR_Aus_req">[GeHR_Aus_req]</a>) introduced further requirements, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>support for clinical data structures: lists, tables, time-series etc;</p>
</li>
<li>
<p>safer information model than the original (European) GEHR: context attributes only in valid places (but still similar style);</p>
</li>
<li>
<p>separate groups for "persistent", "demographic" and "event" information in EHR, which corresponds closely to real clinical querying patterns;</p>
</li>
<li>
<p>introduction of formally specified archetypes, and archetype-enabled information model;</p>
</li>
<li>
<p>interoperability at the knowledge level, i.e. level of domain definitions of information such as "discharge summary" and "biochemistry result";</p>
</li>
<li>
<p>XML-enabled;</p>
</li>
<li>
<p>consider compatibility with CEN 13606, Corbamed, HL7v3.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GEHR Australia produced a proof of concept implementation in which clinical archetypes were developed and used. See <a href="#Beale_2000">[Beale_2000]</a> for a technical description of archetypes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_european_synapses_and_synex_project_requirements"><a class="anchor" href="#_european_synapses_and_synex_project_requirements"></a>2.1.3. European Synapses and SynEx Project Requirements</h4>
<div class="paragraph">
<p>Following the original Good European Health Record project the EU-funded Synapses (1996-8; <a href="#Synapses_req_B">[Synapses_req_B]</a>) and SynEx (1998-2000; <a href="#Sottile_1999">[Sottile_1999]</a>) projects extended the original requirements basis of GEHR to include further requirements, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the requirements of a federation approach to unifying disparate clinical databases and EPR systems: the federated health record (FHR) <a href="#Synapses_req_A">[Synapses_req_A]</a>;</p>
</li>
<li>
<p>the need to separate a generic and domain independent high-level model for the federated health record from the (closely related) model of the meta-data which defines the domain specific health record characteristics of any given clinical specialty and any given federation of database schemata;</p>
</li>
<li>
<p>a formalism to define and communicate (share) knowledge about the semantic hierarchical organisation of an FHR, the permitted data values associated with each leaf node in a record hierarchy and any constraints on values that leaf nodes may take (the Synapses Object Dictionary) <a href="#Synapses_odp">[Synapses_odp]</a>;</p>
</li>
<li>
<p>the core technical requirements of and interfaces for a federation middleware service <a href="#Synapses_req_B">[Synapses_req_B]</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_european_ehcr_support_action_requirements"><a class="anchor" href="#_european_ehcr_support_action_requirements"></a>2.1.4. European EHCR Support Action Requirements</h4>
<div class="paragraph">
<p>This EU Support Action project ("SupA"; <a href="#EHCR_supA_24">[EHCR_supA_24]</a>, <a href="#EHCR_supA_31_32">[EHCR_supA_31_32]</a>, <a href="#EHCR_supA_35">[EHCR_supA_35]</a>) consolidated the requirements published by a wide range of European projects and national health informatics organisations as a Consolidated List of Requirements <a href="#EHCR_supA_14">[EHCR_supA_14]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_iso_ehr_requirements"><a class="anchor" href="#_iso_ehr_requirements"></a>2.1.5. ISO EHR Requirements</h4>
<div class="paragraph">
<p>The above requirements publications and the recent experience of openEHR feed into the definition of a set of EHR requirements authored by ISO Technical Committee 215 (Health Informatics) - ISO TS 18308. The present draft <a href="#ISO_18308">[ISO_18308]</a> has been reviewed by the authors of this document and openEHR will seek to maintain a close mapping between its information models and services and this international requirements work. The openEHR mapping to ISO 18308 can be found on the openEHR website.</p>
</div>
</div>
<div class="sect3">
<h4 id="_openehr_requirements"><a class="anchor" href="#_openehr_requirements"></a>2.1.6. openEHR Requirements</h4>
<div class="paragraph">
<p>New requirements generated during the development of openEHR included the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>major improvements in information models from the point of view of reducing progammer errors and ambiguity;</p>
</li>
<li>
<p>better modelling of time and context (temporal/spatial approach);</p>
</li>
<li>
<p>better understanding of legacy system / federation problem;</p>
</li>
<li>
<p>workflow modelling;</p>
</li>
<li>
<p>harmonise with CEN EN 13606;</p>
</li>
<li>
<p>integration with HL7v2 and other messaging systems;</p>
</li>
<li>
<p>numerous specific clinical requirements.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_relationship_to_other_health_information_models"><a class="anchor" href="#_relationship_to_other_health_information_models"></a>2.2. Relationship to other Health Information Models</h3>
<div class="paragraph">
<p>Where relevant, the correspondences to other information models have been documented in this specification. Correspondences to the GEHR Australia and EU Synapses/SynEx models are shown, since these are the models on which the openEHR EHR information model is primarily based. The following sections summarise the other models and standards with which correspondences are shown.</p>
</div>
<div class="sect3">
<h4 id="_cen_tc_251_pren13606"><a class="anchor" href="#_cen_tc_251_pren13606"></a>2.2.1. CEN TC/251 prEN13606</h4>
<div class="paragraph">
<p>These models have been influenced by and have also influenced the models in sCEN prEN13606 (2005 revision); accordingly, relationships to 13606 have been documented fairly precisely.</p>
</div>
<div class="paragraph">
<p>Since January 2002, the prEN13606 prestandard has been the subject of significant revision, as part of its transition to a full European Standard ("EN"). This work has been influenced by the openEHR specifications, and has itself been a source of further insights and changes to the openEHR specifications.</p>
</div>
<div class="paragraph">
<p>Particular areas of openEHR which have been changed due to this process include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>change of major class names (<code>TRANSACTION</code> &#8594; <code>COMPOSITION</code> etc; see CR-000013);</p>
</li>
<li>
<p>improved model of <code>ATTESTATION</code> (see CR-000025);</p>
</li>
<li>
<p>improved model of feeder audits (see CR-000027).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementation experience with Release 0.9 and 0.95 of openEHR has further improved these areas significantly. Nevertheless, openEHR is not a copy of CEN, for two reasons. Firstly, its scope includes systems, while EN13606 defines an EHR Extract; secondly, EN13606 suffers somewhat from "design by committee", and has no formal validation mechanism for its models.</p>
</div>
</div>
<div class="sect3">
<h4 id="_hl7_version_3"><a class="anchor" href="#_hl7_version_3"></a>2.2.2. HL7 Version 3</h4>
<div class="paragraph">
<p>Correspondences to some parts of HL7 version 3 (ballot 5, July 2003) are also documented where possible, however, it should be understood that there are a number of difficulties with this. Firstly, while the HL7v3 Reference Information Model (RIM) - the closest HL7 artifact to an information model - provides similar data types and some related semantics, it is not intended to be a model of the EHR. In fact, it differs from the information model presented here (and for that matter most published information models) in two basic respects: a) it is an amalgam of semantics from many systems which would exist in a distributed health information environment, rather than a model of just one (the EHR); b) it is also not a model of data, but a combination of "analysis patterns" in the sense of Fowler <a href="#Fowler_1997">[Fowler_1997]</a> from which further specific models - subschemas - are developed by a custom process of "refinement by restriction", in order to arrive at message definitions. As a consequence, data in messages are not instances of HL7v3 RIM classes, as would be the case in other systems based on information models of the kind presented here.</p>
</div>
<div class="paragraph">
<p>Despite the differences, there are some areas that appear to be candidates for mapping, specifically the data types and terminology use, and the correspondence between openEHR Compositions and parts of the HL7 Clinical Document Architecture (CDA).</p>
</div>
</div>
<div class="sect3">
<h4 id="_omg_hdtf"><a class="anchor" href="#_omg_hdtf"></a>2.2.3. OMG HDTF</h4>
<div class="paragraph">
<p>In general, the openEHR information models represent a more recent analysis of the required semantics of EHR and related information than can be found in the information viewpoint of the OMG HDTF specifications (particularly PIDS and COAS). However, the computational viewpoint (i.e. functional service interface definitions) is one of the inputs to the openEHR srevice model develpment activity.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_ehr_information_model"><a class="anchor" href="#_the_ehr_information_model"></a>3. The EHR Information Model</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>3.1. Overview</h3>
<div class="paragraph">
<p>The figure below illustrates the package structure of the openEHR EHR information model.</p>
</div>
<div id="ehr_packages" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="../UML/diagrams/RM-ehr-packages.svg" alt="RM ehr packages">
</div>
<div class="title">Figure 1. EHR Packages</div>
</div>
<div class="paragraph">
<p>The packages are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ehr</code>: this package contains the top level structure, the EHR, which consists of an <code>EHR_ACCESS</code> object, an <code>EHR_STATUS</code> object, versioned data containers in the form of <code>VERSIONED_COMPOSITIONs</code>, optionally indexed by a hierarchical directory of <code>FOLDERs</code>. A collection of <code>CONTRIBUTIONs</code> which document the changes to the EHR over time is also included.</p>
</li>
<li>
<p><code>composition</code>: the Composition is the EHRs top level "data container", and is described by the <code>COMPOSITION</code> class.</p>
</li>
<li>
<p><code>content</code>: this package contains the Navigation and Entry packages, whose classes describe the structure and semantics of the contents of Compositions in the health record.</p>
<div class="ulist">
<ul>
<li>
<p><code>navigation</code>: the <code>SECTION</code> class provides a navigational structure to the record, similar to "headings" in the paper record. <code>ENTRYs</code> and other <code>SECTIONs</code> can appear under <code>SECTIONs</code>.</p>
</li>
<li>
<p><code>entry</code>: This package contains the generic structures for recording clinical statements. Entry types include <code>ADMIN_ENTRY</code>, <code>OBSERVATION</code> (for all observed phenomena, including mechanically or manually measured, and responses in interview), <code>EVALUATION</code> (for assessments, diagnoses, plans), <code>INSTRUCTION</code> (actionable statements such as medication orders, recalls, monitoring, reviews), and <code>ACTION</code> (information recorded as a result of performing Instructions).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The figure below illustrates an overview of the class structure of the EHR Information Model, along with the main concepts on which they rely, namely Data Types, Data Structures, Archetyped, and Identification.</p>
</div>
<div id="ehr_im_overview" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="../UML/diagrams/RM-overview.svg" alt="RM overview" width="80%">
</div>
<div class="title">Figure 2. EHR Information Model Overview</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ehr_package"><a class="anchor" href="#_ehr_package"></a>4. EHR Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>4.1. Overview</h3>
<div class="paragraph">
<p>The openEHR EHR is structured according to a relatively simple model. A central EHR object identified by an EHR id specifies references to a number of types of structured, versioned information, plus a list of Contribution objects that act as audits of change-sets made to the EHR. The high-level structure of the openEHR EHR is shown in below.</p>
</div>
<div id="high_level_ehr_structure" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/high_level_ehr_structure.png" alt="high level ehr structure" width="70%">
</div>
<div class="title">Figure 3. High-level EHR structure</div>
</div>
<div class="paragraph">
<p>In this figure, the parts of the EHR are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>EHR</em>: the root object, identified by a globally unique EHR identifier;</p>
</li>
<li>
<p><em>EHR_access (versioned)</em>: an object containing access control settings for the record;</p>
</li>
<li>
<p><em>EHR_status (versioned)</em>: an object containing various status and control information, optionally including the identifier of the subject (i.e. patient) currently associated with the record;</p>
</li>
<li>
<p><em>Directory (versioned)</em>: an optional hierarchical structure of Folders that can be used to logically organise Compositions;</p>
</li>
<li>
<p><em>Compositions (versioned)</em>: the containers of all clinical and administrative content of the record;</p>
</li>
<li>
<p><em>Contributions</em>: the change-set records for every change made to the health record; each Contribution references a set of one or more Versions of any of the versioned items in the record that were committed or attested together by a user to an EHR system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>ehr</code> package is illustrated in the figure <a href="#rm_ehr">rm.ehr package</a> below. The classes have a more or less one-to-one correspondence with the objects shown in figure <a href="#high_level_ehr_structure">High-level EHR structure</a>. Each versioned object of type <code>XXX</code> is defined by a class <code>VERSIONED_XXX</code>, which is a binding of the type <code>XXX</code> to the generic type paremeter <code>T</code> in the generic type <code>VERSIONED_COMPOSITION</code> (while such bindings do not strictly require classes of their own, they facilitate implementation in languages lacking genericity).</p>
</div>
<div id="rm_ehr" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="../UML/diagrams/RM-ehr.svg" alt="RM ehr">
</div>
<div class="title">Figure 4. rm.ehr package</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_parts_of_the_ehr"><a class="anchor" href="#_the_parts_of_the_ehr"></a>4.2. The Parts of the EHR</h3>
<div class="sect3">
<h4 id="_root_ehr_object"><a class="anchor" href="#_root_ehr_object"></a>4.2.1. Root EHR Object</h4>
<div class="paragraph">
<p>The root EHR object records three pieces of information that are immutable after creation: the identifier of the system in which the EHR was created, the identifier of the EHR (distinct from any identifier for the subject of care), and the time of creation of the EHR. Otherwise, it simply acts as an access point for the component parts of the EHR.</p>
</div>
<div class="paragraph">
<p>References rather than containment by value are used for the relationship between the EHR and <code>VERSIONED_XXX</code> objects, reflecting the vast majority of retrieval scenarios in which only selected (usually recent) items are needed. Containment by value would lead to systems which retrieved all <code>VERSIONED_XXX</code> objects every time the EHR object was accessed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ehr_access"><a class="anchor" href="#_ehr_access"></a>4.2.2. EHR Access</h4>
<div class="paragraph">
<p>Access control settings for the whole EHR are specified in the <code>EHR_ACCESS</code> object. This includes default privacy policy, lists of identified accessors (individuals and groups) and exceptions to the default policies, each one identifying a particular Composition in the EHR. All changes to the EHR Access object are versioned via the normal mechanism, ensuring that the visible view of the EHR atany previous point in time is reconstructable.</p>
</div>
<div class="paragraph">
<p>Because security models for health information are still in their infancy, the openEHR model adopts a completely flexible approach. Only two hard-wired attributes are defined in the <code>EHR_ACCESS</code> class. The first is the name of the security scheme currently in use, while the second (settings attribute) is an object containing the access settings for the EHR according to that particular scheme. Each scheme is defined by an instance of a subclass of the abstract class <code>ACCESS_CONTROL_SETTINGS</code>, defined in the Security Information Model.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ehr_status"><a class="anchor" href="#_ehr_status"></a>4.2.3. EHR Status</h4>
<div class="paragraph">
<p>The <code>EHR_STATUS</code> object contains a small number of hard-wired attributes, and an archetyped <code><em>other_details</em></code> part. The former are used to indicate who is (currently understood to be) the subject of the record, and whether the EHR is actively in use, inactive, and whether it should be considered queryable. As for elsewhere in the openEHR EHR, the subject is represented by a <code>PARTY_SELF</code> object, enabling it to be made completely anonymous, or alternatively to include a patient identifier. The subject is included in the EHR Status object because it can change, due to errors being discovered in the allocation of records to patients. If the anonymous form is used, the change will be made elsewhere in a cross-reference table; otherwise the EHR Status object will be updated. Because it is versioned, all such changes are audit-trailed, and the change history can be reconstructed.</p>
</div>
<div class="paragraph">
<p>Other EHR-wide meta-data may be recorded in the archetyped part of this object, including runtime environment settings, software application names and version ids, identification and versions of data resources such as terminologies and possibly even actual software tools, configuration files, keys and so on. Such information is commonly versioned in software configuration management systems, in order to enable the reconstruction of earlier versions of software with the correct tools. One reason to store such information at all is that it adds to medico-legal support when clinicians have to justify a seemingly bad decision: if it can be shown that the version of software in use at the time was faulty, they are protected, but to do this requires that such information be recorded in the first place.</p>
</div>
</div>
<div class="sect3">
<h4 id="_compositions"><a class="anchor" href="#_compositions"></a>4.2.4. Compositions</h4>
<div class="paragraph">
<p>The main data of the EHR is found in its Compositions. The Composition concept in the openEHR EHR originated from the Transaction concept of the GEHR project (<a href="#GEHR_del_4">[GEHR_del_4]</a>, <a href="#GEHR_del_7">[GEHR_del_7]</a>, <a href="#GEHR_del_8">[GEHR_del_8]</a>, <a href="#GEHR_del_19_20_24">[GEHR_del_19_20_24]</a>), which was based on the concept of a unit of information corresponding to the interaction of a healthcare agent with the EHR. It was originally designed to satisfy the following needs (which include the wellknown ACID characteristics of transactions <a href="#Gray_reuter_1993">[Gray_reuter_1993]</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>durability</em>: the need for a persistent unit of information committal in the record;</p>
</li>
<li>
<p><em>atomicity</em>: the need for a minimal unit of integrity for clinical information, corresponding to a minimal unit for committal, transmission and security;</p>
</li>
<li>
<p><em>consistency</em>: the need for contributions to the record to leave the record in a consistent state;</p>
</li>
<li>
<p><em>isolation</em>: the need for contributions to the record by simultaneous users not to interfere with each other;</p>
</li>
<li>
<p><em>indelibility</em>: the requirement that information committed to the record be indelible in order to support later investigations, for both medico-legal and process improvement purposes, and the consequent requirement to be able to access previous states of the record;</p>
</li>
<li>
<p><em>modification</em>: the need for users to be able to modify EHR contents, in order to correct errors or update previously recorded information (e.g. current medications, family history); and</p>
</li>
<li>
<p><em>traceability</em>: the need to record adequate auditing information at committal, in order to provide clinical and legal traceability.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Transaction concept was later been renamed to "Composition", which is the name of the equivalent concept in the current CEN EN13606, and it has been expanded and more formally defined in openEHR in two ways. Firstly, the idea of a unit of committal has been formalised by the openEHR model of change control (see the openEHR Common Information Model); how this applies to the EHR and compositions is described below. Secondly, the informational purpose of a Composition is no longer just to contain data from a passing clinical event such as a patient contact, but also to capture particular categories of clinical data which have long-lived significance, such as problem and medication lists.Experience with health information systems, including the GEHR (Australia) project, SynEx, Synapses, and inspection of common commercial systems, has shown that there are two general categories of information at the coarse level which are found in an EHR: event items, and longitudinal, or persistent items, of which there are various kinds.</p>
</div>
<div class="sect4">
<h5 id="_event_compositions"><a class="anchor" href="#_event_compositions"></a>4.2.4.1. Event Compositions</h5>
<div class="paragraph">
<p>Events record what happens during healthcare system events with or for the patient, such as patient contacts, but also sessions in which the patient is not a participant (e.g. surgery) or not present (e.g. pathology testing). The figure below illustrates a simple EHR comprising an accumulation of event Compositions.</p>
</div>
<div id="basic_event_oriented_ehr" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/basic_event_oriented_ehr.png" alt="basic event oriented ehr" width="80%">
</div>
<div class="title">Figure 5. Basic event-oriented EHR</div>
</div>
<div class="paragraph">
<p>An important job of the event Composition is to record not only the data from the healthcare event, such as observations on the patient, but also to record the event context information, i.e. the who, when, where and why of the event. For this reason, a specific class representing clinical context is associated with event compositions in the formal model.</p>
</div>
</div>
<div class="sect4">
<h5 id="_persistent_compositions"><a class="anchor" href="#_persistent_compositions"></a>4.2.4.2. Persistent Compositions</h5>
<div class="paragraph">
<p>In a more sophisticated EHR, there is also a need to record items of long-term interest in the record. These are often separated by clinicians into well-known categories, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Problem list</p>
</li>
<li>
<p>Current medications</p>
</li>
<li>
<p>Therapeutic precautions</p>
</li>
<li>
<p>Vaccination history</p>
</li>
<li>
<p>Patient preferences</p>
</li>
<li>
<p>Lifestyle</p>
</li>
<li>
<p>Family history</p>
</li>
<li>
<p>Social history</p>
</li>
<li>
<p>Care plan</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Persistent Compositions can be thought of as proxies for the state or situation of the patient - together they provide a picture of the patient at a point in time. For example, the meaning of the "medication list" Composition is always: this is the list of medications currently being taken by patient X. Similarly for the other persistent Composition types given above. In scientific philosophy, the kind of information recorded in a persistent Composition is known as a <em>continuant</em> (see e.g. the KR ontology in <a href="#Sowa_2000">[Sowa_2000]</a>). This is in contrast with event Compositions, which do not generally record continuants, but instead record <em>occurrents</em>, i.e. things that were true or did happen but have no longevity.</p>
</div>
<div class="paragraph">
<p>Over time, the number of event Compositions is likely to far outstrip the number of persistent Compositions. The figure below illustrates an EHR containing persistent information as well as event information.</p>
</div>
<div id="event_persistent_ehr" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/event_persistent_ehr.png" alt="event persistent ehr" width="80%">
</div>
<div class="title">Figure 6. An EHR containing Event and Persistent Compositions</div>
</div>
<div class="paragraph">
<p>In any clinical session, an event composition will be created, and in many cases, persistent compositions will be modified. How this works is described below in the section <a href="#_change_control_in_the_ehr">Change Control in the EHR</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_directory"><a class="anchor" href="#_directory"></a>4.2.5. Directory</h4>
<div class="paragraph">
<p>As Compositions accumulate over time in the EHR, they form a long-term patient history. An optional directory structure can be used in the EHR to organise Compositions using a hierarchy of Folders in much the same way files in a file system are visualised by the directory Explorer tool on Windows and other platforms. In the openEHR model, Folders do not contain Compositions by value but by reference. More than one Folder can refer to the same Composition. Folders might be used to manage a simple classification of Compositions, e.g into event and persistent, or they might be used to create numerous categories, based on episodes or other groupings of Compositions. Folder structures can be archetyped.</p>
</div>
<div class="paragraph">
<p>A simple structure showing Folders referencing Compositions is shown below, in which the following folders are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Subject</strong>: a composition containing clinically relevant demographic data of the patient;</p>
</li>
<li>
<p><strong>Persistent</strong>: compositions containing information which is valid in the long term;</p>
</li>
<li>
<p><strong>Event</strong>: compositions containing information whose currency is limited to the short term after the time of committal;</p>
</li>
<li>
<p><strong>Episode_xxx</strong>: rather than using a single event folder, it may be convenient to group event compositions into episodes (periods of treatment at a health care facility relating to one or more identified problems) and/or other categories such as on the basis of type of healthcare (orthodox, homeopathic, etc).</p>
</li>
</ul>
</div>
<div id="folders_for_grouping" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/folders_for_grouping.png" alt="folders for grouping" width="80%">
</div>
<div class="title">Figure 7. Using Folders to Group Compositions</div>
</div>
<div class="paragraph">
<p>A justification for these particular categories is based on patterns of access. The persistent category consists of a dozen or so compositions described above, and which are continually required by querying (particularly lifestyle, current problems and medications). The event category consists of clinical data whose relevancy fades fairly quickly, including most measurements made on the patients or in pathology. Compositions in this category are thus potentially very numerous over the patients lifetime, but of decreasing relevance to the clinical care of the patient in time; it therefore makes sense to separate them from the persistent compositions.</p>
</div>
<div class="paragraph">
<p>Regardless of the folder structure used, the folder concept in itself poses no restrictions, nor does it add any clinical meaning to the record - it simply provides a logical navigational structure to the "lumps" of information committed to the record (remembering that inside compositions, there are other means of providing fine-grained structure in entries).</p>
</div>
<div class="paragraph">
<p>Note that neither the Folder names nor the Composition names described and illustrated above are part of the openEHR EHR reference model: all such details are provided by archetypes; hence, EHR structures based on completely different conceptions of division of information, or even different types of medicine are equally possible.</p>
</div>
<div class="paragraph">
<p>The EHR directory is maintained in its own versioned object, ensuring that changes to the classification structure of the Compositions are versioned over time in the same way as changes to the EHR content.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_change_control_in_the_ehr"><a class="anchor" href="#_change_control_in_the_ehr"></a>4.3. Change Control in the EHR</h3>
<div class="paragraph">
<p>Given an EHR in which there is an EHR Access object, EHR Status object, Event and Persistent Compositions, and possibly a directory structure, the general model of update of the EHR is that any of these might be created and/or modified during an update. The simplest, most common case is the creation of a single contact Composition. Another common case will be the creation of an Event Composition, and modification of one or more Persistent Compositions, e.g. due to facts learned in the consultation about family history, or due to prescription of new medications. Other types of updates include corrections to existing Compositions, and acquisition of Compositions from another site such as a hospital. Any of these updates might also include a change to the folder structure, or the moving of existing Compositions to other Folders. Naturally these scenarios depend on a structure of the record including event and persistent compositions, and a folder structure. In the extreme, an EHR consisting only of event Compositions and no Folders will experience only the creation of a single Composition for most updates, with acquisitions being the exception. Less often, updates will be made to the EHR Access and EHR Status objects, according to the management and access control needs of the patient and health care providers.</p>
</div>
<div class="paragraph">
<p>In general, the following requirements must always be met, regardless of the particular changes made at any one time:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the record should always be in a consistent informational state;</p>
</li>
<li>
<p>all changes to the record be audit-trailed;</p>
</li>
<li>
<p>all previous states of the record be available for the purposes of medico-legal investigation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These requirements are satisfied in openEHR via the use of the change control and versioning facilities defined in the Common Information Model. A key facet of the approach is the use of change-sets, known as Contributions in openEHR. Applied to the EHR, they can be visualised as shown below:</p>
</div>
<div id="ehr_contributions" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/ehr_contributions.png" alt="ehr contributions" width="80%">
</div>
<div class="title">Figure 8. Contributions to the EHR</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The first is due to a patient contact, and causes the creation of a new contact composition; it also causes changes to the problem list, current medications and care plan compositions (once again, in a differently designed record, all this information might have been contained in a single event Composition; likewise, it might be been distributed into even more Compositions).</p>
</li>
<li>
<p>The next Contribution is the acquisition of test results from a pathology laboratory.</p>
</li>
<li>
<p>The third is another contact in which both family history and the folder structure are modified.</p>
</li>
<li>
<p>This fourth is an error correction (e.g. a mispelled name, wrongly entered value), and shows that there can be a Contribution even when there is no healthcare event.</p>
</li>
<li>
<p>The last is an update to the EHR status information in the EHR, due to a software upgrade.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The list of Contributions made to a record is recorded along with changes to the data, so that not only are changes to top-level objects (EHR Acces, Composition etc) captured, but the list of changes forming a change set due to a user commit is always known as well.</p>
</div>
<div class="sect3">
<h4 id="_versioning_of_compositions"><a class="anchor" href="#_versioning_of_compositions"></a>4.3.1. Versioning of Compositions</h4>
<div class="paragraph">
<p>Versioning of Compositions is achieved with the <code>VERSIONED_OBJECT&lt;T&gt;</code> type from the change_control package (Common IM), which in the composition package is explicitly bound to the <code>COMPOSITION</code> class, via the class <code>VERSIONED_COMPOSITION</code> which inherits from the type <code>VERSIONED&lt;COMPOSITION&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The effect of version control on Compositions is visualised in the figure below. The versions (each "version" being a <code>COMPOSITION</code>) shown here in a <code>VERSIONED_COMPOSITION</code> are the same versions shown along each vertical line in FIGURE 8, this time shown with their associated audit items. The set of versions should be understood as a set of successive modifications of the same data in time.</p>
</div>
<div id="versioned_compositions" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/versioned_compositions.png" alt="versioned compositions" width="80%">
</div>
<div class="title">Figure 9. The versioned Composition</div>
</div>
<div class="paragraph">
<p>The <code>VERSIONED_COMPOSITION</code> can be thought of as a kind of smart repository: how it stores successive versions in time is an implementation concern (there are a number of intelligent algorithms available for this sort of thing), but what is important is that its functional interface enables any version to be retrieved, whether it be the latest, the first, or any in between.</p>
</div>
</div>
<div class="sect3">
<h4 id="_versioning_scenarios"><a class="anchor" href="#_versioning_scenarios"></a>4.3.2. Versioning Scenarios</h4>
<div class="paragraph">
<p>The following scenarios for creating new <code>COMPOSITION</code> versions have been identified as follows.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Case 0</dt>
<dd>
<p>information is authored locally, causing the creation of a new <code>VERSION&lt;COMPOSITION&gt;</code>. If this is the first version, a new <code>VERSIONED_COMPOSITION</code> will be created first.</p>
</dd>
<dt class="hdlist1">Case 1</dt>
<dd>
<p>information is modified locally, such as for the correction of a wrongly entered datum in a composition. This causes the creation of a new <code>VERSION&lt;COMPOSITION&gt;</code> in an existing <code>VERSIONED_COMPOSITION</code>, in which the <code>AUDIT_DETAILS</code>.<code><em>change_type</em></code> is set to "correction".</p>
</dd>
<dt class="hdlist1">Case 2</dt>
<dd>
<p>information received from a feeder system, e.g. a test result, which will be converted and used to create a new <code>VERSION&lt;COMPOSITION&gt;</code>. This kind of acquisition could be done automatically. If the receiver system needs to store a copy of the original feeder system audit details, it writes it into the <code>COMPOSITION</code>.<code><em>feeder_audit</em></code>.</p>
</dd>
<dt class="hdlist1">Case 3</dt>
<dd>
<p>a <code>VERSION&lt;COMPOSITION&gt;</code> (such as a family history) received as part of an <code>EHR_EXTRACT</code> from another openEHR system, which will be used by a local author to create a new <code>COMPOSITION</code> that includes some content chosen from the received item. In this case, the new <code>VERSION&lt;COMPOSITION&gt;</code> is considered as a locally authored one, in which some content has been obtained from elsewhere. If it is the first version, a <code>VERSIONED_COMPOSITION</code> is first created. The <code>AUDIT_DETAILS</code> documents the committal of this content, and the clinician may choose to record some details about it in the audit description.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In summary, the <code>AUDIT_DETAILS</code> is always used to document the addition of information locally, regardless of where it has come from. If there is a need to record original audit details, they become part of the content of the versioned object.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ehr_creation_semantics"><a class="anchor" href="#_ehr_creation_semantics"></a>4.4. EHR Creation Semantics</h3>
<div class="sect3">
<h4 id="_ehr_identifier_allocation"><a class="anchor" href="#_ehr_identifier_allocation"></a>4.4.1. EHR Identifier Allocation</h4>
<div class="paragraph">
<p>openEHR EHRs are created due to two types of events. The first is a new patient presenting at the provider institution. An EHR may be created due to this event, without reference to any other openEHR EHRs that may exist in the broader community or jurisdiction. In this case, the EHR will be allocated a new, globally unique EHR id. This establishes the new EHR as an intentional clone of the source EHR (or more correctly, part of the family of EHRs making up the virtual EHR for that patient).</p>
</div>
<div class="paragraph">
<p>On the other hand, an openEHR EHR may be created in an organisation as a logical clone (probably partial) of an EHR for the patient that exists in some other system. This might happen as a normal part of the front-desk registration / admission process, i.e. the local EHR system is able to interrogate an EHR location service and discover if any other EHR exists for this patient, or it may occur due to purely electronic communications between two providers, i.e. the EHR is created because an Extract of an EHR has been sent from elsewhere as part of a referral or similar communication. In this second case, the EHR id should be a copy of the EHR id from the other institution. In all cases, the <code>EHR.<em>system_id</em></code> value should be set to the value that would normally be used for locally created EHRs. In the case of creating a cloned EHR, the <code><em>system_id</em></code> is from the receiving (cloning) system.</p>
</div>
<div class="paragraph">
<p>In theory such a scheme could guarantee one EHR id per patient, but of course in reality, various factors conspire against this, and it can only approximate it. For one thing, it is known that providers routinely create new EHRs for a patient regardless of how many other EHRs already exist for that patient, simply because they have no easy way to find out about those EHRs. Ideally, this situation would be improved in the openEHR world, but due to reliance on such things as distributed services and reliable person identification, there are no guarantees. The best that can be said is that the EHR id allocation scheme can help support an ideal EHR id-per-patient situation if and when it becomes possible.</p>
</div>
</div>
<div class="sect3">
<h4 id="_creation"><a class="anchor" href="#_creation"></a>4.4.2. Creation</h4>
<div class="paragraph">
<p>When an EHR is created, the result should be a root EHR object, an EHR Status object, and an EHR Access object, plus any other house-keeping information the versioning implementation requires. In a normal implementation, the EHR Status and EHR Access objects would be created and committed in a Contribution, just as any Composition would be. The EHR Status object has a special status in the EHR, indicating whether the EHR should be included in querying, whether it is modifiable, and by implication, whether it is active. Flags might be set to indicate that it is test record, or for educational or training purposes. The initial creation operation has to supply sufficient parameters for creation of these two objects, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>system_id</em></code> - identifier of EHR repository of the system;</p>
</li>
<li>
<p><code><em>ehr_id</em></code> - the unique identifier of this EHR;</p>
</li>
<li>
<p><code><em>subject_id</em></code> - optional; the use of <code>PARTY_SELF</code> allows completely anonymous EHRs;</p>
</li>
<li>
<p><code><em>is_queryable</em></code> flag;</p>
</li>
<li>
<p><code><em>is_modifiable</em></code> flag - indicates whether the EHR is allowed to be modified (excepting the <code>EHR_STATUS</code> object which is always modifiable);</p>
</li>
<li>
<p>any other flags required by the EHR Status object in the local implementation.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
is is strongly recommended that a UUID always be used for the <code><em>ehr_id</em></code> field. This is common practice among implementers.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The EHR id will either be a new globally unique identifier, in the case of first time EHR creation for this patient in the health system, or else the same identifier as an existing EHR for the same subject in another system, in the case of an EHR move or copy. The effect of EHR copying / synchronising between systems is that EHRs with the same identifier can be found within multiple systems. However if the same patient presented at multiple provider locations with no EHR sharing capability, a new EHR with a unique identifier will be created at each place. If a later request for copying occurs (e.g. due to a request for an EHR Extract) between two providers, the requesting institution will perform the merge of the received copy into the existing EHR for the same patient.</p>
</div>
<div class="paragraph">
<p>The main consequences in a distributed environment are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>multiple EHR ids for a given patient indicate a mobile patient, but lack of systematic EHR sharing;</p>
</li>
<li>
<p>one EHR id everywhere for the patient indicates a seamlessly integrated distributed environment, most likely with a global identification service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the first situation is not a problem, and is not the same as the situation in which two EHRs are identified as being for different patients (i.e. subject id rather than EHR id is different) when in fact they are for the same person.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_time_in_the_ehr"><a class="anchor" href="#_time_in_the_ehr"></a>4.5. Time in the EHR</h3>
<div class="paragraph">
<p>There are numerous times recorded in the EHR, at varying levels of granularity. Certain times are a guaranteed by-product of the scientific investigation process, including time of sampling or collection; time of measurement, time of a healthcare business event, time of data committal. The following figure indicates these times with respect to Observation recordings (generally the most numerous) in the EHR.</p>
</div>
<div id="time_in_the_ehr" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/time_in_the_ehr.png" alt="time in the ehr" width="80%">
</div>
<div class="title">Figure 10. Time in the EHR</div>
</div>
<div class="paragraph">
<p>The top part of the figure shows the relationship of times typical for a physical examination at a GP visit. The lower part of the figure shows different relationships common in radiology and microbiology, where the sample (imaging or specimen collection) time can be quite different from the time of assessment and reporting of the sample. The times shown in the above figure have a close correspondence with the contexts described in <a href="#_context_model_of_recording">Context Model of Recording</a>; they also have (as shown) concrete attributes in the reference model.</p>
</div>
<div class="paragraph">
<p>Other times to do with diagnoses (time of onset, time of resolution, time of last episode) and medication management (time started taking medication, time stopped, time suspended, etc) are specific to the particular type of information (e.g. diagnosis versus prognosis versus recommendation) and are generally represented as archetyped date/time values within Evaluation objects. Basic timing information is modelled concretely in the Instruction and Action Entry types, while archetyping is used to express timing information that is specific to particular content.</p>
</div>
</div>
<div class="sect2">
<h3 id="_historical_views_of_the_record"><a class="anchor" href="#_historical_views_of_the_record"></a>4.6. Historical Views of the Record</h3>
<div class="paragraph">
<p>It is important to understand that the <code>COMPOSITION</code> versions at a previous point in time represent a previously available <em>informational state</em> of the EHR, at a particular EHR node. Such previous state include only those Compositions from other sources as have been acquired by that point in time, <em>regardless of whether the acquired information pertains to clinical information recorded earlier</em>. A previous historical state of the EHR thus corresponds to what users of a system could see at a particular moment of time. It is important to differentiate this from previous clinical states of the patient: previous informational states of the EHR might include acquired information which is significantly older than the point in time when merging occurred. A previous clinical state of the patient would be a derivable view of the EHRs in all locations for the patient - what is sometimes called the virtual EHR - at a given point in time, minus acquired Compositions, since these constitute (usually out-ofdate) copies of Compositions primarily available elsewhere.</p>
</div>
<div class="paragraph">
<p>It is previous informational states with which we are concerned for medico-legal purposes, since they represent the information actually available to clinicians at a health-care facility, at a point in time. But previous clinical views may be useful for reconstructing an actual sequence of events as experienced by the patient.</p>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions"><a class="anchor" href="#_class_descriptions"></a>4.7. Class Descriptions</h3>
<div class="sect3">
<h4 id="_ehr_class"><a class="anchor" href="#_ehr_class"></a>4.7.1. EHR Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>EHR</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The EHR object is the root object and access point of an EHR for a subject of care.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>system_id</strong>: <code>HIER_OBJECT_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The id of the EHR repository on which this EHR was created.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ehr_id</strong>: <code>HIER_OBJECT_ID</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The unique identifier of this EHR.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
is is strongly recommended that a UUID always be used for this field.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>contributions</strong>: <code>List&lt;OBJECT_REF&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of contributions causing changes to this EHR. Each contribution contains a list of versions, which may include references to any number of VERSION instances, i.e. items of type VERSIONED_COMPOSITION and VERSIONED_FOLDER.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ehr_status</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reference to EHR_STATUS object for this EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ehr_access</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reference to EHR_ACCESS object for this EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>compositions</strong>: <code>List&lt;OBJECT_REF&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Master list of all Versioned Composition references in this EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>directory</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional directory structure for this EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time_created</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Time of creation of the EHR.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Contributions_valid</em></strong>: <code>contributions.for_all (c &#124; c.type.is_equal(CONTRIBUTION))</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Ehr_access_valid</em></strong>: <code>ehr_access.type.is_equal (VERSIONED_EHR_ACCESS)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Ehr_status_valid</em></strong>: <code>ehr_status.type.is_equal(VERSIONED_EHR_STATUS)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Compositions_valid</em></strong>: <code>compositions.for_all (c &#124; c.type.is_equal (VERSIONED_COMPOSITION))</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Directory_valid</em></strong>: <code>directory /= Void implies directory.type.is_equal (VERSIONED_FOLDER)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_versioned_ehr_access_class"><a class="anchor" href="#_versioned_ehr_access_class"></a>4.7.2. VERSIONED_EHR_ACCESS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VERSIONED_EHR_ACCESS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Version container for EHR_ACCESS instance.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSIONED_OBJECT</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ehr_access_class"><a class="anchor" href="#_ehr_access_class"></a>4.7.3. EHR_ACCESS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>EHR_ACCESS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>EHR-wide access contol object. All access decisions to data in the EHR must be made in accordance with the policies and rules in this object.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>settings</strong>: <code>ACCESS_CONTROL_SETTINGS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Access control settings for the EHR. Instance is a subtype of the type ACCESS_CONTROL_SETTINGS, allowing for the use of different access control schemes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scheme</strong> (): <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The name of the access control scheme in use; corresponds to the concrete instance of the settings attribute.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Scheme_valid</em></strong>: <code>not scheme.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Is_archetype_root</em></strong>: <code>is_archetype_root</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_versioned_ehr_status_class"><a class="anchor" href="#_versioned_ehr_status_class"></a>4.7.4. VERSIONED_EHR_STATUS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VERSIONED_EHR_STATUS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Version container for EHR_STATUS instance.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSIONED_OBJECT</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ehr_status_class"><a class="anchor" href="#_ehr_status_class"></a>4.7.5. EHR_STATUS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>EHR_STATUS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Single object per EHR containing various EHR-wide status flags and settings, including whether this EHR can be queried, modified etc. This object is always modifiable, in order to change the status of the EHR as a whole.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject</strong>: <code>PARTY_SELF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The subject of this EHR. The external_ref attribute can be used to contain a direct reference to the subject in a demographic or identity service. Alternatively, the association between patients and their records may be done elsewhere for security reasons.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_queryable</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this EHR should be included in population queries, i.e. if this EHR is considered active in the population.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_modifiable</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if this EHR is allowed to be written to. Note that the EHR_STATUS object is special and can always be written to.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_details</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Any other details of the EHR summary object, in the form of an archetyped Item_structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Is_archetype_root</em></strong>: <code>is_archetype_root</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_versioned_composition_class"><a class="anchor" href="#_versioned_composition_class"></a>4.7.6. VERSIONED_COMPOSITION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VERSIONED_COMPOSITION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Version-controlled composition abstraction, defined by inheriting VERSIONED_OBJECT&lt;COMPOSITION&gt;.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>VERSIONED_OBJECT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_persistent</strong> (): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Indicates whether this composition set is persistent; derived from first version.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Archetype_node_id_valid</em></strong>: <code>all_versions.for_all (v &#124; v.archetype_node_id.is_equal (all_versions.first.archetype_node_id))</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Persistent_validity</em></strong>: <code>all_versions.for_all (v &#124; v.is_persistent = all_versions.first.data.is_persistent)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_composition_package"><a class="anchor" href="#_composition_package"></a>5. Composition Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>5.1. Overview</h3>
<div class="paragraph">
<p>The Composition is the primary 'data container' in the openEHR EHR and is the root point of clinical content. Instances of the <code>COMPOSITION</code> class can be considered as self-standing data aggregations, or documents in a document-oriented system. The key information in a <code>COMPOSITION</code> is found in its <code><em>content</em></code>, <code><em>context</em></code>, and <code><em>composer</em></code> attributes. The UML diagram below illustrates the <code>composition</code> package.</p>
</div>
<div id="rm_composition" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="../UML/diagrams/RM-composition.svg" alt="RM composition">
</div>
<div class="title">Figure 11. rm.composition package</div>
</div>
</div>
<div class="sect2">
<h3 id="_context_model_of_recording"><a class="anchor" href="#_context_model_of_recording"></a>5.2. Context Model of Recording</h3>
<div class="sect3">
<h4 id="_overview_4"><a class="anchor" href="#_overview_4"></a>5.2.1. Overview</h4>
<div class="paragraph">
<p>The openEHR EHR model takes account of a systematic analysis of "context". Contexts in the real world are mapped to particular levels of the information model in a clear way, according to the scheme shown in FIGURE 12. On the left hand side is depicted the context of a data-entry session in which the information generated by a "healthcare event", containing "clinical statements", is added to the EHR. A healthcare event is defined as any business activity of the health care system for the patient, including encounters, pathology tests, and interventions. A clinical statement is the minimal indivisible unit of information the clinician wants to record. Clinical statements are shown in the diagram has having temporal and spatial structure as well as data values. Each of these three contexts has its own audit information, consisting of who, when, where, why information.</p>
</div>
<div id="ehr_recording_model" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/ehr_recording_model.png" alt="ehr recording model" width="70%">
</div>
<div class="title">Figure 12. General Model of Recording</div>
</div>
<div class="paragraph">
<p>On the right hand side of the figure <a href="#ehr_recording_model">General Model of Recording</a>, the EHR recording environment is represented. The EHR consists of distinct, coarse-grained items known as Compositions added over time and organised by Folders. Each Composition consists of Entries, organised by Sections within the Composition. The audit information for each context is recorded at the corresponding level of the EHR.</p>
</div>
</div>
<div class="sect3">
<h4 id="_composer"><a class="anchor" href="#_composer"></a>5.2.2. Composer</h4>
<div class="paragraph">
<p>The composer is the person who was primarily responsible for the content of the Composition. This is the identifier that should appear on the screen. It could be a junior doctor who did all the work, even if not legally responsible, or it could be a nurse, even if later attested by a more senior clinician; it will be the patient in the case of patient-entered data. It may or may not be the person who entered and committed the data. it may also be a software agent. This attribute is mandatory, since all content must be been created by some person or agent.</p>
</div>
<div class="paragraph">
<p>Since in many cases Compositions will be composed and committed by the same person, it might seem that two identifiers <code>COMPOSITION</code>.<code><em>composer</em></code> and <code>VERSION</code>.<code><em>audit</em></code>.<code><em>committer</em></code> (which are both of type <code>PARTY_PROXY</code>) will be identical. In fact, this will probably not be the case, because the kind of identifier to represent the composer will be a demographic identifier, e.g. "RN Jane Williams", "RN
12345678", whereas the identifier in the audit details will usually be a computer system user identifier, e.g. "<a href="mailto:jane.williams@westmead.health.au">jane.williams@westmead.health.au</a>". This difference highlights the different purposes of these attributes: the first exists to identify the clinical agent who created the information, while the second exists to identify the logged-in user who committed it to the system.</p>
</div>
<div class="paragraph">
<p>In the situation of patient-entered data, the special "self" <code>PARTY_PROXY</code> instance (see Common IM generic package) is used for both <code>COMPOSITION</code>.<code><em>composer</em></code> and <code>VERSION</code>.<code><em>audit</em></code>.<code><em>committer</em></code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_event_context"><a class="anchor" href="#_event_context"></a>5.2.3. Event Context</h4>
<div class="sect4">
<h5 id="_overview_5"><a class="anchor" href="#_overview_5"></a>5.2.3.1. Overview</h5>
<div class="paragraph">
<p>The optional event_context in the <code>COMPOSITION</code> class is used to document the healthcare event causing new or changed content in the record. Here, 'healthcare event' means 'a (generally billable) business activity of the healthcare system with, for or on behalf of the patient'. Generally this will an encounter involving the subject of care and physician, but is variable in a hospital environment. In this sense, a visit to a GP is a single care event, but so is an episode in a hospital, which may encompass multiple encounters. The information recorded in Event context includes start and (optional) end time of the event, health care facility, setting (e.g. primary care, aged care, hospital), participating healthcare professionals, and optional further details defined by an archetype.</p>
</div>
<div class="paragraph">
<p>Healthcare events that require an Event_context instance in their recorded information include the following.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Scheduled or booked patient encounters leading to changes to the EHR, including with a GP, hospital consultant, or other clinical professional such as mobile nurse. In this case, the Event context documents the time and place of the encounter, and the identity of the clinical professional.</p>
</li>
<li>
<p>Case conferences about a patient, leading to modifications to the health record; here the Event context documents the case conference time, place and participants.</p>
</li>
<li>
<p>Pathology, imaging or other test process. In this case, the Event context documents the place and period during which testing and analysis was carried out, and by whom.</p>
</li>
<li>
<p>Data resulting from care in the home provided by health professional(s) (often allied health care workers). Situations in which Event context is optional include the following.</p>
</li>
<li>
<p>Nurse interactions with patients in hospital, including checking vital signs, adjusting medication or other aspects of bed situation for the patient. Each instance of a nurse&#8217;s observations are generally not considered to be a separate 'care event', rather they are seen as the continuation of the general activities of monitoring. In such situations, the overall context is given by <code>ADMIN_ENTRY</code> instances in the record indicating date/time and place of admission and discharge.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Situations in which Event context is not used include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any modification to the EHR which corrects or updates existing content, including by administrative staff, and by clinical professionals adding or changing evaluations, summaries etc.</p>
</li>
<li>
<p>Patient-entered data where no interaction with health professionals took place; typically readings from devices in the home such as weighing scales, blood glucose measuring devices, wearable monitors etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ultimately, the use of Event context will be controlled by Composition-level archetypes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_occurrence_in_data"><a class="anchor" href="#_occurrence_in_data"></a>5.2.3.2. Occurrence in Data</h5>
<div class="paragraph">
<p>For situations requiring an <code>EVENT_CONTEXT</code> object to be recorded, it is worth clarifying which Compositions carry such objects. Consider the example shown in in the figure <a href="#event_context">Use of Event context</a>. In this example, a Contribution is made to the EHR, consisting of one or more Compositions that were each created or modified due to some clinical activity. Within such a set, there will usually be one Composition relating directly to the event, such as the patient contact - this is the Composition containing the doctor&#8217;s observations, nurses' activities etc, during the visit, and is therefore the one which contains the <code>EVENT_CONTEXT</code> instance. Other Compositions changed during the same event (e.g. updates to medication list, family history and so on) do not require an Event context, since they are part of the same Contribution, and the event context of the primary Composition can always be retrieved if desired. Contributions A, B and C in the figure illustrate this case.</p>
</div>
<div id="event_context" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/event_context.png" alt="event context" width="80%">
</div>
<div class="title">Figure 13. Use of Event context</div>
</div>
<div class="paragraph">
<p>In cases where Contributions are made to the record with no event context, the Event context of any Compositions from the original commit will remain intact and visible (unless the correction is to the event context itself of course), and will correctly reflect the fact that no new clinical interaction occurred. This is the case with Contribution D in the figure.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Persistent Compositions may optionally have an Event context. In openEHR releases up to 1.0.3, Persistent Compositions had no Event context. This was releaxed in subsequent releases, to allow the inclusion of context information (e.g. encounter data) for changes to Persistent Compositions where no Event Composition was created.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_time"><a class="anchor" href="#_time"></a>5.2.3.3. Time</h5>
<div class="paragraph">
<p>The times recorded in the Event context represent the time of an encounter or other activity undertaken by a health provider to/for/on behalf of the patient. The time is represented as a mandatory start time and optional end time. It is assumed that where there is a clinical session (i.e. an <code>EVENT_CONTEXT</code> object does exist), the start time is known or can be reasonably approximated. It is quite common that the end time of a consultation or encounter is not recorded, but rather inferred from e.g. average consult times, or the start time of the next consult for the same physician.</p>
</div>
<div class="paragraph">
<p>Event context is used as described above even if the additions are made to the EHR long after the event took place, such as happens when a doctor writes his/her notes into the record system at night, after all patients have been seen. In such cases, the versioned Composition audit trail records the context of when the data were entered, as distinct from the context of when the clinical interaction took place.</p>
</div>
</div>
<div class="sect4">
<h5 id="_participations"><a class="anchor" href="#_participations"></a>5.2.3.4. Participations</h5>
<div class="paragraph">
<p>Is part of the Event context, the participations attribute can be used to describe who participated, and how. Each participation object describes the "mode" of participation as well, such as direct presence, video-conference and so on. In many cases such information is of no interest, since the subject of any Entry is known (<code>ENTRY</code>.<code><em>subject</em></code>) and the clinician will be known (<code>COMPOSITION</code>.<code><em>composer</em></code>), and the mode of communication is assumed to be a personal encounter. The participations attribute is therefore used when it is desired to record further details of how the patient and or physician interacted (e.g. over the internet), and/or other participants, such as family, nurses, specialists etc.</p>
</div>
<div class="paragraph">
<p>There are no general rules about who is included as a participant. For example, while there will be a patient participation during a GP visit, there will be no such participation recorded when the clinical event is a tissue test in a laboratory. Conversely, a patient might record some observations and drug self-administration in the record, in which case the composer will be the patient, and there will be no clinician participation. Consequently, the use of participations will mostly be archetype-driven.</p>
</div>
</div>
<div class="sect4">
<h5 id="_healthcare_facility_location_and_setting"><a class="anchor" href="#_healthcare_facility_location_and_setting"></a>5.2.3.5. Healthcare Facility, Location and Setting</h5>
<div class="paragraph">
<p>The <code><em>health_care_facility</em></code> (HCF) attribute is used to record the health care facility in whose care the event took place. This is the most specific identifiable (i.e. having a provider id within the health system) workgroup or care delivery unit within a care delivery enterprise which was involved in the care event. The identification of the HCF can be used to ensure medico-legal accountability. Often, the HCF is also where the encounter physically took place, but not in the case of patient home visits, internet contacts or emergency care; the HCF should not be thought of as a physical place, but as a care delivery management unit. The physical place of care can be separately recorded in <code>EVENT_CONTEXT</code>.<code><em>location</em></code>. The health_care_facility attribute is optional to allow for cases where the clinical event did not involve any care delivery enterprise, e.g. self-care at home by the patient, emergency revival by a non-professional (e.g. CPR by lifeguard on a beach), care by a professional acting in an unofficial capacity (doctor on a plane asked to aid a passenger in difficulty). In all other cases, it is mandatory. Archetypes are used to control this.</p>
</div>
<div class="paragraph">
<p>Two other context attributes complete the predefined notion of event context in the model: <code><em>location</em></code> and <code><em>setting</em></code>. The location attribute records: the physical location where the care delivery took place, and should document a reasonably specific identifiable location. Examples include "bed 5, ward E", "home". This attribute is optional, since the location is not always known, particularly in legacy data.</p>
</div>
<div class="paragraph">
<p>The setting attribute is used to document the "setting" of the care event. In clinical record keeping, this has been found to be a useful coarse-grained classifier of information. The openEHR Terminology "setting" group is used to code this attribute. It is mandatory, on the basis that making it optional will reduce its utility for querying and classification.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_composition_content"><a class="anchor" href="#_composition_content"></a>5.3. Composition Content</h3>
<div class="paragraph">
<p>The data in a Composition is stored in the <code><em>content</em></code> attribute. There are four kinds of data structuring possible in the content attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it may be empty. Although for most situations, there should be content in a Compostion, there are at least two cases where an empty Composition makes sense:</p>
<div class="ulist">
<ul>
<li>
<p>the first is a Composition in 'draft' editing state (<code>VERSION.<em>lifecycle_state</em></code> = 'incomplete')</p>
</li>
<li>
<p>the second is for systems that are only interested in the fact of an event having taken place, but want no details, such as so-called clinical 'event summary' systems, which might record the fact of visits to the doctor, but contain no further information. This can be achieved using Compositions with event context, and no further content.</p>
</li>
</ul>
</div>
</li>
<li>
<p>it may contain one or more <code>SECTIONs</code> which are defined in the archetype of the Composition;</p>
</li>
<li>
<p>it may contain one or more <code>SECTION</code> trees, each of which is a separately archetyped structure;</p>
</li>
<li>
<p>it may contain one or more <code>ENTRYs</code> directly, with no intermediate <code>SECTIONs</code>;</p>
</li>
<li>
<p>it may be any combination of the previous three possibilities.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The actual structures used in a Composition at runtime are controlled by a template, which in turn controls the particular combination of archetypes used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_2"><a class="anchor" href="#_class_descriptions_2"></a>5.4. Class Descriptions</h3>
<div class="sect3">
<h4 id="_composition_class"><a class="anchor" href="#_composition_class"></a>5.4.1. COMPOSITION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>COMPOSITION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>One version in a <code>VERSIONED_COMPOSITION</code>. A Composition is considered the unit of modification of the record, the unit of transmission in record extracts, and the unit of attestation by authorising clinicians. In this latter sense, it may be considered equivalent to a signed document.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
it is strongly recommended that the inherited attribute <code><em>uid</em></code> be populated in Compositions, using a UUID.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>language</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Mandatory indicator of the localised language in which this Composition is written. Coded from openEHR Code Set  <code>languages</code>. The language of an Entry if different from the Composition is indicated in <code>ENTRY.<em>language</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>territory</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Name of territory in which this Composition was written. Coded from openEHR  countries  code set, which is an expression of the ISO 3166 standard.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>category</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Indicates what broad category this Composition is belogs to, e.g. persistent  - of longitudinal validity,  event ,  process  etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>context</strong>: <code>EVENT_CONTEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The clinical session context of this Composition, i.e. the contextual attributes of the clinical session.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>composer</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The person primarily responsible for the content of the Composition (but not necessarily its committal into the EHR system). This is the identifier which should appear on the screen. It may or may not be the person who entered the data. When it is the patient, the special self  instance of <code>PARTY_PROXY</code> will be used.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>content</strong>: <code>List&lt;CONTENT_ITEM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The content of this Composition.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_persistent</strong> (): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>True if category is a  persistent  type, False otherwise. Useful for finding Compositions in an EHR which are guaranteed to be of interest to most users.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Category_validity</em></strong>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_composition_category, category.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Territory_valid</em></strong>: <code>code_set(Code_set_id_countries).has_code(territory)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Language_valid</em></strong>: <code>code_set(Code_set_id_languages).has_code(language)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Content_valid</em></strong>: <code>content /= Void implies not content.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Is_archetype_root</em></strong>: <code>is_archetype_root</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_event_context_class"><a class="anchor" href="#_event_context_class"></a>5.4.2. EVENT_CONTEXT Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>EVENT_CONTEXT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Documents the context information of a healthcare event involving the subject of care and the health system. The context information recorded here are independent of the attributes recorded in the version audit, which document the  system interaction  context, i.e. the context of a user interacting with the health record system. Healthcare events include patient contacts, and any other business activity, such as pathology investigations which take place on behalf of the patient.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PATHABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>start_time</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Start time of the clinical session or other kind of event during which a provider performs a service of any kind for the patient.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>end_time</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional end time of the clinical session.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>location</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The actual location where the session occurred, e.g. 'microbiology lab 2', 'home', 'ward A3'  and so on.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>setting</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The setting in which the clinical session took place. Coded using the openEHR Terminology,  setting  group.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_context</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Other optional context which will be archetyped.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>health_care_facility</strong>: <code>PARTY_IDENTIFIED</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The health care facility under whose care the event took place. This is the most specific workgroup or delivery unit within a care delivery enterprise that has an official identifier in the health system, and can be used to ensure medico-legal accountability.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>participations</strong>: <code>List&lt;PARTICIPATION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Parties involved in the healthcare event. These would normally include the physician(s) and often the patient (but not the latter if the clinical session is a pathology test for example).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Setting_valid</em></strong>: <code>Terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_setting, setting.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Participations_validity</em></strong>: <code>participations /= Void implies not participations.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>location_valid</em></strong>: <code>location /= Void implies not location.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_content_package"><a class="anchor" href="#_content_package"></a>6. Content Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_6"><a class="anchor" href="#_overview_6"></a>6.1. Overview</h3>
<div class="paragraph">
<p>The <code>content</code> package contains the <code>CONTENT_ITEM</code> class, ancestor class of all content types, and the navigation and entry packages, which contain <code>SECTION</code>, <code>ENTRY</code> and related types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_3"><a class="anchor" href="#_class_descriptions_3"></a>6.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_content_item_class"><a class="anchor" href="#_content_item_class"></a>6.2.1. CONTENT_ITEM Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>CONTENT_ITEM (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Abstract ancestor of all concrete content types.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_navigation_package"><a class="anchor" href="#_navigation_package"></a>7. Navigation Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_7"><a class="anchor" href="#_overview_7"></a>7.1. Overview</h3>
<div class="paragraph">
<p>The <code>navigation</code> Package defines a hierachical heading structure, in which all individual headings are considered to belong to a "tree of headings". Each heading is an instance of the class <code>SECTION</code>, visible in the lower left side of the figure <a href="#rm_composition">rm.composition package</a>.</p>
</div>
<div class="paragraph">
<p>Sections provide both a logical structure for the author to arrange Entries, and a navigational structure for readers of the record, whether they be human or machine. Sections are archetyped in trees with each tree containing a root Section, one or more sub-sections, and any number of Entries at each node. Section trees that are separately archetyped, such as the SOAP headings, or the heading structure for a physical examination, can be combined at runtime by type to form one large heading structure, as shown in the figure below.</p>
</div>
<div id="ehr_with_sections" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/ehr_with_sections.png" alt="ehr with sections" width="70%">
</div>
<div class="title">Figure 14. Section View of a General Practice Contact Composition</div>
</div>
<div class="paragraph">
<p>In terms of understanding of clinical data, Section structures are not essential in a Composition - they can always be removed or ignored (typically in machine processing such as querying) without losing the meaning of the Entries in the Composition. While Sections are often used to group Entries according to status, e.g. "family history", "problems", "observations", it is the Entries themselves that indicate the definitive category of information contained therein. This principle is explained in more detail in the section <a href="#_entry_and_its_subtypes">Entry and its Subtypes</a>.</p>
</div>
<div class="paragraph">
<p>Despite the above, Section structures do not have to be regarded as ad hoc or unreliable structures. On the contrary, as they are archetyped, their structures can be relied upon in the same way as any other structure in the record can be relied on to conform to its archetype. Accordingly, solid assumptions can be made about Sections, based on their archetypes, for the purposes of querying. In fact, the main benefit of Sections is that they may provide significant performance benefits to querying, whether by interactive application or by automated systems.</p>
</div>
<div class="paragraph">
<p>One potentially confusing aspect of any Section structure is that while the root Section in a tree is logically a Section, it does not appear in a display or printed form as a visible section. This is due to the fact that humans dont usually write down top-level headings for anything, since there is always a containing structure acting as a top-level organising context (such as the piece of paper one is writing on). For example, consider the way a clinician writes down the problem/SOAP headings on paper. She writes the name of the first problem, then under that, the S/O/A/P headings, then repeats the process for further problems. But she doesnt write down a heading above the level of the problems, even though there must be one from a data structure point of view.</p>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_4"><a class="anchor" href="#_class_descriptions_4"></a>7.2. Class Descriptions</h3>
<div class="sect3">
<h4 id="_section_class"><a class="anchor" href="#_section_class"></a>7.2.1. SECTION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>SECTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Represents a heading in a heading structure, or  section tree.  Created according to archetyped structures for typical headings such as SOAP,  physical examination, but also pathology result heading structures.  Should not be used instead of <code>ENTRY</code> hierarchical structures.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONTENT_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;CONTENT_ITEM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Ordered list of content items under this section, which may include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>more SECTIONs</p>
</li>
<li>
<p>ENTRYs</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Items_valid</em></strong>: <code>items /= Void implies not items.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_section_instance_structures"><a class="anchor" href="#_section_instance_structures"></a>7.3. Section Instance Structures</h3>
<div class="sect3">
<h4 id="_problem_soap_headings"><a class="anchor" href="#_problem_soap_headings"></a>7.3.1. Problem/SOAP Headings</h4>
<div class="paragraph">
<p>An example of an section tree representing the problem/SOAP heading structure is shown below.</p>
</div>
<div id="SOAP_section_structure" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/SOAP_section_structure.png" alt="SOAP section structure" width="80%">
</div>
<div class="title">Figure 15. "problem/SOAP" Section Structure</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_entry_package"><a class="anchor" href="#_entry_package"></a>8. Entry Package</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_design_principles"><a class="anchor" href="#_design_principles"></a>8.1. Design Principles</h3>
<div class="sect3">
<h4 id="_information_ontology"><a class="anchor" href="#_information_ontology"></a>8.1.1. Information Ontology</h4>
<div class="paragraph">
<p>All information which is created in the openEHR health record is expressed as an instance of a class in the entry package, containing the <code>ENTRY</code> class and a number of descendants. An <code>ENTRY</code> instance is logically a single 'clinical statement', and may be a single short narrative phrase, but may also contain a significant amount of data, e.g. a microbiology result, a psychiatric examination, a complex prescription. In terms of clinical content, the Entry classes are the most important in the openEHR EHR Information Model, since they define the semantics of all the 'hard' information in the record. They are intended to be archetyped, and in fact, archetypes for Entries make up the vast majority of important clinical archetypes defined.</p>
</div>
<div class="paragraph">
<p>The design of <code>entry</code> package is based on the Clinical Investigator Recording process and ontology, described in <a href="#Beale_Heard_2007">[Beale_Heard_2007]</a>. The process is shown in following figure.</p>
</div>
<div id="clinical_investigator_recording_process" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/clinical_investigator_recording_process.png" alt="clinical investigator recording process" width="80%">
</div>
<div class="title">Figure 16. Clinical Investigator Recording Process</div>
</div>
<div class="paragraph">
<p>This figure shows the cycle of information created by an iterative, problem solving process undertaken by a "clinical investigator system", which consists of health carers, and may include the patient (at points in time when the patient performs observational or therapeutic activities). Starting from the patient (right hand side of figure) observations are made, which lead to opinions on the part of the investigator, including assessment of the current situation, goals for a future situation, and plans for achieving the goals. Personal and published evidence and knowledge almost always play an important part in this process. The latter lead to instructions designed to help the patient achieve the goals. A complex or chronic problem may take numerous iterations - possibly a whole lifetime&#8217;s worth - with each step being quite small, and future steps depending heavily on past progress. The role of the investigator (and associated agents) is normally filled by health care professionals, but may also be filled by the patient, or a guardian or associate of the patient. Indeed, this is what happens every time a person goes home from the pharmacy with prescribed medication to take at home.</p>
</div>
<div class="paragraph">
<p>The process illustrated in the figure <a href="#clinical_investigator_recording_process">Clinical Investigator Recording Process</a> is a synthesis of the "problem-oriented" approach of Weed (<a href="#Weed_1969">[Weed_1969]</a>) and the "hypothetico-deductive model" of clinical reasoning described by Elstein <em>et al</em> <a href="#Elstein_1987">[Elstein_1987]</a>. However, as pointed out in <a href="#Elstein_Schwarz_2002">[Elstein_Schwarz_2002]</a>, hypothesis-making and testing is not the only successful process used by clinical professionals - evidence shows that many (particularly those older and more experienced) rely on pattern recognition and direct retrieval of plans used previously with similar patients or prototype models. The investigator process is compatible with both cognitive approaches, since it does not say how opinions are formed, nor imply any specific number or size of iterations to bring the process to a conclusion. As such, the openEHR information model does not impose any process model, only the types of information used.</p>
</div>
<div class="paragraph">
<p>On the basis of this process, a Clinical Investigator Recording ontology is developed <a href="#Beale_Heard_2007">[Beale_Heard_2007]</a>, as shown below. From this ontology, the openEHR class model for Entries is derivde. The openEHR Entry class names are annotated next to their originating ontological categories.</p>
</div>
<div id="CIR_ontology" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/CIR_ontology.png" alt="CIR ontology" width="80%">
</div>
<div class="title">Figure 17. The Clinical Investigator Recording (CIR) ontology</div>
</div>
<div class="paragraph">
<p>The key top-level categories in the ontology are 'care information' and 'administrative information'. The former encompasses all statements that might be recorded at any point during the care process, and consists of the major subcategories 'history', 'opinion' and 'instruction', which themselves correspond to the past, present and future in time (ISO TC215 uses the terms 'retrospective', 'current' and 'prospective'). The administrative information category covers information which is not generated by the care process proper, but relates to organising it, such as appointments and admissions. This information is not about care, but about the logistics of care being delivered. Categories that relate to the patient system as observed and understood are shown as white bubbles, while categories that relate to intervention into the patient system are shown as shaded. The opinion category has features of both passive analysis and active intervention.</p>
</div>
<div class="paragraph">
<p>There are two key justifications for using the ontology in figure <a href="#CIR_ontology">The Clinical Investigator Recording (CIR) ontology</a> as a basis for class design. Firstly, although for all categories in the ontology there is a meaning for 'contextual' attributes of time, place, identity, reason and so on, each category has a different structure for these attributes. For example, time in the Observation category has a linear historical structure, whereas in Instruction it has a branching, potentially cyclic structure. The separation of types allows these contextual attributes to be modelled according to the type. Secondly, the separation of types provides a systematic solution to the so-called problem of "status" or "meaning modification" of clinical statement values, as described below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_clinical_statement_status_and_negation"><a class="anchor" href="#_clinical_statement_status_and_negation"></a>8.1.2. Clinical Statement Status and Negation</h4>
<div class="paragraph">
<p>A well-known problem in clinical information recording is the problem of assigning "status", including variants like "actual value of P" (P stands for some phenomenon), "family history of P", "risk of P", "fear of P", as well as negation of any of these, i.e. "not/no P", "no history of P" etc. A proper analysis of these so called statuses [4] shows that they are not "statuses" at all, but different categories of information as per the ontology. The common statement types mentioned here are mapped as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>actual value of P &#8594; Observation (of P);</p>
</li>
<li>
<p>no/not P &#8594; Observation (of excluded P or types of P, e.g. allergies).</p>
</li>
<li>
<p>family history of P &#8594; Evaluation (that patient is at risk of P);</p>
</li>
<li>
<p>no family history of P &#8594; Evaluation (that P is an excluded risk);</p>
</li>
<li>
<p>risk of P &#8594; Evaluation (that patient is at risk of P);</p>
</li>
<li>
<p>no risk of P &#8594; Evaluation (that patient is not at risk of P);</p>
</li>
<li>
<p>fear of P &#8594; Observation (of FEAR, with P mentioned in the description);</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general, negations of the kind mentioned above are handled by using "exclusion" archetypes for the appropriate Entry type. For example, "no allergies" can be modelled using an Evaluation archetype that describes which allergies are excluded for this patient.</p>
</div>
<div class="paragraph">
<p>Another set of statement types that can be confused in systems that do not properly model information categories concern interventions, e.g. "hip replacement (5 years ago)", "hip replacement (planned)", "hip replacement (ordered for next tuesday 10 am)". Ambiguity is removed here as well, with the use of the correct information categories, e.g. (I stands for an intervention):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>I (distant past/unmanaged/passively documented) &#8594; Observation (of I present in patient);</p>
</li>
<li>
<p>I (recent past) &#8594; Action (of I having been done to/for patient);</p>
</li>
<li>
<p>I (proposed) &#8594; Evaluation, subtype Proposal (of I suggested/likely for patient);</p>
</li>
<li>
<p>I (ordered) &#8594; Instruction (of I for patient for some date in the future).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Related to the problem of clinical status is the need to differentiate between diagnoses that have been made in the present from those that were made in the past, and are reported by the patient. In openEHR, diagnosis and indeed all opinion category types are modelled as Evaluations, regardless of when they were made. Time information for diagnosis and other opinions is simply handled within the archetype for Evaluation, enabling a diagnosis (say of diabetes) that was made 15 years ago to have the same status as one made during the period when the EHR was actually operating, and the patient was under the care of the physician using it. Archetypes for the opinion categories tend to have quite a number of times, including "time first noticed", "time of onset", and so on.</p>
</div>
<div class="paragraph">
<p>Correct use of the categories from the ontology is facilitated by using archetypes designed to map particular kinds of clinical statement to particular <code>ENTRY</code> subtypes. In a system where Entries are thus modelled, there will be no danger of incorrectly identifying the various kinds of Entries, as long as the Entry subtype, time, and certainty/negation are taken into account.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standard_clinical_types_of_data"><a class="anchor" href="#_standard_clinical_types_of_data"></a>8.1.3. Standard Clinical Types of Data</h4>
<div class="paragraph">
<p>Commonly used types of clinical information are directly representable using the openEHR Entry types. As described in the openEHR EHR IM, two kinds of Composition are identified: persistent and event. The persistent kind corresponds to information that characterises the patient in the long term, and is maintained by clinicians - it can be thought of as a proxy "model of the patient". Most of the the following are examples of Entry level data belonging inside persistent Compositions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Basic information</em> (dob, sex, height, weight, pregnant etc): recorded as Observations and/or Admin_entries;</p>
</li>
<li>
<p><em>Problem list</em>: maintained as one or more Evaluations which themselves are generated by clinicians as a result of observations made elsewhere in the record;</p>
</li>
<li>
<p><em>Medications list</em>: derived from Instructions and Actions in the record. The status of Actions allows medications to be displayed as past, current, suspended etc.</p>
</li>
<li>
<p><em>Therapeutic precautions (allergies and alerts)</em>: recorded as Evaluations of various kinds (adverse reactions are essentially a kind of diagnosis);</p>
</li>
<li>
<p><em>Patient preferences</em>: recorded as Evaluations (since they act like contra-indications for certain drugs or treatments);</p>
</li>
<li>
<p><em>Patient consents</em>: recorded as instances of Admin_entry;</p>
</li>
<li>
<p><em>Family history</em>:</p>
<div class="ulist">
<ul>
<li>
<p>actual events / conditions in family members are recorded as Observations (e.g. father died of MI at 62)</p>
</li>
<li>
<p>patient risks are expressed using Evaluations, often including family history reasons.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>Social history/situation</em>: current and previous social situation (e.g. in nursing care, details of feeding, sleeping arrangments) are documented as Observations.</p>
</li>
<li>
<p><em>Lifestyle</em>: there are various Observation archetypes for recording aspects of lifestyle, including exercise, smoking/tobacco, alcohol, drug use and so on.</p>
</li>
<li>
<p><em>Vaccination record</em>: vaccinations are a kind of Instruction; vaccinations that have actually been given are available as Actions in the record.</p>
</li>
<li>
<p><em>Care plan</em>: combinations of goals, targets (Evaluations), monitoring, education (Instructions), etc orgnanised in a care plan Section hierarchy.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The remaining vast majority of remaining clinical information is recorded inside event Compositions,
and includes the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>laboratory results</em> including imaging: recorded as Observations;</p>
</li>
<li>
<p><em>physical examinations</em>: recorded as Observations appointment, admission and discharge: recorded as Admin_entry</p>
</li>
<li>
<p><em>prescriptions</em>: one or more medication orders (each one is an Instruction) within a prescription Section structure, within a prescription Composition.</p>
</li>
<li>
<p><em>referrals</em>: recorded as Instructions (i.e. a request for care by another provider).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The above concepts are defined in terms of archetypes of Entry and other reference model types in openEHR; their definition is therefore completely separate from the reference model.</p>
</div>
</div>
<div class="sect3">
<h4 id="_demographic_data_in_the_ehr"><a class="anchor" href="#_demographic_data_in_the_ehr"></a>8.1.4. Demographic Data in the EHR</h4>
<div class="paragraph">
<p>The general approach of openEHR is to enable the complete separation of demographic (particularly patient-identification information) from health records, both in the interests of privacy (in some cases required by national legislation) and separated data management. The Demographic IM therefore defines demographic information. However, there is nothing to prevent certain demographic information occurring in the EHR, and in some cases this is desirable. The two main cases for this are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>clinically-relevant patient information, such as age, sex, height, weight, eye-colour, ethnicity or 'race', occupation;</p>
</li>
<li>
<p>identifiers and/or names of health care provider individuals and organisations may be stored directly in the EHR, regardless of whether there is also more detalied information about such entities in the demographic system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The model of all information intended for a separate openEHR demographic service (itself usually a front-end to an existing hospital master patient index or similar) is defined in the openEHR Demographic Information Model.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_entry_and_its_subtypes"><a class="anchor" href="#_entry_and_its_subtypes"></a>8.2. Entry and its Subtypes</h3>
<div class="paragraph">
<p>The Entry model is defined by the <code>composition.content.entry package</code>, shown in the UML diagram below. The choice of subtypes of <code>ENTRY</code> is based on the ontology shown in figure <a href="#CIR_ontology">The Clinical Investigator Recording (CIR) ontology</a> and its associated model. The names do not coincide exactly however, for a number of reasons. Firstly, the category names in the hierarchy were chosen based on a philosophical/scientific model of investigation, and reflecting linguistic norms for the meanings of the terms, whereas the class names used here reflect common health computing and clinical usage of these terms (i.e. names which will make sense to software developers in the health arena). Names in these two cultures do not always coincide. Additionally, for categories such as Opinion and Instruction, the subcategories shown in the ontology (e.g. Assessment, Goal and Plan) are too variable to safely be subtyped in software, and are distinguished only at the archetype level. Only a single class for each of these ontological groups is used in the formal model. The use of different names and a slightly simplified mapping has not however prevented the faithful implementation of the semantics of the model. The model classes are described in the following subsections.</p>
</div>
<div id="rm_entry" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="../UML/diagrams/RM-composition.entry.svg" alt="RM composition.entry">
</div>
<div class="title">Figure 18. rm.entry package</div>
</div>
<div class="sect3">
<h4 id="_the_entry_class"><a class="anchor" href="#_the_entry_class"></a>8.2.1. The Entry class</h4>
<div class="paragraph">
<p>All Entries have a number of attributes in common. The language and encoding attributes indicate how all text data within the Entry are to be interpreted linguistically and at the character set level. Normally, the language will be the same throughout the entire Entry (if not Composition), but in cases where it is not, the optional language attribute of <code>DV_TEXT</code> can be used to override the value in the enclosing <code>ENTRY</code> (or other enclosing structure, if a <code>DV_TEXT</code> is being used in some other context). Character encoding can be overridden in the same fashion by the encoding attribute within <code>DV_TEXT</code>.</p>
</div>
<div class="paragraph">
<p>The other attributes common to all Entry subtypes are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>subject</em></code>: this attribute records the subject of the Entry as an instance of a subtype of <code>PARTY_PROXY</code>. When this is the record subject, (i.e. the patient), the value is an instance of <code>PARTY_SELF</code>. Otherwise it is typically a family member, sexual partner, or other acquaintance of the record subject. It could also be an organ donor. The latter is expressed in the form of a <code>PARTY_IDENTIFIED</code> or <code>RELATED_PARTY</code> instance, which describes the kind of relationship, and optionally, identifies the demographic entity.</p>
</li>
<li>
<p><code><em>subject_is_self</em></code>: convenience function returning True when the Entry is about the subject of the record.</p>
</li>
<li>
<p><code><em>provider</em></code>: the agent who provided the information. This is usually the patient or the clinician, but may be someone else, or a software application or device. If participation details of the provider (e.g. mode of communication) need to be recorded, the details should be recorded once in the <code>EVENT_CONTEXT</code>.<code><em>participations</em></code>. The provider attribute is optional, since it is often implicit in the information that was recorded.</p>
</li>
<li>
<p><code><em>other_participations</em></code>: other participations which existed for this Entry, e.g. a nurse who administered a drug in an <code>INSTRUCTION</code>; only required in cases where participants other than the subject of the information and the provider of the information need to be recorded.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the term 'provider' as used here should not be confused with the more specific healthcare term used in many english-speaking countries meaning 'health care provider', which is usually understood to be a physician or healthcare delivery enterprise such as a hospital. In the model here, it simply means 'provider of information' in the context of an Entry. The information provider is optional, and in many cases will not be recorded, since it will be obvious from the <code><em>composer</em></code> and <code><em>other_participations</em></code> of the enclosing Composition. In many cases, it is not sensible to record a provider, e.g. in the most mundane case where a GP asks "where does it hurt" and the patient says "here" - in such cases, it can only be considered mutual. It is expected to be used only when the composer of the Composition really needs to specify the origin of specific statements, such as in the following circumstances:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the information provider is specifically accountable for the Entry data (it is their opinion, their decision, they carried out the test etc) - they might also need to attest it;</p>
</li>
<li>
<p>the information provider is an authoritative source, or has provided information from a unique perspective (e.g. the view of a spouse/ carer on the patient&#8217;s functional health status or mental state);</p>
</li>
<li>
<p>the information provider&#8217;s view might not reflect the consensus (e.g. a patient opinion not held by the composer, a difference between father and mother on a description of a child&#8217;s sleeping pattern);</p>
</li>
<li>
<p>the information provider is not one of the Composition-level participants (e.g. an outside information provider such as someone telephoned during the encounter to provide a lab result, or an automated measurement device, or a decision support software component).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_care_entry_and_admin_entry"><a class="anchor" href="#_care_entry_and_admin_entry"></a>8.2.2. Care_entry and Admin_entry</h4>
<div class="paragraph">
<p>A basic division occurs between clinical and non-clinical information. The <code>CARE_ENTRY</code> class is an abstract precursor of classes that express information of any clinical activity in the care process around the patient, while <code>ADMIN_ENTRY</code> is used to capture administrative information. The division may occasionally seem ambiguous at a theoretical level, but at a practical level, it is almost always clear. Administrative information has the following characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it is created by non-clinical staff, or clinical staff acting in an administrative capacity (e.g. a nurse or doctor who has to fill out an admission form in A&amp;E);</p>
</li>
<li>
<p>it expresses details to do with coordinating the clinical process, by recording e.g. admission information (enables clinical staff to know who is in the hospital and where they can be found), appointments (ensuring patient and physician get together at an agreed time and place), discharge/dismissal (allowing clinical staff to know that a patient has been sent home healthy, or transferred to another institution), billing and insurance information (where such information is required in the EHR; it may well be in its own system);</p>
</li>
<li>
<p>removing administative information from the EHR would not compromise its clinical integrity, it would simply mean that carers and patients would no longer know when and where they were supposed to meet, or when the patient has entered or left a health care facility.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Conversely, every instance of a <code>CARE_ENTRY</code> subtype is clinically significant, even if it also carries information which might be of interest to other health management functions billing (e.g. <a href="http://www.who.int/classifications/icd/en/">ICD10</a> coded diagnoses), practice management (e.g. date, time and place in an order for day surgery). The <code>CARE_ENTRY</code> type includes two attributes particular to all clinical entries, namely protocol and guideline_id.</p>
</div>
<div class="paragraph">
<p>These attributes allow the 'how' and 'why' aspects of any clinical recording to be expressed. Protocol is often recorded for Observations, e.g. staining method in microscopy, and Instructions, e.g. Bruce protocol for ECG test.</p>
</div>
</div>
<div class="sect3">
<h4 id="_observation"><a class="anchor" href="#_observation"></a>8.2.3. Observation</h4>
<div class="paragraph">
<p>Instances of the <code>OBSERVATION</code> class record the observation of any phenomenon or state of interest to do with the patient, including pathology results, blood pressure readings, the family history and social circumstances as told by the patient to the doctor, patient answers to physician questions during a physical examination, and responses to a psychological assessment questionnaire. Observations are distinguished from Actions in that Actions are interventions whereas Observations record only information relating to the situation of the patient, not what is done to him/her.</p>
</div>
<div class="paragraph">
<p>The significant information of an Observation is expressed in terms of "data", "state" and "protocol". The first of these is recorded in the data attribute, defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>data</em></code>: the actual datum being recorded; expressed in the form of a History of Events, each of which can be a complex data structure such as a List, Table, Single (value), or Tree, in its own right. Examples include blood pressure, heartrate, ECG traces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>State information can be recorded in the state attribute of Observation, or within the state attribute of each Event in the Observation data attribute (see below and also Data Structures IM for more detailed explanations). The state attribute in Observation is defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>state</em></code>: any particular information about the state of the subject of the Entry necessary to correctly interpret the data, which is not already known in the health record (i.e. facts such as the patient being female, pregnant, or currently undergoing chemotherapy). For example, exersion level (resting, post-marathon&#8230;&#8203;), position (lying, standing), post- glucose challenge, and so on. The form of the <code><em>state</em></code> attribute is the same as that of the <code><em>data</em></code> attribute: a <code>HISTORY</code> of <code>EVENT</code> of <code>ITEM_STRUCTURE</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The inherited protocol attribute is defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>protocol</em></code>: details of how the observation was carried out, which might include a particular clinical protocol (e.g. Bruce protocol for treadmill exercise ECG) and/or information about instruments other other observational methods. This information can always be safely omitted from the user interface, i.e. has no bearing on the interpretation of the data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The detailed semantics of Observation data are described in the following subsections.</p>
</div>
<div class="sect4">
<h5 id="_timing_in_observations"><a class="anchor" href="#_timing_in_observations"></a>8.2.3.1. Timing in Observations</h5>
<div class="paragraph">
<p>Many health information models express observation time as one or more attributes with names like 'observation_time', 'activity_time' and so on. The openEHR model departs from this by modelling historical time inside a History/Event structure defined in the <code>data_structures.history</code> package. In short, this package defines the <code>HISTORY</code> class with an origin attribute, and a series of <code>EVENT</code> instances each containing a time attribute. Instantaneous and interval events are distinguished via the <code>EVENT</code> subtypes <code>POINT_EVENT</code> and <code>INTERVAL_EVENT</code>; interval events have the width attribute is set to the duration of the interval.</p>
</div>
</div>
<div class="sect4">
<h5 id="_valid_contents_of_a_history"><a class="anchor" href="#_valid_contents_of_a_history"></a>8.2.3.2. Valid Contents of a History</h5>
<div class="paragraph">
<p>One of the aims of the model of Observation described here is to represent in the same way single sample and multi-sample time-based data for which measurement protocol is invariant. It is not intended for measurements in "coarse" time taken by different people, different instruments, or with any other difference in data-gathering technique. In these cases, separate, usually single-sample histories are used, usually occurring in distinct container objects (e.g. distinct Compositions, in the EHR).</p>
</div>
<div class="paragraph">
<p>Accordingly, in the general practice setting, the use of <code>HISTORY</code> will correspond to measurement series which occur during the clinical session (i.e. during a patient contact). In a hospital setting, nurses' observations might occur in 4-hourly intervals, and there is no well-defined clinical session - simply a series of <code>ENTRYs</code> during the time of the episode. Two approaches are possible here.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If each Observation is to be committed to the EHR as soon as it is made, the result will be distinct <code>COMPOSITIONs</code> in time, each with its event_context corresponding to the period of the nurse&#8217;s presence. Each Composition will contain one or more Observations, each containing in their data a History of one sample of the measured vital sign.</p>
</li>
<li>
<p>If Observations are not committed to the EHR immediately, but are stored elsewhere and only committed (say) at the end of each day, then the result will be a single Composition whose event_context corresponds to the total data gathering period, and which contains Observations whose data are multi-event Histories representing the multiple measurements made over the day.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whether time-based data remain outside the record until a series of desired length is gathered, or entered as it occurs is up to the design of applications and systems; the approach taken should be based on the desired availability of the data in the system in question. If for example, it must be visible in the EHR as soon as the appropriate Compositions are written, then it should be represented as Histories in each relevant Composition; if it need only be available at some much later point in time (e.g. because it is known that no-one but the treating clinician is interested in it), then it can be stored in another system until sufficient items have been gathered for committal to the EHR.</p>
</div>
</div>
<div class="sect4">
<h5 id="_clinical_semantics_of_event_time"><a class="anchor" href="#_clinical_semantics_of_event_time"></a>8.2.3.3. Clinical Semantics of Event Time</h5>
<div class="paragraph">
<p>In most cases, the times recorded in a History (<code>HISTORY</code>.<code><em>origin</em></code> and <code>EVENT</code>.<code><em>time</em></code>, <code><em>width</em></code>) can be thought of as "the times when the observed phenomena were true". For example, if a pulse of 88bpm is recorded for 12/feb/2005 12:44:00, this is the time at which the heartrate (for which pulse is a surrogate) existed. In such cases, the sample time, and the measuring time are one and the same.</p>
</div>
<div class="paragraph">
<p>However in cases where the time of sampling is different from that of measurement, the semantics are more subtle. There are two cases. The first is where a sample is taken (e.g. a tissue sample in a needle biopsy), and is tested later on, but from the point of view of the test, the time delay makes no difference. This might be because the sample was immediately preserved (e.g. freezing, placed in a sterile anaerobic transport container), or because even if it decays in some way, it makes no difference to the test (e.g. bacteria may die, but this makes no difference to a PCT analysis, as long as the biological matter is not physically destroyed).</p>
</div>
<div class="paragraph">
<p>The second situation is when the sample does decay in some way, and the delay is relevant. Most such cases are in pathology tests, where presence of live biological organisms (e.g. anaerobic bacteria) is being measured. The sample time (or 'collection' time) must be recorded. Depending on when the test is done, the results may be interpreted differently.</p>
</div>
<div class="paragraph">
<p>The key question is: what is the meaning of the <code>HISTORY</code>.<code><em>origin</em></code> and <code>EVENT</code>.<code><em>time</em></code> attributes in these situations? It is tempting to say that their values are (as in other cases) just the times of the actual act of observation, e.g. microscopy, chromatography etc. However, there are two problems with this. Firstly, and most importantly, all physical samples must be understood as being <em>indirect surrogates for some aspect of the patient state</em> at the time of sampling, which cannot be observed by direct, instantaneous means in the way a pulse can be taken. This means that no matter when the laboratory work is done, the time to which the result applies is the sample time. It is up to the laboratory to take into account time delays and effects of decay of samples in order to provide a test result which correctly indicates the state of the patient at the time of sampling. The common sense of this is clear when one considers the extreme case where the patient is in a coma or dead (possibly for reasons completely unrelated to the problem being tested for) by the time laboratory testing actually occurs; however, the test result indicates the situation at the point in time when the sample was taken, i.e. when the patient was alive. The second reason is that some kinds of testing are themselves lengthy. For example fungal specimens require 4-6 weeks to confirm a negative result; checks will be made on a daily or weekly basis to find positive growth. However, the result data reported by the laboratory (and therefore the structure of the Observation) is not related to the timing of the laboratory testing; it is reported as being the result for the time of collection of the specimen from the patient.</p>
</div>
<div class="paragraph">
<p>The meaning therefore of the <code>HISTORY</code>.<code><em>origin</em></code> and <code>EVENT</code>.<code><em>time</em></code> attributes in openEHR is always the time of sampling. Where delays between sample and measurement times exist and are significant, they are noted in the protocol section of the Observation; such times are modelled in the appropriate archetypes, and taken into account in results.</p>
</div>
</div>
<div class="sect4">
<h5 id="_two_ways_of_recording_state"><a class="anchor" href="#_two_ways_of_recording_state"></a>8.2.3.4. Two ways of Recording State</h5>
<div class="paragraph">
<p>State information is optional, and is not needed if the data are meaningful on their own. If it is recorded, it can either be as a History of its own (i.e. using the <code>OBSERVATION</code>.<code><em>state</em></code> atttribute described above), or else as state values within the <code>EVENT</code> instances in the <code>OBSERVATION</code>.<code><em>data</em></code> History. Both methods are useful in different circumstances. A separate state history is more likely to be used in a correlation study such as a sports medicine study on heartrate with respect to specific types of exercise. In this method, the state information is a History of Events whose times and widths need not match those of the History in the data attribute. The state data under this approach generally express the condition of the subject in absolute terms, i.e. they are standalone statements about the subject&#8217;s state at certain points in time, such as "walking on treadmill 10km/h, 10<sup>o</sup> incline".</p>
</div>
<div class="paragraph">
<p>The other method will be used in most general medicine, e.g. for recording fasting and post glucose challenge states of a patient undergoing a glucose tolerance test. (See the Data Structures Information Model for more details). State values stored within the <code><em>data</em></code> History represent the situation in the subject at the time of the Event within the History and usually in relation to it, for example "post 8 hour fast". Recording the latter example in an independent state History would require an Event of 8 hours' duration called 'fast'. The latter would be technically still correct, but would be very unnatural to most clinicians. The figure below illustrates the two methods of recording state.</p>
</div>
<div id="recording_state" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/recording_state.png" alt="recording state" width="65%">
</div>
<div class="title">Figure 19. Alternative ways of recording state</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_evaluation"><a class="anchor" href="#_evaluation"></a>8.2.4. Evaluation</h4>
<div class="paragraph">
<p>According to the ontology described in <a href="#Beale_Heard_2007">[Beale_Heard_2007]</a>, the Opinion category covers a number of concrete concepts, as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>problem/diagnosis</em>: the assignment of a known diagnosis or problem label to a set of observed signs and symptoms in the patient, for the purpose of determining and managing treatment. The physician will usually include a date of initial onset, date clinically recognised, date of last occurrence, date of resolution of last occurrence and possibly other timing information.</p>
</li>
<li>
<p><em>risk assessment</em>: an evaluation of the likelihood and timing of a certain event occurring or condition appearing.</p>
</li>
<li>
<p><em>scenario</em>: an opinion about the outcome if a certain intervention is proceeded with.</p>
</li>
<li>
<p><em>goal</em>: statement of a target, and a time at which it should be reached.</p>
</li>
<li>
<p><em>recommendation</em>: a description in general terms of a suggested care approach for the patient, based on diagnosis; includes various times or time-periods for activities, such as monitoring, taking of medications, and review.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The approach taken to modelling these concepts in openEHR is heavily based upon the development of archetypes for assessments such as "diagnosis" (various kinds), "goal", "adverse reactions", "alert", "exclusion", "clinical synopsis", "risk based on family history" and so on. Experience has shown that the Opinion category is too variable for safely modelling its sub-categories directly in the reference model. Instead, a single class <code>EVALUATION</code> is used for all instances of the Opinion category. (The name Evaluation has been present in openEHR for some years, and is retained for reasons of continuity).</p>
</div>
<div class="paragraph">
<p>The design of the <code>EVALUATION</code> class is very simple. In addition to the attributes inherited from <code>ENTRY</code> and <code>CARE_ENTRY</code>, it has only one attribute, <code><em>data</em></code>: <code>ITEM_STRUCTURE</code>. This structure is intended to be archetyped so as to model all the details of any particular clinical information in the Opinion category. No timing attributes are included, since there is no time associated with creation or capturing of Evaluation information as such, only times included in the information. The only times of generic significance are (potentially) the time of a patient consultation during which the Evaluation was created (recorded in <code>COMPOSITION.<em>event_context</em>.<em>start_time</em></code> and <code><em>end_time</em></code>) and the time of committal to the EHR system (recorded in <code>VERSION.<em>commit_audit</em></code> attribute).</p>
</div>
<div class="paragraph">
<p>The general meaning of the inherited attributes is as for all Entries. In Evaluations, the provider is almost always the physician, while the protocol may be used to indicate how a particular assessment was made. The <code><em>other_participations</em></code> attribute is not as likely to be used for Evaluations representing diagnoses, since a diagnosis is usually the result of thinking on the part of the physician; an exception to this would be a case conference or if an expert system were used. However, Plans for complex patients may well be constructed by multiple physicians.</p>
</div>
</div>
<div class="sect3">
<h4 id="_instruction_and_action"><a class="anchor" href="#_instruction_and_action"></a>8.2.5. Instruction and Action</h4>
<div class="paragraph">
<p>Instructions in openEHR specify actions to be performed in the future. They differ from information in the Proposal sub-category of Opinion in the ontology (i.e. instances of Evaluation in the class model) in that they are specified in sufficient detail to be directly enacted without further clinical decision-making related to the design of the Instruction, e.g they can be performed by the patient or a nurse. Any decisions that could be made during the performance of an Instruction are either constrained by the Instruction itself (e.g. dose range; suspend if adverse reaction) or else are assumed knowledge of the expected performer. For example, an Evaluation may say that "oral cortico-steroids are indicated at a peak flow of 200 l/m". A corresponding Instruction would indicate the actual drug, route, dose, frequency, and so on. The informed patient might be reasonably expected to be able to vary the dosage on his or her own within a dosage guideline explained by his/her GP.</p>
</div>
<div class="paragraph">
<p>In the ontology shown in figure <a href="#CIR_ontology">The Clinical Investigator Recording (CIR) ontology</a>, Instructions are further categorised as Investigation and Intervention. However, as for Evaluation, only a single key class, <code>INSTRUCTION</code>, is used to model all types of the Instruction category, with archetypes defining the details of the Instruction. A second Entry subtype, <code>ACTION</code>, is used to model the information recorded due to the execution of an Instruction by some agent.</p>
</div>
<div class="paragraph">
<p>The following subsections describe Instruction and Action in some detail.</p>
</div>
<div class="sect4">
<h5 id="_requirements_2"><a class="anchor" href="#_requirements_2"></a>8.2.5.1. Requirements</h5>
<div class="paragraph">
<p>The Instruction and Action classes are designed to satisfy the following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All kinds of interventions, from simple medication orders to complex multi-drug courses should be representable using the same model;</p>
</li>
<li>
<p>Instructions should always have a narrative expression, with an optional machine-processible expression in cases where automation will be used;</p>
</li>
<li>
<p>The freedom must exist to model any particular intervention in as much or little detail as required by circumstances;</p>
</li>
<li>
<p>Clinicians must be able to specify Instruction steps in their own terms, i.e. using terms like "prescribe", "dispense", "start administering", etc;</p>
</li>
<li>
<p>Instructions representing diverse clinical workflows must be queryable in a standard way, so that it can be ascertained what Instructions are 'active', 'completed' and so on for a patient;</p>
</li>
<li>
<p>It should be possible to provide a coherent view of the state of execution of an Instruction even if parts of it have been executed in different healthcare provider environments;</p>
</li>
<li>
<p>It must be possible to record ad hoc actions in the record, i.e. acts for which no Instruction was defined (at least in the EHR in question);</p>
</li>
<li>
<p>Instructions must integrate with notification / alert services;</p>
</li>
<li>
<p>An interoperable expression of computable workflow definitions of Instructions will be supported.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_design_principles_2"><a class="anchor" href="#_design_principles_2"></a>8.2.5.2. Design Principles</h5>
<div class="paragraph">
<p>The design approach is based on four principles. The first is that the <em>specification</em> of an Instruction as one or more Activities is distinguished from the information representing actions performed as a result. This makes the model and resulting information instances clear to software designers and data users. It also enables workflow engines to determine which parts of the specification have already been executed, and allows for Actions actually performed to differ from those specified. The separation is realised in terms of the <code>INSTRUCTION</code> and <code>ACTION</code> classes and their helpers. Instances of the former specify an Instruction, while instances of the latter describe steps which have actually been performed.</p>
</div>
<div class="paragraph">
<p>The second principle is the use of a standard instruction state machine (ISM) defining standardised states and transitions for each Activity of an Instruction, no matter what its clinical meaning. The use of standardised states means that the execution state of any given Activity can be characterised in exactly the same way (e.g. 'planned', 'active', etc), and that it is therefore possible to query the EHR and find out all interventions of any kind in a particular state. The ISM is formally modelled in openEHR. The Instruction itself can also be considered to be in a state derived from the states of its Activities. An informal description of this aggregate state machine is given below.</p>
</div>
<div class="paragraph">
<p>The third principle is to provide a way of mapping steps in any care pathway process (i.e. healthcare business process) to states in the Instruction state machine. A care pathway process covers the entirety of steps required to effect an Instruction, for example prescribing, booking, dispensing, referring, suspension etc. Any such step when performed leaves the relevant Instruction in one of the states of the ISM.</p>
</div>
<div class="paragraph">
<p>The fourth principle is to support the expression of the formal workflow definition for an Instruction, where full automation is required. It must be recognised that automation of most therapies and drug admnistration, as well as other interventions like biopsies is minimal today, and is likely to remain so for some time. This is for the simple reason that the cost of automating most tasks is prohibitive compared to human execution, particularly when Instruction activities can often be executed by healthcare professionals already present for other reasons (e.g. ward nurses). It also has to be said that serious research into the use of workflow automation in healthcare is only quite recent, and that so far, there are no standard models for clinical workflow. In the openEHR approach to modelling workflow, such uncertainty is dealt with in two ways. Firstly, formal workflow specification of an Instruction is an optional addition to the base model of Instruction and Action classes, and is not required to obtain a basic level of computability, including use of the ISM. Secondly, the formal expression of workflow is in the form of parsable syntax rather than objects. This is a generally appropriate design choice, since the safest and most convenient persistent form of of a complex formalism is the syntax form rather than the parsed fine-grained object form; this both optimises storage and allows for changes in the syntax over time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_model_overview"><a class="anchor" href="#_model_overview"></a>8.2.5.3. Model Overview</h5>
<div class="paragraph">
<p>Instruction definitions are modelled in terms of the <code>INSTRUCTION</code> and <code>ACTIVITY</code> classes, with optional workflow attributes. These two classes carry the basic information relating to an Instruction, with all formal workflow definition expressed in parsable syntax in the <code>INSTRUCTION.<em>wf_definition</em></code> attribute. An <code>INSTRUCTION</code> instance includes the narrative description of the Instruction, and a list of <code>ACTIVITY</code> instances. It also includes all the attributes inherited from the <code>CARE_ENTRY</code> class, including subject, participations and so on.</p>
</div>
<div class="paragraph">
<p>Many Instructions will have only one Activity, usually describing a medication to be administered and its timing. Some will have more than one drug or therapy, such as the typical 3 drug Losec-HP regime for treating ulcers, and multi-drug chemotherapy. The base Instruction model does not explicitly try to indicate the exact order, serial or parallel administration, or other dependencies, since the knowledge of how to administer the drugs is known by the relevant clinicians, and/or contained in published guidelines. However, the timing information in each Activity does indicate times, days and the usual specifications of "with meals" etc. The timing information is also sufficient to specify a three drug chemotherapy regime, by indicating which days each drug is administered on. It is only when the Instruction is to be automated by a workflow engine that the full structure of the Activity graph will be given. Activity instances may be completely absent from an Instruction, in which case only the narrative will be present. This will typically occur with imported legacy data which itself has no structured representation of medications.</p>
</div>
<div class="paragraph">
<p>There are three possible levels of representation of an Instruction, as shown in the figure below. These are the minimal narrative-only level, a level with formal representation of Instruction activities by <code>ACTIVITY</code> instances, and a level where a formal workflow definition can also be used. It is expected that the vast majority of openEHR systems for the forseeable future will support only the minimal and basic levels.</p>
</div>
<div id="instruction_representation" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/instruction_representation.png" alt="instruction representation" width="60%">
</div>
<div class="title">Figure 20. Levels of Instruction representation</div>
</div>
<div class="paragraph">
<p>The following figure illustrates the correspondence between Instruction and Activity structures, and Action objects that are created due to executing the instructions. Each Activity has a standard Instruction State Machine logically associated with it, indicated in blue. When any step in an Instruction Activity is executed within an ICT-supported environment, an <code>ACTION</code> instance describing what was done should be created and committed to the EHR. In some cases, ad hoc Actions are created even when there is no Instruction, such as by self-medicating patients and nurses reacting quickly to patient changes. For such Actions, there is always a notional Activity understood by the health professional.</p>
</div>
<div id="actions_and_instructions" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/actions_and_instructions.png" alt="actions and instructions" width="70%">
</div>
<div class="title">Figure 21. Correspondence of Actions to Instructions</div>
</div>
<div class="paragraph">
<p>All <code>ACTIONs</code> include the inherited <code>CARE_ENTRY</code> attributes, along with the time of being performed, a description of what was performed, and an <code>ISM_TRANSITION</code> object indicating the state of the Activity (whether explicit in an Instruction or not). The current state of an Activity is thus found not in the <code>ACTIVITY</code> instance but in the most recent <code>ACTION</code> instance for that Activity.</p>
</div>
<div class="paragraph">
<p>If the Action did correspond to an Instruction, it will also include an <code>INSTRUCTION_DETAILS</code> instance, which indicates which Activity of which Instruction was executed, including workflow execution details if relevant.</p>
</div>
<div class="paragraph">
<p>Under this scheme, the state of each intervention happening to the patient can be ascertained by querying, regardless of whether explicit Instructions exist.</p>
</div>
<div class="paragraph">
<p>Note particularly that Actions are often performed in a different provider location, or the home, rather than the provider organisation responsible for the Instruction. Action objects for a given Instruction can thus easily appear in multiple health record systems.</p>
</div>
</div>
<div class="sect4">
<h5 id="_instruction_activity_timing"><a class="anchor" href="#_instruction_activity_timing"></a>8.2.5.4. Instruction Activity Timing</h5>
<div class="paragraph">
<p>Timing information may be minimal and simplistic, or highly specified. As a consequence, there is no one method of representation that suits all purposes. The simplest expression of timing information is as informal narrative, as found in a prescription for antibiotics, such as "take 3 times a day, for 7 days, with meals". This may be represented using a text value in <code>INSTRUCTION.<em>narrative</em></code>.</p>
</div>
<div class="paragraph">
<p>Formally computable representations can be expressed in two ways. The first is to use the <code>ACTIVITY.<em>timing</em></code> field, of type <code>DV_PARSABLE</code>, which enables the use of syntaxes such as the ISO8601 'R' syntax. For example, 5 repititions of the period '10 days' starting on 01 march 2008 is <code>"R5/2008-03-01T13:00:00Z/P10D"</code>. However timing in clinical situations varies widely, and numerous other ways of expressing times are commonly required, ranging from simple frequencies, to complex patterns of time, association with events such as meals, menstrual period and so on. To accommodate such variant structures, which are generally beyond the capabilities of the ISO8601 syntax, the <code>ACTIVITY.<em>description</em></code> attribute may be used to contain these timing structures.</p>
</div>
<div class="paragraph">
<p>The three approaches are illustrated below.</p>
</div>
<div id="activity_timing" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/activity_timing.svg" alt="activity timing" width="80%">
</div>
<div class="title">Figure 22. Activity Timing</div>
</div>
</div>
<div class="sect4">
<h5 id="_the_standard_instruction_state_machine_ism"><a class="anchor" href="#_the_standard_instruction_state_machine_ism"></a>8.2.5.5. The Standard Instruction State Machine (ISM)</h5>
<div class="paragraph">
<p>When an intervention defined by an Activity is unfolding in a clinical context, EHR users want to know things such as the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>what is the current status of an Instruction for the patient?</p>
</li>
<li>
<p>what is the current step in the Activity for the patient?</p>
</li>
<li>
<p>for a given patient, what Activities are planned, active, suspended, completed?</p>
</li>
<li>
<p>for the populations of patients, what is the state of a particular workflow, such as a recall, for each one?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The approach chosen here to support such functionality is to define a standard instruction state machine whose state transitions can be mapped to the steps of a specific care pathway, enabling it to be used as a descriptive device for indicating the state of any Activity. The status of an Instruction is determined algorithmically from the states of the constituent Activities, as described below. The state machine is illustrated below.</p>
</div>
<div id="instruction_state_machine" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/instruction_state_machine.png" alt="instruction state machine">
</div>
<div class="title">Figure 23. openEHR standard Instruction State Machine</div>
</div>
<div class="paragraph">
<p>This state machine is the result of long term experience with clinical workflows and act management systems. The states are as follows (Note: the SCHEDULED state was inspired by <a href="#Van_de_Velde_Degoulet_2003">[Van_de_Velde_Degoulet_2003]</a>, Fig 5.5).</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
INITIAL
</td>
<td class="hdlist2">
<p>initial state, prior to planning activity (default starting state for computable representation of state machine).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
PLANNED
</td>
<td class="hdlist2">
<p>the action has been described, but has not as yet been performed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
POSTPONED
</td>
<td class="hdlist2">
<p>the action has not been performed and will not without specific conditions being met. Specifically, events and conditions that would normally 'activate' the instruction will be ignored, until a restore event occurs.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
SCHEDULED
</td>
<td class="hdlist2">
<p>the action will be performed at some designated future time, and has been booked in a scheduling system.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
CANCELLED
</td>
<td class="hdlist2">
<p>the action was defined, but was cancelled before being performed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ACTIVE
</td>
<td class="hdlist2">
<p>the action is being performed according to its definition. The entire course of medication or therapy corresponds to this state.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
SUSPENDED
</td>
<td class="hdlist2">
<p>the action was begun, but has been stopped temporarily, and will not be restarted until explicitly resumed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ABORTED
</td>
<td class="hdlist2">
<p>the action began but was permanently terminated before normal completion.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
COMPLETED
</td>
<td class="hdlist2">
<p>the action began and was completed normally.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
EXPIRED
</td>
<td class="hdlist2">
<p>the time during which the action could have been relevant has expired; the action may have completed, been cancelled, or never occurred.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>States <code>CANCELLED</code>, <code>ABORTED</code> and <code>COMPLETED</code> are all terminal states. The <code>EXPIRED</code> state is a pseudo-terminal state, from which transitions are allowed to proceed to any of the true terminal states, due to information being received after the fact (such as a patient reporting that they did indeed finish a course of antibiotics). However it is likely in the EHR that Instructions for many simple medications will finish in the <code>EXPIRED</code> state and remain there.</p>
</div>
<div class="paragraph">
<p>The transitions are self-explanatory for the most part, however a few deserve comment. The <code>start</code> and <code>finish</code> events correspond to situations when the administration is not instantaneous, as is the situation with most medications. The <code>do</code> event is equivalent to the <code>finish</code> event occurring immediately after the <code>start</code> event, corresponding to an instantaneous administration, completion of which puts the Activity in the completed state. A single shot vaccination or patient taking a single tablet are typical examples. The states <code>PLANNED</code>, <code>POSTPONED</code>, <code>ACTIVE</code>, <code>SUSPENDED</code>, each have a <code>xxx_step</code> transition which return the state machine to the same state. Workflow steps that cause no transition are mapped to these events and thus leave the Instruction in the same state. An example is a medication review, which will leave the medication in the <code>ACTIVE</code> state, if the physician chooses to continue.</p>
</div>
<div class="paragraph">
<p>In the future, if delegation of an Instruction to another Instruction is required, nesting of a new Instruction state machine within the Active state of a previous one might need to be supported.</p>
</div>
<div class="paragraph">
<p>The state machine states and transition names are defined in the openEHR terminology groups "Instruction states" and "Instruction transitions" respectively.</p>
</div>
</div>
<div class="sect4">
<h5 id="_instruction_aggregate_state"><a class="anchor" href="#_instruction_aggregate_state"></a>8.2.5.6. Instruction Aggregate State</h5>
<div class="paragraph">
<p>Each Activity within an Instruction constitutes a clinically identifiable medication or therapy of some kind, while the Instruction usually corresponds to a grouping or combination of therapies designed to treat an overall problem. Accordingly, the Instruction can be seen as having an aggregate state derived from the states of the Activities, as shown in the figure below. The rules for entering each aggregate state are indicated in terms of the states of the constituent Activities.</p>
</div>
<div id="aggregate_instruction_state" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/aggregate_instruction_state.png" alt="aggregate instruction state" width="70%">
</div>
<div class="title">Figure 24. Aggregate Instruction state</div>
</div>
<div class="paragraph">
<p>This state machine is not formally modelled or coded in openEHR, although it may be useful to do so within an application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_careflow_process_to_state_machine_mapping"><a class="anchor" href="#_careflow_process_to_state_machine_mapping"></a>8.2.5.7. Careflow Process to State Machine Mapping</h5>
<div class="paragraph">
<p>From a health professional&#8217;s point of view, a healthcare workflow, or 'careflow', consists of steps and events designed to meet one or more goals. The steps are highly dependent on the particular kind of workflow, and will usually be named in terms familiar to the relevant kinds of clinical professionals, such as "prescribe", "book", "suspend" and so on (note that some of these names may be the same as ISM transitions, but may or may not indicate the same thing). However, the need of users of health information is to know what state the execution of an Instruction is in, regardless of which particular careflow step might have just been executed. This is achieved by defining the mapping between the steps of a particular careflow to the states of the ISM in an Action archetype. When each Action corresponding to a particular Instruction Activity is performed, it will be known both which careflow step it corresponds to and which ISM state the Activity is now in. The following table provides an example of the mapping for a UK GP medication order workflow.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">UK GP<br>
 Workflow Step</th>
<th class="tableblock halign-left valign-top">State machine transition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">initiate (initial &#8594; planned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prescribe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">planned_step (planned &#8594; planned)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dispense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">start (planned &#8594; active)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">active_step (active &#8594; active)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renewal active_step (active &#8594; active)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re-issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">active_step (active &#8594; active)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Review</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">active_step (active &#8594; active)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">finish (active &#8594; completed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abort (active &#8594; aborted)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Mappings like this are specified in the <code>ACTION</code> archetypes for the Instruction. When an <code>ACTION</code> instance is committed to the EHR, the <code>ISM_TRANSITION</code> object records the step performed and the ISM state and transition. The careflow step must be one of the steps from the corresponding Instruction.</p>
</div>
<div class="paragraph">
<p>An optional <code><em>reason</em></code> property (of type <code>List&lt;DV_TEXT&gt;</code>) is provided in the <code>ISM_TRANSITION</code> class in order to enable one or more specific reasons for the step having occurred to be recorded.</p>
</div>
<div class="paragraph">
<p>The following section provides details of how archetypes are used to represent such mappings.</p>
</div>
</div>
<div class="sect4">
<h5 id="_relationship_to_archetypes"><a class="anchor" href="#_relationship_to_archetypes"></a>8.2.5.8. Relationship to Archetypes</h5>
<div class="paragraph">
<p>Much of the semantics of particular Instructions and Actions derive from archetypes. Currently, archetypes are used to define two groups of Instruction semantics. The first is the descriptions of activities that are defined in Instructions (<code>ACTIVITY</code>.<code><em>description</em></code>) and executed in Actions (<code>ACTION</code>.<code><em>description</em></code>). These descriptions are always of the same form for any given Instruction, and it is highly desirable to have the same archetype component for both. An example is where the description is of a medication, commonly consisting of a tree or list of ten or more elements describing the drug, its name, form, dose, route and so on. The same information structure is needed in the Instruction, where it defines what is to be administered, and in the Action, where it describes what has been administered. In any particular instance, there may be small differences in what was administered (e.g. dose or route are modified) even though the archetype model will be the same for both.</p>
</div>
<div class="paragraph">
<p>In terms of archetypes therefore, definition of say two <code>ACTIVITYs</code> in an <code>INSTRUCTION</code> (see example illustrated below) will actually create separate archetypes of the Activity structures, each of which will be one of the subtypes of <code>ITEM_STRUCTURE</code> (since this is the type of <code>ACTIVITY</code>.<code><em>description</em></code> and <code>ACTION</code>.<code><em>description</em></code>). The archetypes will then be used by both the <code>INSTRUCTION</code> archetype and the <code>ACTION</code> archetype, via the archetype slot mechanism (i.e. the standard way of composing archetypes from other archetypes; see <code>use_archetype</code> statements in the figure below).</p>
</div>
<div id="instruction_and_action_archetypes" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/instruction_and_action_archetypes.png" alt="instruction and action archetypes" width="70%">
</div>
<div class="title">Figure 25. Instruction and Action Archetypes</div>
</div>
<div class="paragraph">
<p>The second category of archetypable semantics is the correspondence between steps in a healthcare business process and the standard instruction state machine, as described above. This mapping is an archetype of the <code><em>ism_transition</em></code> attribute of an <code>ACTION</code> attribute, and therefore defines part of the <code>ACTION</code> archetype. The figure <a href="#instruction_and_action_archetypes">Instruction and Action Archetypes</a> shows how logical archetype elements in the archetyped editor environment corresponds to the resulting archetypes.</p>
</div>
<div class="paragraph">
<p>Consequently, the set of archetypes defining the clinical semantics of a specific kind of intervention will normally consists of archetypes of <code>INSTRUCTION</code>, <code>ACTION</code> and potentially component archetypes of the <code>ITEM_STRUCTURE</code> classes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_clinical_workflow_definition"><a class="anchor" href="#_clinical_workflow_definition"></a>8.2.6. Clinical Workflow Definition</h4>
<div class="paragraph">
<p>Clinical workflows exist at multiple hierarchical levels, from the health system level (reduce diabetes costs; manage obesity) to the fine-grained (asthmatic medication prescription for a particular patient). At all levels, there are goals, actors and tasks designed to satisfy the goals. At a coarse-grained business process level, workflows may be enacted by more than one actor, and may encompass the whole cycle of Observation, Diagnosis, Instruction and Action. For example a workflow describing the steps "prescribe", "dispense", "administer", "repeat", "review" and so on, around a medication order might include GP, pharmacist, patient as actors. At the finer level of an actual drug or therapy administration, there is usually a single agent or group that performs a specific task, usually within one provider institution, or at home. The correspondence between workflows at these different levels and particular patients, rather than just categories of patients (e.g. all insulin-dependent diabetics), typically increases at finer levels of granularity. Thus from the point of view of automation, it is likely to be fine-grained workflows that have patient-specific definitions which would reasonably appear in the EHR. Most typical medication administrations are in this category. How automated workflow definitions at higher levels of organisational hierarchy are represented and coordinated with lower-level automated workflows is known to be a difficult problem generally, and given that health computing is generally more complex than most domains, implementation of distributed, coordinated (or "orchestrated" or "choreographed", to use the terms of the workflow community) clinical workflows is likely to be some years off.</p>
</div>
<div class="paragraph">
<p>In this context, the possible scope for formal workflow definition in openEHR appears to be as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To enable the recording of links between openEHR Entries and workflow executions, e.g. a particular guideline. This allows openEHR data to be integrated with coarse-grained nonpatient specific workflows.</p>
</li>
<li>
<p>To support a standardised, interoperable representation of fine-grained formal workflow definitions for activities like medication administration.</p>
</li>
<li>
<p>To use formal workflow definitions only where automation is actually useful, and is likely to be used. The kind of workflows that are likely to be worth automating are those which run over several days, weeks or longer, i.e. where humans might easily forget to perform a step. In these cases, the output of the workflow system will be reminders for humans to do certain things at certain times, rather than direct machine automation of the task. Execution of such workflow definitions will generate entries in "worklists" for staff or other agents to perform. Examples include asthma drug management for a child and PAP recall management.</p>
</li>
<li>
<p>To ensure that any workflow definition takes account of other existing clinical activities, i.e. does not attempt to define all activities that might possibly be relevant. A simple example is a workflow for asthma medication administration probably does not need to explicitly model the taking of peak flow measurements, since this would normally be occurring anyway.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are various technical challenges with proposing a standard workflow formalism for clinical use. Firstly, executable workflow definitions are essentially structured programs, similar to programs in procedural languages, but with the addition of temporal logic operators, including alternative paths, parallel paths, wait operations, and also references to outside data sources and services. Recent work in clinical workflow modelling e.g. <a href="#Mller_2003">[Mller_2003]</a>, <a href="#Baretto_2005">[Baretto_2005]</a>, <a href="#Browne_2005">[Browne_2005]</a> appears to favour a structural (i.e. parse-tree) approach to representation, due to the need to compute potential modifications to an executing workflow, including dropping, replacing and moving nodes. (Whether such "live" modification of executing workflows is realistic from the designer&#8217;s point of view might be questionable, since it means that the design of each workflow has include every possible exceptional case at a detailed level.)</p>
</div>
<div class="paragraph">
<p>Secondly, the need to connect workflows to the outside world, i.e. data sources and services like notification and worklist management is crucial in making workflows and guidelines implementable. This problem is probably the main weakness of all guideline and workflow languages to date, including Arden, GLIF, and the various workflow languages such as those mentioned earlier.</p>
</div>
<div class="paragraph">
<p>The approach taken by the current release of openEHR in representing computable workflow is the following.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Where used at all, formal workflow definitions are expressed in terms of syntax, not structures, since syntax is always a more appropriate representation for persistence (just as object structures, i.e. parse trees are more appropriate for computation).</p>
</li>
<li>
<p>Access to patient data items are expressed within the syntax as symbolic queries.</p>
</li>
<li>
<p>Actions, such as requests to the notification service are represented as symbolic commands.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The entire definition of a workflow is expressed as an optional parsable string, in the wf_definition: <code>DV_PARSABLE</code> attribute of the <code>INSTRUCTION</code> class. Any syntax may currently be used. A workflow syntax is under development by the openEHR Foundation, which is designed to incorporate the relevant features of current workflow models and research, while integrating it into the openEHR type system and archetype framework. In particular, early versions of this syntax will show how patient data access and service commands can be expressed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class_descriptions_5"><a class="anchor" href="#_class_descriptions_5"></a>8.3. Class Descriptions</h3>
<div class="sect3">
<h4 id="_entry_class"><a class="anchor" href="#_entry_class"></a>8.3.1. ENTRY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>ENTRY (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The abstract parent of all <code>ENTRY</code> subtypes. An <code>ENTRY</code> is the root of a logical item of  hard  clinical information created in the  clinical statement  context, within a clinical session. There can be numerous such contexts in a clinical session. Observations and other Entry types only ever document information captured/created in the event documented by the enclosing Composition.</p>
</div>
<div class="paragraph">
<p>An <code>ENTRY</code> is also the minimal unit of information any query should return, since a whole <code>ENTRY</code> (including subparts) records spatial structure, timing information, and contextual information, as well as the subject and generator of the information.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONTENT_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>language</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Mandatory indicator of the localised language in which this Entry is written. Coded from openEHR Code Set  languages .</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>encoding</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Name of character set in which text values in this Entry are encoded. Coded from openEHR Code Set  character sets.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_participations</strong>: <code>List&lt;PARTICIPATION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Other participations at ENTRY level.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>workflow_id</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifier of externally held workflow engine data for this workflow execution, for this subject of care.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Id of human subject of this ENTRY, e.g.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>organ donor</p>
</li>
<li>
<p>foetus</p>
</li>
<li>
<p>a family member</p>
</li>
<li>
<p>another clinically relevant person.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider</strong>: <code>PARTY_PROXY</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional identification of provider of the information in this ENTRY, which might be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the patient</p>
</li>
<li>
<p>a patient agent, e.g. parent, guardian</p>
</li>
<li>
<p>the clinician</p>
</li>
<li>
<p>a device or software</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Generally only used when the recorder needs to make it explicit. Otherwise, Composition composer and other participants are assumed.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>subject_is_self</strong> (): <code>Boolean</code><br>
<strong><em>Post_condition</em></strong>: <code>Result implies subject.generating_type = PARTY_SELF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Returns True if this Entry is about the subject of the EHR, in which case the subject attribute is of type PARTY_SELF.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Language_valid</em></strong>: <code>code_set (Code_set_id_languages).has_code (language)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Encoding_valid</em></strong>: <code>code_set (Code_set_id_character_sets).has_code (encoding)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Subject_validity</em></strong>: <code>subject_is_self implies subject.generating_type = PARTY_SELF</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Other_participations_valid</em></strong>: <code>other_participations /= Void implies not other_participations.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Is_archetype_root</em></strong>: <code>is_archetype_root</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_admin_entry_class"><a class="anchor" href="#_admin_entry_class"></a>8.3.2. ADMIN_ENTRY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ADMIN_ENTRY</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Entry subtype for administrative information, i.e. information about setting up the clinical process, but not itself clinically relevant. Archetypes will define contained information.</p>
</div>
<div class="paragraph">
<p>Used for admistrative details of admission, episode, ward location, discharge, appointment (if not stored in a practice management or appointments system).
Not to be used for any clinically significant information.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Content of the Admin Entry.
The data of the Entry; modelled in archetypes.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_care_entry_class"><a class="anchor" href="#_care_entry_class"></a>8.3.3. CARE_ENTRY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>CARE_ENTRY (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>The abstract parent of all clinical <code>ENTRY</code> subtypes. A <code>CARE_ENTRY</code> defines protocol and guideline attributes for all clinical Entry subtypes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>protocol</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description of the method (i.e. how) the information in this entry was arrived at. For <code>OBSERVATIONs</code>, this is a description of the method or instrument used. For <code>EVALUATIONs</code>, how the evaluation was arrived at. For <code>INSTRUCTIONs</code>, how to execute the Instruction. This may take the form of references to guidelines, including manually followed and executable; knowledge references such as a paper in Medline; clinical reasons within a larger care process.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>guideline_id</strong>: <code>OBJECT_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional external identifier of guideline creating this Entry if relevant.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_observation_class"><a class="anchor" href="#_observation_class"></a>8.3.4. OBSERVATION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>OBSERVATION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Entry subtype for all clinical data in the past or present, i.e. which (by the time it is recorded) has already occurred. <code>OBSERVATION</code> data is expressed using the class <code>HISTORY&lt;T&gt;</code>, which guarantees that it is situated in time. <code>OBSERVATION</code> is used for all notionally objective (i.e. measured in some way) observations of phenomena, and patient-reported phenomena, e.g. pain.</p>
</div>
<div class="paragraph">
<p>Not to be used for recording opinion or future statements of any kind, including instructions, intentions, plans etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CARE_ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong>: <code>HISTORY&lt;ITEM_STRUCTURE&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The data of this observation, in the form of a history of values which may be of any complexity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>state</strong>: <code>HISTORY&lt;ITEM_STRUCTURE&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional recording of the state of subject of this observation during the observation process, in the form of a separate history of values which may be of any complexity. State may also be recorded within the History of the data attribute.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_evaluation_class"><a class="anchor" href="#_evaluation_class"></a>8.3.5. EVALUATION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>EVALUATION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Entry type for evaluation statements. Used for all kinds of statements which evaluate other information, such as interpretations of observations, diagnoses, differential diagnoses, hypotheses, risk assessments, goals and plans.</p>
</div>
<div class="paragraph">
<p>Should not be used for actionable statements such as medication orders - these are represented using the <code>INSTRUCTION</code> type.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CARE_ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The data of this evaluation, in the form of a spatial data structure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_instruction_class"><a class="anchor" href="#_instruction_class"></a>8.3.6. INSTRUCTION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>INSTRUCTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Used to specify actions in the future. Enables simple and complex specifications to be expressed, including in a fully-computable workflow form. Used for any actionable statement such as medication and therapeutic orders, monitoring, recall and review. Enough details must be provided for the specification to be directly executed by an actor, either human or machine.</p>
</div>
<div class="paragraph">
<p>Not to be used for plan items which are only specified in general terms.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CARE_ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>narrative</strong>: <code>DV_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Mandatory human-readable version of what the Instruction is about.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expiry_time</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional expiry date/time to assist determination of when an Instruction can be assumed to have expired. This helps prevent false listing of Instructions as Active when they clearly must have been terminated in some way or other.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>wf_definition</strong>: <code>DV_PARSABLE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional workflow engine executable expression of the Instruction.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>activities</strong>: <code>List&lt;ACTIVITY&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of all activities in Instruction.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Activities_valid</em></strong>: <code>activities /= Void implies not activities.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_activity_class"><a class="anchor" href="#_activity_class"></a>8.3.7. ACTIVITY Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ACTIVITY</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Defines a single activity within an Instruction, such as a medication administration.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>LOCATABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timing</strong>: <code>DV_PARSABLE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Timing of the activity, in the form of a parsable string. If used, the preferred syntax is ISO8601 'R' format, but other formats may be used including HL7 GTS.</p>
</div>
<div class="paragraph">
<p>May be omitted if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>timing is represented structurally in the <code><em>description</em></code> attribute (e.g. via archetyped elements), or</p>
</li>
<li>
<p>unavailable, e.g. imported legacy data; in such cases, the <code>INSTRUCTION.<em>narrative</em></code> should carry text that indicates the timing of its <code><em>activities</em></code>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>action_archetype_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Perl-compliant regular expression pattern, enclosed in  '//' delimiters, indicating the valid identifiers of archetypes for Actions corresponding to this Activity specification.</p>
</div>
<div class="paragraph">
<p>Defaults to  <code>/.*/</code>, meaning any archetype.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description of the activity, in the form of an archetyped structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Action_archteype_id_valid</em></strong>: <code>not action_archetype_ids.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_action_class"><a class="anchor" href="#_action_class"></a>8.3.8. ACTION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ACTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Used to record a clinical action that has been performed, which may have been ad hoc, or due to the execution of an Activity in an Instruction workflow. Every Action corresponds to a careflow step of some kind or another.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CARE_ENTRY</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>time</strong>: <code>DV_DATE_TIME</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Point in time at which this action completed.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ism_transition</strong>: <code>ISM_TRANSITION</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Details of transition in the Instruction state machine caused by this Action.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>instruction_details</strong>: <code>INSTRUCTION_DETAILS</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Details to of the Instruction that caused this Action to be performed, if there was one.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Description of the action that has been performed, in the form of an archetyped structure.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_instruction_details_class"><a class="anchor" href="#_instruction_details_class"></a>8.3.9. INSTRUCTION_DETAILS Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>INSTRUCTION_DETAILS</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Used to record details of the Instruction causing an Action.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PATHABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>instruction_id</strong>: <code>LOCATABLE_REF</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reference to causing Instruction.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>activity_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Identifier of Activity within Instruction, in the form of its archetype path.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>wf_details</strong>: <code>ITEM_STRUCTURE</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Various workflow engine state details, potentially including such things as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>condition that fired to cause this Action to be done (with actual variables substituted);</p>
</li>
<li>
<p>list of notifications which actually occurred (with all variables substituted);</p>
</li>
<li>
<p>other workflow engine state.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This specification does not currently define the actual structure or semantics of this field.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Activity_path_valid</em></strong>: <code>not activity_id.is_empty</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_ism_transition_class"><a class="anchor" href="#_ism_transition_class"></a>8.3.10. ISM_TRANSITION Class</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ISM_TRANSITION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p>Model of a transition in the Instruction State Machine, caused by a careflow step. The attributes document the careflow step as well as the ISM transition.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>PATHABLE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>current_state</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The ISM current state. Coded by openEHR terminology group Instruction states.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>transition</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The ISM transition which occurred to arrive in the current_state. Coded by openEHR terminology group  Instruction transitions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>careflow_step</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The step in the careflow process which occurred as part of generating this action, e.g.  dispense ,  start_administration. This attribute represents the clinical  label for the activity, as  opposed to current_state which represents  the state machine (ISM)  computable form. Defined in archetype.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>reason</strong>: <code>List&lt;DV_TEXT&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional possibility of adding one or more reasons for this careflow step having been taken. Multiple reasons may occur in medication management for example.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Current_state_valid</em></strong>: <code>terminology (Terminology_id_openehr).has_code_for_group_id (Group_id_instruction_states, current_state.defining_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div><div class="paragraph">
<p><strong><em>Transition_valid</em></strong>: <code>transition /= Void implies terminology (Terminology_id_openehr).
has_code_for_group_id (Group_id_instruction_transitions, transition.defining_code)</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_instance_structures"><a class="anchor" href="#_instance_structures"></a>8.4. Instance Structures</h3>
<div class="paragraph">
<p>The following subsections illustrate typical Entry instance structures. For guidance on how to best model particular clinical statements, see the archetype part of the <a href="/ckm">openEHR knowledge repository</a>.</p>
</div>
<div class="sect3">
<h4 id="_observation_2"><a class="anchor" href="#_observation_2"></a>8.4.1. OBSERVATION</h4>
<div class="sect4">
<h5 id="_heartrate_measurement_series"><a class="anchor" href="#_heartrate_measurement_series"></a>8.4.1.1. Heartrate Measurement Series</h5>
<div class="paragraph">
<p>The following figure illustrates three heartrate measurements over 10 minutes.</p>
</div>
<div id="periodic_series" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/periodic_series.png" alt="periodic series" width="80%">
</div>
<div class="title">Figure 26. Periodic series instance structure</div>
</div>
</div>
<div class="sect4">
<h5 id="_blood_pressure_with_protocol"><a class="anchor" href="#_blood_pressure_with_protocol"></a>8.4.1.2. Blood Pressure with Protocol</h5>
<div class="paragraph">
<p>The following figure illustrates a blood pressure observation with protocol.</p>
</div>
<div id="BP_measurement" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/BP_measurement.png" alt="BP measurement" width="70%">
</div>
<div class="title">Figure 27. Blood Pressure Measurement Observation</div>
</div>
</div>
<div class="sect4">
<h5 id="_glucose_tolerance_test"><a class="anchor" href="#_glucose_tolerance_test"></a>8.4.1.3. Glucose Tolerance Test</h5>
<div class="paragraph">
<p>An oral glucose tolerance test takes the following form, although the number and timing of the blood sugar levels may be slightly different in practice:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>challenge: no calories fasting from 12pm to 8am</p>
</li>
<li>
<p>datum: BSL - 8am</p>
</li>
<li>
<p>challenge: 75 g glucose orally - 8:01 am</p>
</li>
<li>
<p>datum: BSL - 9 am</p>
</li>
<li>
<p>datum: BSL - 10 am</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>OGTT is treated as a single clinical concept, and thus requires only one archetype. A typical instance structure is shown in the figure below. In this example, the three blood sugars are represented by <code>EVENTs</code>, with the fasting and glucose challenges being expressed as states on the relevant events.</p>
</div>
<div id="OGTT_structure" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/OGTT_structure.png" alt="OGTT structure" width="80%">
</div>
<div class="title">Figure 28. OGTT instance structure</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_evaluation_2"><a class="anchor" href="#_evaluation_2"></a>8.4.2. EVALUATION</h4>
<div class="sect4">
<h5 id="_partial_asthma_management_plan"><a class="anchor" href="#_partial_asthma_management_plan"></a>8.4.2.1. Partial Asthma Management Plan</h5>
<div class="paragraph">
<p>The following figure illustrates a partial asthma management plan in which monitoring (peak flow) with dependent actions (review and admission to ER) and therapy (bronchodilator) are shown. In a complete plan, symptom monitoring and other medications might be shown. The parts of the plan are linked to the root <code>EVALUATION</code> node via the <code><em>links</em></code>: <code>Set&lt;LINK&gt;</code> attribute inherited from the <code>LOCATABLE</code> class.</p>
</div>
<div id="partial_asthma_plan" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/partial_asthma_plan.png" alt="partial asthma plan" width="80%">
</div>
<div class="title">Figure 29. Partial Asthma Management Plan</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_instruction"><a class="anchor" href="#_instruction"></a>8.4.3. INSTRUCTION</h4>
<div class="sect4">
<h5 id="_chained_medication_order"><a class="anchor" href="#_chained_medication_order"></a>8.4.3.1. Chained Medication Order</h5>
<div class="paragraph">
<p>Often, a medication order for one drug consists of segments in which one or more of the administration details of route, form, frequency, dose etc is changed. In hospitals, intravenous antibiotics and pain relief drugs may be followed by a tablet form of the same drug to be taken orally. Other examples are common in general practice, such as the following order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>trade name = Panafcortelone; generic name = Prednisolone; form = tablets; dose = 25mg; route = oral; freq = bd x 3 days; od x 2 days.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The figure below illustrates the instance structure for this Instruction. Note that the timing attribute of the <code>ACTIVITY</code> instance is shown in human-readable form; in reality it will be a GTS string or similar (see Timing Specification section of openEHR Data Types IM).</p>
</div>
<div id="chained_medication_order" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/chained_medication_order.png" alt="chained medication order" width="80%">
</div>
<div class="title">Figure 30. Chained medication order</div>
</div>
</div>
<div class="sect4">
<h5 id="_multi_drug_therapy"><a class="anchor" href="#_multi_drug_therapy"></a>8.4.3.2. Multi-drug Therapy</h5>
<div class="paragraph">
<p>A common regime for treating duodenal ulcer and related complaints is using Losec with other drugs, such as in the following combination:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Losec 40 mg od x 4w or until no symptoms</p>
</li>
<li>
<p>amoxicillin 500 mg 3td x 7d</p>
</li>
<li>
<p>metronidizole 400 mg 3td x 7d</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Instruction for this therapy is illustrated below.</p>
</div>
<div id="multi_drug_therapy_instruction" class="imageblock text-center" style="text-align: center">
<div class="content">
<img src="diagrams/multi_drug_therapy_instruction.png" alt="multi drug therapy instruction" width="80%">
</div>
<div class="title">Figure 31. Multi-drug therapy Instruction</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary"><a class="anchor" href="#_glossary"></a>Appendix A: Glossary</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">openEHR Terms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HCA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Health care agent - any doctor, nurse or other recognised staff member, or software or device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HCF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Health care facility - any place where EHRs are kept</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Health care professional - any doctor, nurse or other recognised staff member of an HCF</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Clinical Terms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Care Pathway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A global care management strategy for a patient, showing management of health problems or issues in a time-based framework, similar to a project management view of an engineering work.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Episode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A series of clinical events linked in time, such as a hospital admission or a surgical episode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A problem as identified by the patient, e.g. "inability to do exercise due to breathing difficulty"; may be the object of wider health care, e.g. social workers, physiotherapists etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Problem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A health problem of the patient, as identified by its underlying medical cause, e.g. asthma; the object of medical care.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">IT Terms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application programmers interface - the software interface to a library or module.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microsofts Component Object Model; designed to enable integration of binary components obeying stated exported interfaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CORBA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Common Object Request Broker Architecture - an object-oriented middleware architecture enabling the construction of 3-tier systems, in which backend data providers (DBMSs etc) are known only by the services they export to the network. CORBA is an open standard managed by the Object Management Group (OMG).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DCOM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distributed version of Microsoft COM. Similar in its aim to CORBA.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ODMG-93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A standard for object databases, which includes an object definition language (ODL) for writing schemas, an object query language (OQL) for querying, and several language bindings.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_it_publications"><a class="anchor" href="#_general_it_publications"></a>General IT Publications</h3>
<div class="sect3">
<h4 id="_articles_books"><a class="anchor" href="#_articles_books"></a>Articles, Books</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Anderson_1996"></a>[Anderson_1996] Ross Anderson. <strong>Security in Clinical Information Systems</strong>. Available at <a href="http://www.cl.cam.ac.uk/users/rja14/policy11/policy11.html" class="bare">http://www.cl.cam.ac.uk/users/rja14/policy11/policy11.html</a>.</p>
</li>
<li>
<p><a id="Booch_1994"></a>[Booch_1994] Booch G. <strong>Object-Oriented Analysis and Design with applications. 2nd ed.</strong> Benjamin/Cummings 1994.</p>
</li>
<li>
<p><a id="Eiffel"></a>[Eiffel] Meyer B. <strong>Eiffel the Language (2nd Ed).</strong> Prentice Hall, 1992.</p>
</li>
<li>
<p><a id="Fowler_1997"></a>[Fowler_1997] Fowler M. <strong>Analysis Patterns: Reusable Object Models.</strong> Addison Wesley 1997</p>
</li>
<li>
<p><a id="Fowler_Scott_2000"></a>[Fowler_Scott_2000] Fowler M, Scott K. <strong>UML Distilled (2nd Ed.).</strong> Addison Wesley Longman 2000.</p>
</li>
<li>
<p><a id="Gray_reuter_1993"></a>[Gray_reuter_1993] Gray J, Reuter A. <strong>Transaction Processing Concepts and Techniques.</strong> Morgan Kaufmann 1993.</p>
</li>
<li>
<p><a id="Hein_2002"></a>[Hein_2002] Hein J L. Discrete Structures, Logic and Computability (2nd Ed). Jones and Bartlett 2002.</p>
</li>
<li>
<p><a id="Hntynka_2004"></a>[Hntynka_2004] Hntynka P, Plil F. <strong>Distributed Versioning Model for MOF.</strong> Proceedings of WISICT 2004, Cancun, Mexico, A volume in the ACM international conference proceedings series, published by Computer Science Press, Trinity College Dublin Ireland, 2004.</p>
</li>
<li>
<p><a id="Kifer_Lausen_Wu_1995"></a>[Kifer_Lausen_Wu_1995] Kifer M, Lausen G, Wu J. <strong>Logical Foundations of Object-Oriented and FrameBased Languages.</strong> JACM May 1995. See See <a href="ftp://ftp.cs.sunysb.edu/pub/TechReports/kifer/flogic.pdf" class="bare">ftp://ftp.cs.sunysb.edu/pub/TechReports/kifer/flogic.pdf</a>.</p>
</li>
<li>
<p><a id="Kilov_1994"></a>[Kilov_1994] Kilov H, Ross J. <strong>Information Modelling - an object-oriented approach.</strong> Prentice Hall 1994.</p>
</li>
<li>
<p><a id="Maier_2000"></a>[Maier_2000] Maier M. <strong>Architecting Principles for Systems-of-Systems.</strong> Technical Report, University of Alabama in Huntsville. 2000. Available at <a href="http://www.infoed.com/Open/PAPERS/systems.htm" class="bare">http://www.infoed.com/Open/PAPERS/systems.htm</a></p>
</li>
<li>
<p><a id="Martin"></a>[Martin] Martin P. <strong>Translations between UML, OWL, KIF and the WebKB-2 languages (For-Taxonomy, Frame-CG, Formalized English)</strong>. May/June 2003. Available at <a href="http://www.webkb.org/doc/model/comparisons.html" class="bare">http://www.webkb.org/doc/model/comparisons.html</a> as at Aug 2004.</p>
</li>
<li>
<p><a id="Meyer_OOSC2"></a>[Meyer_OOSC2] Meyer B. <strong>Object-oriented Software Construction, 2nd Ed.</strong> Prentice Hall 1997</p>
</li>
<li>
<p><a id="Object_Z"></a>[Object_Z] Smith G. <strong>The Object Z Specification Language</strong>. Kluwer Academic Publishers 2000. See <a href="http://www.itee.uq.edu.au/~smith/objectz.html" class="bare">http://www.itee.uq.edu.au/~smith/objectz.html</a> .</p>
</li>
<li>
<p><a id="Richards_1998"></a>[Richards_1998] Richards E G. <strong>Mapping Time - The Calendar and its History.</strong> Oxford University Press 1998.</p>
</li>
<li>
<p><a id="Sowa_2000"></a>[Sowa_2000] Sowa J F. <strong>Knowledge Representation: Logical, philosophical and Computational Foundations.</strong> 2000, Brooks/Cole, California.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_online_resources"><a class="anchor" href="#_online_resources"></a>Online Resources</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[<a id="cov_contra"></a>] Wikipedia. <strong>Covariance and contravariance.</strong> See <a href="https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science" class="bare">https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science</a>) .</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_standards"><a class="anchor" href="#_standards"></a>Standards</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="OCL"></a>[OCL] <strong>The Object Constraint Language 2.0.</strong> Object Management Group (OMG). Available at <a href="http://www.omg.org/cgi-bin/doc?ptc/2003-10-14" class="bare">http://www.omg.org/cgi-bin/doc?ptc/2003-10-14</a> .</p>
</li>
<li>
<p><a id="IEEE_828"></a>[IEEE_828] IEEE. <strong>IEEE 828-2005: standard for Software Configuration Management Plans.</strong></p>
</li>
<li>
<p><a id="ISO_8601"></a>[ISO_8601] <strong>ISO 8601 standard describing formats for representing times, dates, and durations.</strong> See <a href="https://en.wikipedia.org/wiki/ISO_8601" class="bare">https://en.wikipedia.org/wiki/ISO_8601</a>.</p>
</li>
<li>
<p><a id="ISO_2788"></a>[ISO_2788] ISO. ISO 2788 <strong>Guide to Establishment and development of monolingual thesauri</strong>.</p>
</li>
<li>
<p><a id="ISO_5964"></a>[ISO_5964] ISO. ISO 5964 <strong>Guide to Establishment and development of multilingual thesauri</strong>.</p>
</li>
<li>
<p><a id="Perl_regex"></a>[Perl_regex] Perl.org. <strong>Perl Regular Expressions</strong>. Available at <a href="http://perldoc.perl.org/perlre.html" class="bare">http://perldoc.perl.org/perlre.html</a> .</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_publications_e_health"><a class="anchor" href="#_publications_e_health"></a>Publications - e-Health</h3>
<div class="sect3">
<h4 id="_articles_books_2"><a class="anchor" href="#_articles_books_2"></a>Articles, Books</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Beale_2000"></a>[Beale_2000] Beale T. <strong>Archetypes: Constraint-based Domain Models for Future-proof Information Systems.</strong> 2000.  Available at <a href="http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_web_2000.pdf" class="bare">http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_web_2000.pdf</a> .</p>
</li>
<li>
<p><a id="Beale_2002"></a>[Beale_2002] Beale T. <strong>Archetypes: Constraint-based Domain Models for Future-proof Information Systems.</strong> Eleventh OOPSLA Workshop on Behavioral Semantics: Serving the Customer (Seattle, Washington, USA, November 4, 2002). Edited by Kenneth Baclawski and Haim Kilov. Northeastern University, Boston, 2002, pp. 16-32. Available at <a href="http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_oopsla_2002.pdf" class="bare">http://www.openehr.org/files/resources/publications/archetypes/archetypes_beale_oopsla_2002.pdf</a> .</p>
</li>
<li>
<p><a id="Beale_Heard_2007"></a>[Beale_Heard_2007] Beale T, Heard S. <strong>An Ontology-based Model of Clinical Information.</strong> 2007. pp760-764 Proceedings MedInfo 2007, K. Kuhn et al. (Eds), IOS Publishing 2007. See <a href="http://www.openehr.org/publications/health_ict/MedInfo2007-BealeHeard.pdf" class="bare">http://www.openehr.org/publications/health_ict/MedInfo2007-BealeHeard.pdf</a>.</p>
</li>
<li>
<p><a id="Cimino_1997"></a>[Cimino_1997] Cimino J J. <strong>Desiderata for Controlled Medical vocabularies in the Twenty-First Century.</strong> IMIA WG6 Conference, Jacksonville, Florida, Jan 19-22, 1997.</p>
</li>
<li>
<p><a id="Elstein_1987"></a>[Elstein_1987] Elstein AS, Shulman LS, Sprafka SA. <strong>Medical problem solving: an analysis of clinical reasoning.</strong> Cambridge, MA: Harvard University Press 1987.</p>
</li>
<li>
<p><a id="Elstein_Schwarz_2002"></a>[Elstein_Schwarz_2002] Elstein AS, Schwarz A. <strong>Evidence base of clinical diagnosis: Clinical problem solving and diagnostic decision making: selective review of the cognitive literature.</strong> BMJ 2002;324;729-732.</p>
</li>
<li>
<p><a id="Ingram_1995"></a>[Ingram_1995] Ingram D. <strong>The Good European Health Record Project.</strong> Laires, Laderia Christensen, Eds. Health in the New Communications Age. Amsterdam: IOS Press; 1995; pp. 66-74.</p>
</li>
<li>
<p><a id="Object_Z"></a>[Object_Z] Smith G. <strong>The Object Z Specification Language</strong>. Kluwer Academic Publishers 2000. See <a href="http://www.itee.uq.edu.au/~smith/objectz.html" class="bare">http://www.itee.uq.edu.au/~smith/objectz.html</a> .</p>
</li>
<li>
<p><a id="GLIF"></a>[GLIF] Lucila Ohno-Machado, John H. Gennari, Shawn N. Murphy, Nilesh L. Jain, Samson W. Tu, Diane E. Oliver, Edward Pattison-Gordon, Robert A. Greenes, Edward H. Shortliffe, and G. Octo Barnett.  <strong>The GuideLine Interchange Format - A Model for Representing Guidelines</strong>. J Am Med Inform Assoc. 1998 Jul-Aug; 5(4): 357372.</p>
</li>
<li>
<p><a id="Rector_1994"></a>[Rector_1994] Rector A L, Nowlan W A, Kay S. <strong>Foundations for an Electronic Medical Record.</strong> The IMIA Yearbook of Medical Informatics 1992 (Eds. van Bemmel J, McRay A). Stuttgart Schattauer 1994.</p>
</li>
<li>
<p><a id="Rector_1999"></a>[Rector_1999] Rector A L. <strong>Clinical terminology: why is it so hard?</strong> Methods Inf Med. 1999 Dec;38(4-5):239-52. Available at <a href="http://www.cs.man.ac.uk/~rector/papers/Why-is-terminology-hard-single-r2.pdf" class="bare">http://www.cs.man.ac.uk/~rector/papers/Why-is-terminology-hard-single-r2.pdf</a> .</p>
</li>
<li>
<p><a id="Sottile_1999"></a>[Sottile_1999] Sottile P.A., Ferrara F.M., Grimson W., Kalra D., and Scherrer J.R. <strong>The holistic healthcare information system. Toward an Electronic Health Record Europe.</strong> 1999. Nov 1999; 259-266.</p>
</li>
<li>
<p><a id="Van_de_Velde_Degoulet_2003"></a>[Van_de_Velde_Degoulet_2003] Van de Velde R, Degoulet P. <strong>Clinical Information Systems: A Component-Based Approach.</strong> 2003. Springer-Verlag New York.</p>
</li>
<li>
<p><a id="Weed_1969"></a>[Weed_1969] Weed LL. <strong>Medical records, medical education and patient care. 6 ed.</strong> Chicago: Year Book Medical Publishers Inc. 1969.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_standards_2"><a class="anchor" href="#_standards_2"></a>Standards</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="Corbamed_PIDS"></a>[Corbamed_PIDS] Object Management Group. <strong>Person Identification Service.</strong> March 1999. See <a href="http://www.omg.org/spec/PIDS/" class="bare">http://www.omg.org/spec/PIDS/</a> .</p>
</li>
<li>
<p><a id="Corbamed_LQS"></a>[Corbamed_LQS] Object Management Group. <strong>Lexicon Query Service.</strong> March 1999. <a href="http://www.omg.org/spec/LQS/" class="bare">http://www.omg.org/spec/LQS/</a> .</p>
</li>
<li>
<p><a id="hl7_cda"></a>[hl7_cda] HL7 International. <strong>HL7 version Clinical Document Architecture (CDA)</strong>. Available at <a href="http://www.hl7.org.uk/version3group/cda.asp" class="bare">http://www.hl7.org.uk/version3group/cda.asp</a>.</p>
</li>
<li>
<p><a id="HL7v3_ballot2"></a>[HL7v3_ballot2] HL7 International. <strong>HL7 version 3 2nd Ballot specification</strong>. Available at <a href="http://www.hl7.org" class="bare">http://www.hl7.org</a>.</p>
</li>
<li>
<p><a id="HL7v3_data_types"></a>[HL7v3_data_types] Schadow G, Biron P. <strong>HL7 version 3 deliverable: Version 3 Data Types.</strong> (2nd ballot 2002 version).</p>
</li>
<li>
<p><a id="hl7_v3_rim"></a>[hl7_v3_rim] HL7 International. <strong>HL7 v3 RIM</strong>. See <a href="http://www.hl7.org" class="bare">http://www.hl7.org</a> .</p>
</li>
<li>
<p><a id="hl7_arden"></a>[hl7_arden] HL7 International. <strong>HL7 Arden Syntax</strong>. See <a href="http://www.hl7.org/Special/committees/Arden/index.cfm" class="bare">http://www.hl7.org/Special/committees/Arden/index.cfm</a> .</p>
</li>
<li>
<p><a id="hl7_gello"></a>[hl7_gello] HL7 International. <strong>GELLO Decision Support Language</strong>. <a href="http://www.hl7.org/implement/standards/product_brief.cfm?product_id=5" class="bare">http://www.hl7.org/implement/standards/product_brief.cfm?product_id=5</a> .</p>
</li>
<li>
<p><a id="IHTSDO_URIs"></a>[IHTSDO_URIs] IHTSDO. SNOMED CT URI Standard. <a href="http://ihtsdo.org/fileadmin/user_upload/doc/download/doc_UriStandard_Current-en-US_INT_20140527.pdf?ok" class="bare">http://ihtsdo.org/fileadmin/user_upload/doc/download/doc_UriStandard_Current-en-US_INT_20140527.pdf?ok</a>.</p>
</li>
<li>
<p><a id="NLM_UML_list"></a>[NLM_UML_list] National Library of Medicine. UMLS Terminologies List. <a href="http://www.nlm.nih.gov/research/umls/metaa1.html" class="bare">http://www.nlm.nih.gov/research/umls/metaa1.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-1"></a>[ISO_13606-1] <strong>ISO 13606-1 - Electronic healthcare record communication - Part 1: Extended architecture.</strong> See <a href="https://www.iso.org/standard/40784.html" class="bare">https://www.iso.org/standard/40784.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-2"></a>[ISO_13606-2] <strong>ISO 13606-2 - Electronic healthcare record communication - Part 2: Domain term list.</strong> See <a href="https://www.iso.org/standard/50119.html" class="bare">https://www.iso.org/standard/50119.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-3"></a>[ISO_13606-3] <strong>ISO 13606-3 - Electronic healthcare record communication - Part 3: Distribution rules.</strong> See <a href="https://www.iso.org/standard/50120.html" class="bare">https://www.iso.org/standard/50120.html</a>.</p>
</li>
<li>
<p><a id="ISO_13606-4"></a>[ISO_13606-4] <strong>ISO 13606-4 - Electronic Healthcare Record Communication standard Part 4: Messages for the exchange of information.</strong> See <a href="https://www.iso.org/standard/50121.html" class="bare">https://www.iso.org/standard/50121.html</a>.</p>
</li>
<li>
<p><a id="ISO_18308"></a>[ISO_18308] Schloeffel P. (Editor). <strong>Requirements for an Electronic Health Record Reference Architecture.</strong> See <a href="https://www.iso.org/standard/52823.html" class="bare">https://www.iso.org/standard/52823.html</a>.</p>
</li>
<li>
<p><a id="ISO_20514"></a>[ISO_20514] ISO. <strong>The Integrated Care EHR.</strong> See <a href="https://www.iso.org/standard/39525.html" class="bare">https://www.iso.org/standard/39525.html</a> .</p>
</li>
<li>
<p><a id="ISO_13940"></a>[ISO_13940] ISO. <strong>Health informatics - System of concepts to support continuity of care.</strong> See <a href="https://www.iso.org/standard/58102.html" class="bare">https://www.iso.org/standard/58102.html</a>.</p>
</li>
<li>
<p><a id="ISO_22600"></a>[ISO_22600] ISO. <strong>Health informatics - Privilege management and access control.</strong> See <a href="https://www.iso.org/standard/62653.html" class="bare">https://www.iso.org/standard/62653.html</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_projects"><a class="anchor" href="#_projects"></a>Projects</h4>
<div class="olist bibliography">
<ol class="bibliography">
<li>
<p><a id="EHCR_supA_14"></a>[EHCR_supA_14] Dixon R, Grubb P A, Lloyd D, and Kalra D. <strong>Consolidated List of Requirements. EHCR Support Action Deliverable 1.4.</strong> European Commission DGXIII, Brussels; May 2001 59pp Available from <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/del1-4v1_3.PDF" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/del1-4v1_3.PDF</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_35"></a>[EHCR_supA_35] Dixon R, Grubb P, Lloyd D. <strong>EHCR Support Action Deliverable 3.5: "Final Recommendations to CEN for future work".</strong> Oct 2000. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCRSupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCRSupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_24"></a>[EHCR_supA_24] Dixon R, Grubb P, Lloyd D. <strong>EHCR Support Action Deliverable 2.4 "Guidelines on Interpretation and implementation of CEN EHCRA".</strong> Oct 2000. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="EHCR_supA_31_32"></a>[EHCR_supA_31_32] Lloyd D, et al. <strong>EHCR Support Action Deliverable 3.1&amp;3.2 Interim Report to CEN.</strong> July 1998. Available at <a href="http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm" class="bare">http://www.chime.ucl.ac.uk/HealthI/EHCR-SupA/documents.htm</a>.</p>
</li>
<li>
<p><a id="GEHR_del_4"></a>[GEHR_del_4] <strong>Deliverable 4: GEHR Requirements for Clinical Comprehensiveness.</strong> GEHR Project 1992. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-4.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-4.pdf</a> .</p>
</li>
<li>
<p><a id="GEHR_del_7"></a>[GEHR_del_7] <strong>Deliverable 7: Clinical Functional Specifications.</strong> GEHR Project 1993.</p>
</li>
<li>
<p><a id="GEHR_del_8"></a>[GEHR_del_8] <strong>Deliverable 8: Ethical and legal Requirements of GEHR Architecture and Systems.</strong> GEHR Project 1994. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-8.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-8.pdf</a> .</p>
</li>
<li>
<p><a id="GEHR_del_19_20_24"></a>[GEHR_del_19_20_24] <strong>Deliverable 19,20,24: GEHR Architecture.</strong> GEHR Project 30/6/1995. Available at <a href="http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-19_20_24.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr/gehr_deliverable-19_20_24.pdf</a> .</p>
</li>
<li>
<p><a id="GeHR_AUS"></a>[GeHR_AUS] Heard S, Beale T. <strong>The Good Electronic Health Record (GeHR) (Australia).</strong> See <a href="http://www.openehr.org/resources/related_projects#gehraus" class="bare">http://www.openehr.org/resources/related_projects#gehraus</a> .</p>
</li>
<li>
<p><a id="GeHR_Aus_gpcg"></a>[GeHR_Aus_gpcg] Heard S. <strong>GEHR Project Australia, GPCG Trial.</strong> See <a href="http://www.openehr.org/resources/related_projects#gehraus" class="bare">http://www.openehr.org/resources/related_projects#gehraus</a> .</p>
</li>
<li>
<p><a id="GeHR_Aus_req"></a>[GeHR_Aus_req] Beale T, Heard S. <strong>GEHR Technical Requirements.</strong> See <a href="http://www.openehr.org/files/resources/related_projects/gehr_australia/gehr_requirements.pdf" class="bare">http://www.openehr.org/files/resources/related_projects/gehr_australia/gehr_requirements.pdf</a> .</p>
</li>
<li>
<p><a id="Synapses_req_A"></a>[Synapses_req_A] Kalra D. (Editor). <strong>The Synapses User Requirements and Functional Specification (Part A).</strong> EU Telematics Application Programme, Brussels; 1996; The Synapses Project: Deliverable USER 1.1.1a. 6 chapters, 176 pages.</p>
</li>
<li>
<p><a id="Synapses_req_B"></a>[Synapses_req_B] Grimson W. and Groth T. (Editors). <strong>The Synapses User Requirements and Functional Specification (Part B).</strong> EU Telematics Application Programme, Brussels; 1996; The Synapses Project: Deliverable USER 1.1.1b.</p>
</li>
<li>
<p><a id="Synapses_odp"></a>[Synapses_odp] Kalra D. (Editor). <strong>Synapses ODP Information Viewpoint.</strong> EU Telematics Application Programme, Brussels; 1998; The Synapses Project: Final Deliverable. 10 chapters, 64 pages. See <a href="http://discovery.ucl.ac.uk/66235/" class="bare">http://discovery.ucl.ac.uk/66235/</a> .</p>
</li>
<li>
<p><a id="synex"></a>[synex] University College London. <strong>SynEx project</strong>. <a href="http://www.chime.ucl.ac.uk/HealthI/SynEx/" class="bare">http://www.chime.ucl.ac.uk/HealthI/SynEx/</a> .</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-11-08 14:56:12 GMT
</div>
</div>
</body>
</html>